!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("dojo/aspect"),require("dijit/registry"),require("dojo/_base/connect"));else if("function"==typeof define&&define.amd)define(["react","dojo/aspect","dijit/registry","dojo/_base/connect"],t);else{var i="object"==typeof exports?t(require("react"),require("dojo/aspect"),require("dijit/registry"),require("dojo/_base/connect")):t(e.react,e["dojo/aspect"],e["dijit/registry"],e["dojo/_base/connect"]);for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(window,(function(e,t,i,o){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=24)}([function(t,i){t.exports=e},function(e,t,i){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var a=n.apply(null,o);a&&e.push(a)}else if("object"===r)for(var s in o)i.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},function(e,t,i){var o;void 0===(o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedUtils=void 0;var i=function(){function e(){}return e.parseStyle=function(e){void 0===e&&(e="");try{return e.split(";").reduce((function(e,t){var i=t.split(":");2===i.length&&(e[i[0].trim().replace(/(-.)/g,(function(e){return e[1].toUpperCase()}))]=i[1].trim());return e}),{})}catch(t){window.console.log("Failed to parse style",e,t)}return{}},e.validateCompatibility=function(e){var t=e.listViewEntity,i=e.targetListView,o=i&&i.datasource&&i.datasource.type;if(!i){var n="This widget is unable to find a list view ";return n+=t?"with the supplied entity '"+t+"'":"to connect"}return o&&"database"!==o&&"xpath"!==o?"This widget is only compatible with list view data source type 'Database' and 'XPath'":i&&i._datasource&&i._entity&&i.update?i._entity&&void 0!==t&&t!==i._entity?'The supplied entity "'+e.listViewEntity+'" does not belong to list view data source':"":"This widget version is not compatible with this Mendix version"},e.findTargetNode=function(e){for(var t=null;!t&&e&&!((t=e.querySelectorAll(".mx-listview")[0])||e.isEqualNode(document)||!e.classList||e.classList.contains("mx-incubator")||e.classList.contains("mx-offscreen"));)e=e.parentNode;return t},e.delay=function(e,t,i){return void 0===i&&(i=500),setTimeout((function o(){t()?e():setTimeout(o,i)}),i)},e}();t.SharedUtils=i}.apply(t,[i,t]))||(e.exports=o)},function(e,t,i){var o,n;o=[i,t,i(8)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedContainerUtils=void 0;var o=function(){function e(){}return e.findTargetListView=function(e,t){for(var o;e;){for(var n=e.querySelectorAll(".mx-listview"),r=0;r<n.length;r++){if((o=i.byNode(n.item(r)))&&!t)return o;if(o&&o._entity===t)return o}if(e.isEqualNode(document)||!e.classList||e.classList.contains("mx-incubator")||e.classList.contains("mx-offscreen"))break;e=e.parentNode}return o},e}();t.SharedContainerUtils=o}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function s(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,o,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};void 0===(o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTranslations=t.mxTranslation=t.hideLoader=t.showLoader=t.setListNodeToEmpty=t.getListNode=t.persistListViewHeight=t.resetListViewHeight=t.showLoadMoreButton=t.hideLoadMoreButton=void 0,t.hideLoadMoreButton=function(e){e&&e.classList.add("hide-load-more")},t.showLoadMoreButton=function(e){e&&e.domNode.classList.remove("hide-load-more")},t.resetListViewHeight=function(e){var t=e.querySelector("ul");t.style.removeProperty("height"),t.style.removeProperty("overflow")},t.persistListViewHeight=function(e){var t=e.querySelector("ul");t.offsetHeight>0&&(t.style.height=t.offsetHeight+"px",t.style.overflow="hidden")},t.getListNode=function(e){return e.querySelector("ul")},t.setListNodeToEmpty=function(e){mx.logger.debug("setListNodeToEmpty");for(var t=e.querySelector("ul");t.firstChild;)t.removeChild(t.firstChild)},t.showLoader=function(e){mx.logger.debug("showLoader"),e.domNode.classList.add("widget-pagination-loading")},t.hideLoader=function(e){mx.logger.debug("hideLoader"),e.domNode.classList.remove("widget-pagination-loading")},t.mxTranslation=function(e,t,i,o,n){var r=null!=n?n:"[No translation]";return o?window.__widgets_translations&&(r=window.__widgets_translations[e+"."+t]||n||"[No translation]"):r=mx.session.getConfig("uiconfig.translations."+e+"."+t)||window.mx.session.getConfig("uiconfig.translations")[e+"."+t]||n||"[No translation]",i.reduce((function(e,t,i){return e.split("{"+(i+1)+"}").join(t)}),r)},t.getTranslations=function(){return r(void 0,void 0,void 0,(function(){var e,t,i,o;return a(this,(function(r){switch(r.label){case 0:return e=window.mx.session.getConfig("locale.code"),[4,fetch("/metamodel.json")];case 1:return[4,r.sent().json()];case 2:return(t=r.sent())&&t.systemTexts?(i=t.systemTexts,o=t.languages.indexOf(e),window.__widgets_translations=Object.keys(i).reduce((function(e,t){var r;return n(n({},e),((r={})[t]=i[t][o],r))}),{})):mx.logger.error("Error while loading translations"),[2]}}))}))}}.apply(t,[i,t]))||(e.exports=o)},function(e,i){e.exports=t},function(e,t,i){var o,n;o=[i,t,i(0),i(1)],void 0===(n=function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=void 0,t.Alert=function(e){var t=e.bootstrapStyle,n=e.className,r=e.children;return r?i.createElement("div",{className:o("alert alert-"+t,n)},r):null},t.Alert.displayName="Alert",t.Alert.defaultProps={bootstrapStyle:"danger"}}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n,r=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,n++)o[n]=r[a];return o};o=[i,t,i(5),i(2),i(3),i(4),i(9),i(34)],void 0===(n=function(e,t,i,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataSourceHelper=void 0;var s=function(){function e(e){this.initialLoad=!0,this.delay=50,this.store={constraints:{_none:{}},sorting:{}},this.updateInProgress=!1,this.requiresUpdate=!1,this.sorting=[],this.constraints=[],this.widget=e,this.originalSort=window.mx.isOffline()?this.widget._datasource._sort:this.widget._datasource._sorting,i.after(e,"storeState",(function(t){(mx.logger.debug("after storeState"),e.__customWidgetDataSourceHelper)&&(t("lvcSorting",e.__customWidgetDataSourceHelper.sorting.length>0?e.__customWidgetDataSourceHelper.sorting:e.__customWidgetDataSourceHelper.originalSort),t("lvcConstraints",e.__customWidgetDataSourceHelper.constraints),t("lvcPaging",e.__customWidgetDataSourceHelper.paging))}),!0)}return e.getInstance=function(t,i){var r=t&&t.parentElement,a=n.SharedContainerUtils.findTargetListView(r,i),s=o.SharedUtils.validateCompatibility({listViewEntity:i,targetListView:a});if(!s&&a)return a.__customWidgetDataSourceHelper||(a.__customWidgetDataSourceHelper=new e(a)),a.getState("lvcPersistState",!1)||this.hideContent(a.domNode),a.__customWidgetDataSourceHelper;throw new Error(s)},e.prototype.setSorting=function(e,t,i){void 0===i&&(i=!1),this.store.sorting={},this.store.sorting[e]=t,this.registerUpdate(i)},e.prototype.setConstraint=function(e,t,i,o){var n;void 0===i&&(i="_none"),void 0===o&&(o=!1);var r=i.trim()||"_none";this.store.constraints[r]?this.store.constraints[r][e]=t:this.store.constraints[r]=((n={})[e]=t,n),this.registerUpdate(o)},e.prototype.getListView=function(){return this.widget},e.prototype.registerUpdate=function(e){var t=this;mx.logger.debug("DataSourceHelper .registerUpdate"),this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),this.updateInProgress?this.requiresUpdate=!0:this.timeoutHandle=window.setTimeout((function(){mx.logger.debug("DataSourceHelper .execute"),t.updateInProgress=!0,t.iterativeUpdateDataSource(e)}),this.delay)},e.prototype.iterativeUpdateDataSource=function(e){var t=this;this.updateDataSource((function(){t.requiresUpdate?(t.requiresUpdate=!1,t.iterativeUpdateDataSource(e)):t.updateInProgress=!1}),e)},e.prototype.updateDataSource=function(t,i){var o,n,a,s,u,c=this,l=Object.keys(this.store.sorting).map((function(e){return c.store.sorting[e]})).filter((function(e){return e[0]&&e[1]}));if(l.length||(l=this.originalSort),window.mx.isOffline()){for(var p=Object.keys(this.store.constraints._none).map((function(e){return c.store.constraints._none[e]})),d=p.filter((function(e){return e.value})),g=p.filter((function(e){return e.operator})),f=[],h=0,m=Object.keys(this.store.constraints).filter((function(e){return"_none"!==e}));h<m.length;h++){for(var v=m[h],y=[],b=0,S=Object.keys(this.store.constraints[v]);b<S.length;b++){var w=S[b],_=this.store.constraints[v][w];_&&_.value&&y.push(_)}y.length&&f.push({constraints:y,operator:"or"})}a=r(d,g,f)}else{d=Object.keys(this.store.constraints._none).map((function(e){return c.store.constraints._none[e]})).join(""),f=Object.keys(this.store.constraints).filter((function(e){return"_none"!==e})).map((function(e){return"["+Object.keys(c.store.constraints[e]).map((function(t){return c.store.constraints[e][t]})).filter((function(e){return e})).map((function(e){return e.trim().substr(1,e.trim().length-2)})).join(" or ")+"]"})).join("").replace(/\[]/g,"");var P=this.widget._datasource._searchPaths,x=this.widget.hasSearch?null===(n=(o=this.widget)._getSearchText)||void 0===n?void 0:n.call(o):void 0;a=(u=x,(s=P)&&u&&""!==u.trim()?"["+s.map((function(e){return"contains("+e+",'"+x+"')"})).join(" or ")+"]":"")+d+f}if(this.sorting=l,this.constraints=a,i)e.showContent(this.widget.domNode),this.hideLoader(),this.initialLoad=!1,t();else{this.widget._datasource._constraints=a,window.mx.isOffline()?this.widget._datasource._sort=l:this.widget._datasource._sorting=l,mx.logger.debug("DataSourceHelper .set sort and constraint");var O=this.widget._datasource.getOffset(),z=this.widget._datasource.getPageSize();!this.widget.__lvcPagingEnabled&&O>0&&(mx.logger.debug("reset offset"),this.widget._datasource.setOffset(0),this.widget._datasource.setPageSize(z+O)),this.initialLoad||this.showLoader(),this.widget.update(null,(function(){mx.logger.debug("DataSourceHelper .updated"),!c.widget.__lvcPagingEnabled&&O>0&&(mx.logger.debug("restore offset"),c.widget._datasource.setOffset(O),c.widget._datasource.setPageSize(z)),c.hideLoader(),c.initialLoad=!1,t()}))}},e.prototype.showLoader=function(){this.widget.domNode.classList.add("widget-data-source-helper-loading")},e.hideContent=function(e){e&&e.classList.add("widget-data-source-helper-initial-loading")},e.showContent=function(e){e&&e.classList.remove("widget-data-source-helper-initial-loading")},e.prototype.hideLoader=function(){this.widget.domNode.classList.remove("widget-data-source-helper-loading"),e.showContent(this.widget.domNode)},e.prototype.setPaging=function(e,t){var i=this,o=this.widget._datasource;if(!this.widget.__customWidgetPagingLoading){var n=!1;void 0!==e&&e!==o.getOffset()&&(this.widget.__customWidgetPagingOffset=e,o.setOffset(e),n=!0),void 0!==t&&t!==o.getPageSize()&&(o.setPageSize(t),n=!0),this.paging={pageSize:void 0!==t?t:o.getPageSize(),offset:void 0!==e?e:o.getOffset()},n&&(mx.logger.debug(".updateDatasource changed",e,t),this.widget.__customWidgetPagingLoading=!0,this.showLoader(),this.widget.sequence(["_sourceReload","_renderData"],(function(){i.widget.__customWidgetPagingLoading=!1,a.resetListViewHeight(i.widget.domNode),mx.logger.debug(".updateDatasource updated"),i.hideLoader()})))}},e}();t.DataSourceHelper=s}.apply(t,o))||(e.exports=n)},function(e,t){e.exports=i},function(e,t,i){var o;void 0===(o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(){var e=mxui.widget.ListView;function t(e){if(!(!e||"database"===e.datasource.type||"xpath"===e.datasource.type))return!1;var t=!!(e&&("database"===e.datasource.type||"xpath"===e.datasource.type)&&e._datasource&&e._datasource.reload&&e._datasource.setOffset&&e._datasource.setPageSize&&void 0!==e._datasource._constraints&&(e._datasource._sorting||e._datasource._sort)&&e._datasource.getSetSize&&e._datasource.getOffset);return t||mx.logger.error("This Mendix version is not compatible with list view controls. The List view controls use is limited."),t}!e.prototype.__lvcPrototypeUpdated&&function(e){var t=!!(e&&e.postCreate&&e._loadData&&e.getState&&e._onLoad&&e._renderData);t||mx.logger.error("This Mendix version is not compatible with list view controls. The List view prototype could not be updated.");return t}(e.prototype)?(e.prototype.__lvcPrototypeUpdated=!0,e.prototype.__postCreateOriginal=e.prototype.postCreate,e.prototype.postCreate=function(){if(mx.logger.debug("list view control, overwrites postCreate prototype"),this.__postCreateOriginal(),t(this)){var e=this.getState("lvcPaging");e&&(void 0!==e.offset&&this._datasource.setOffset(e.offset),void 0!==e.pageSize&&this._datasource.setPageSize(e.pageSize));var i=this.getState("lvcSorting");i&&(this._datasource._sorting=i);var o=this.getState("lvcConstraints");o&&(this._datasource._constraints=o)}},e.prototype.__loadDataOriginal=e.prototype._loadData,e.prototype._loadData=function(e){var i=this;mx.logger.debug("List view control, overwrites _loadData prototype"),t(this)?(this.__lvcPagingEnabled&&this._datasource.setOffset(0),this._datasource.reload((function(){var t=i._datasource.getOffset();if(t&&i._datasource.getSetSize()<=t)return i._datasource.setOffset(0),void i._loadData(e);i._renderData((function(){i._onLoad(),e&&e()}))}))):this.__loadDataOriginal(e)}):mx.logger.debug("Prototype update called unexpected again")}()}.apply(t,[i,t]))||(e.exports=o)},function(e,t,i){var o,n;o=[i,t,i(11)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormViewState=void 0;var o=function(){function e(e,t,o){this.form=e,this.widgetId=t,this.persistHandle=i.connect(e,"onPersistViewState",null,(function(e){var i=e[t]||(e[t]={});o(i)}))}return e.prototype.getPageState=function(e,t){var i=this.form,o=i&&i.viewState?i.viewState[this.widgetId]:void 0,n=o&&void 0!==o[e]?o[e]:t;return mx.logger.debug("getPageState",this.widgetId,e,t,n),n},e.prototype.destroy=function(){i.disconnect(this.persistHandle)},e}();t.FormViewState=o}.apply(t,o))||(e.exports=n)},function(e,t){e.exports=o},,,,,,,,,,,,,function(e,t,i){var o,n,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function s(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var i,o,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};o=[i,t,i(0),i(1),i(5),i(6),i(2),i(3),i(7),i(4),i(25),i(31),i(10),i(48)],void 0===(n=function(e,t,i,o,n,r,c,l,p,d,g,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t){var i=e.call(this,t)||this;return i.widgetDom=null,i.retriesFind=0,i.initialLoading=!0,mx.logger.debug(i.props.uniqueid,".constructor"),i.updateListView=i.updateListView.bind(i),i.translateMessageStatus=i.translateMessageStatus.bind(i),i.viewStateManager=new h.FormViewState(i.props.mxform,i.props.uniqueid,(function(e){if(i.state.validationPassed){var t=i.state.targetListView._datasource;e.pageSize=t.getPageSize()||i.state.pageSize,e.offset=t.getOffset()||i.state.offset,e.isPersisted=!0}})),i.state={alertMessage:f.Validate.validateProps(i.props),pageSize:i.viewStateManager.getPageState("pageSize",void 0),offset:i.viewStateManager.getPageState("offset",0),isPersisted:i.viewStateManager.getPageState("isPersisted",!1),loadTranslations:!1},i}return a(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:if(mx.logger.debug(this.props.uniqueid,".componentDidMount"),!!mx.session.getConfig("uiconfig.translations"))return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,d.getTranslations()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),mx.logger.debug(this.props.uniqueid,".loadingTranslations",e.message),[3,4];case 4:this.setState({loadTranslations:!0}),t.label=5;case 5:return c.SharedUtils.delay(this.connectToListView.bind(this),this.checkListViewAvailable.bind(this),20),[2]}}))}))},t.prototype.render=function(){var e=this;return mx.logger.debug(this.props.uniqueid,".render"),i.createElement("div",{className:o("widget-pagination",this.props.class),ref:function(t){return e.widgetDom=t},style:c.SharedUtils.parseStyle(this.props.style)},i.createElement(r.Alert,{className:"widget-pagination-alert"},this.state.alertMessage),this.renderPageButton())},t.prototype.componentWillUnmount=function(){mx.logger.debug(this.props.uniqueid,".componentWillUnmount"),d.showLoadMoreButton(this.state.targetListView),this.viewStateManager.destroy()},t.prototype.translateMessageStatus=function(e,t,i){return d.mxTranslation("mendix.lib.MxDataSource","status",[""+e,""+t,""+i],this.state.loadTranslations,"{1} - {2} / {3}")},t.prototype.checkListViewAvailable=function(){return mx.logger.debug(this.props.uniqueid,".checkListViewAvailable"),!!this.widgetDom&&(this.retriesFind++,this.retriesFind>25||!!l.SharedContainerUtils.findTargetListView(this.widgetDom.parentElement))},t.prototype.renderPageButton=function(){if(mx.logger.debug(this.props.uniqueid,".renderPageButton"),this.state.validationPassed&&this.state.pageSize&&this.state.targetListView._datasource.getSetSize()>0){var e=this.state,t=e.offset,o=e.pageSize;return mx.logger.debug(this.props.uniqueid,".renderPageButton pagesize, offset, listsize",o,t,this.state.targetListView._datasource.getSetSize()),i.createElement(g.Pagination,{getMessageStatus:this.translateMessageStatus,hideUnusedPaging:this.props.hideUnusedPaging,items:this.props.items,listViewSize:this.state.targetListView._datasource.getSetSize(),pageSize:o,offset:t,onChange:this.updateListView,pagingStyle:this.props.pagingStyle,pageSizeOptions:this.props.pageSizeOptions})}return null},t.prototype.updateListView=function(e,t){mx.logger.debug(this.props.uniqueid,".updateListView"),this.state.validationPassed&&(this.setState({offset:void 0!==e?e:this.state.offset,pageSize:void 0!==t?t:this.state.pageSize}),this.dataSourceHelper.setPaging(e,t))},t.prototype.connectToListView=function(){var e,t="";try{this.dataSourceHelper=p.DataSourceHelper.getInstance(this.widgetDom),e=this.dataSourceHelper.getListView()}catch(e){t=e.message}e&&p.DataSourceHelper.showContent(e.domNode);var i=!t;this.setState({alertMessage:t,targetListView:e,validationPassed:i}),i&&e&&(e.__lvcPagingEnabled=!0,d.hideLoadMoreButton(e.domNode),this.beforeListViewDataRender(e),this.afterListViewDataRender(e),e._renderData())},t.prototype.beforeListViewDataRender=function(e){var t=this;mx.logger.debug(this.props.uniqueid,".beforeListViewDataRender"),n.before(e,"_renderData",(function(){mx.logger.debug(t.props.uniqueid,"_renderData.before");var i=e._datasource;if(0!==i.getSetSize()){if(t.setState({listSize:i.getSetSize()}),t.initialLoading)t.afterListViewLoaded(e),t.initialLoading=!1;else{if(t.state.isPersisted&&void 0!==t.state.pageSize){e._datasource.getPageSize()!==t.state.pageSize&&e._datasource.setPageSize(t.state.pageSize);var o=t.correctOffset(t.state.offset,e._datasource.getSetSize());t.setState({offset:o}),t.setState({isPersisted:!1}),e._renderData()}if(e.__customWidgetPagingLoading)t.setState({offset:i.getOffset(),pageSize:i.getPageSize(),listSize:i.getSetSize()});else{mx.logger.debug(t.props.uniqueid,".initialLoading False, pagingLoading False");var n=t.state.offset,r=i.getSetSize();o=n;n!==i.getOffset()&&(r>n?t.dataSourceHelper.setPaging(o):(o=0,e.__customWidgetPagingOffset=o));var a=i.getPageSize();t.state.offset===o&&t.state.pageSize===a&&t.state.listSize===r||(t.setState({offset:o,pageSize:a,listSize:r}),t.dataSourceHelper.setPaging(o,a))}}d.persistListViewHeight(e.domNode),d.setListNodeToEmpty(e.domNode)}else t.setState({listSize:i.getSetSize()})}))},t.prototype.afterListViewLoaded=function(e){mx.logger.debug(this.props.uniqueid,".afterListViewLoad");var t=e._datasource,i=this.state.pageSize?this.state.pageSize:t.getPageSize()&&t.getPageSize()||10;this.state.pageSize||this.setState({pageSize:i});var o=this.correctOffset(this.state.offset,t.getSetSize());this.dataSourceHelper.setPaging(o,i)},t.prototype.afterListViewDataRender=function(e){var t=this;mx.logger.debug(this.props.uniqueid,".afterListViewDataRender"),n.after(e,"_renderData",(function(){mx.logger.debug(t.props.uniqueid,"_renderData.after"),d.resetListViewHeight(e.domNode)}))},t.prototype.correctOffset=function(e,t){return e<t?e:0},t}(i.Component);t.default=m}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};o=[i,t,i(0),i(1),i(26),i(27),i(30),i(4)],void 0===(n=function(e,t,i,o,n,r,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentOffset:t.props.offset},t.firstPageClickAction=function(){t.setState({currentOffset:0}),t.props.onChange(0)},t.nextPageClickAction=function(){var e=t.state.currentOffset+t.props.pageSize;t.setState({currentOffset:e}),t.props.onChange(e)},t.previousPageClickAction=function(){var e=Math.max(t.state.currentOffset-t.props.pageSize,0);t.setState({currentOffset:e}),t.props.onChange(e)},t.lastPageClickAction=function(){var e=t.props,i=e.pageSize,o=e.listViewSize,n=o%i==0?o-i:o-o%i;n>0&&t.setState({currentOffset:n}),t.props.onChange(n)},t.updatePagination=function(e){var i=(e-1)*t.props.pageSize;t.state.currentOffset!==i&&(t.setState({currentOffset:i}),t.props.onChange(i))},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.listViewSize,n=e.pageSize,r=e.hideUnusedPaging,a=!r||r&&t>n;return i.createElement("div",{className:o("pagination",a?"visible":"hidden"),role:"navigation","aria-label":c.mxTranslation("mxui.widget.Grid.a11y","navigation_aria_label",[],!0,"Pagination")},this.renderPagination())},t.prototype.componentWillReceiveProps=function(e){this.setState({currentOffset:e.offset})},t.prototype.renderPagination=function(){if("default"===this.props.pagingStyle)return this.renderDefault();if("pageNumberButtons"===this.props.pagingStyle){var e=this.props,t=e.listViewSize,o=e.pageSize,n=Math.ceil(t/o),a=this.getPageNumber(this.state.currentOffset,o,t);return[i.createElement(r.PageNumberView,{maxPageButtons:7,onClickAction:this.updatePagination,pageCount:n,selectedPageNumber:a,key:"numberView"})]}return this.renderCustom()},t.prototype.getPageNumber=function(e,t,i){return e<i?e/t+1:1},t.prototype.renderDefault=function(){return[this.createFirstButton(void 0,0),this.createPreviousButton(void 0,1),this.createMessage(void 0,2),this.createNextButton(void 0,3),this.createLastButton(void 0,4)]},t.prototype.renderCustom=function(){var e=this;return this.props.items.map((function(t,o){var n={buttonCaption:t.buttonCaption,buttonType:t.item,showIcon:t.showIcon,text:t.text,key:o};if("firstButton"===n.buttonType)return e.createFirstButton(n,o);if("nextButton"===n.buttonType)return e.createNextButton(n,o);if("previousButton"===n.buttonType)return e.createPreviousButton(n,o);if("lastButton"===n.buttonType)return e.createLastButton(n,o);if("text"===n.buttonType)return e.createMessage(n.text,o);if("pageNumberButtons"===n.buttonType){var a=e.props,s=a.listViewSize,c=a.pageSize,l=Math.ceil(s/c),p=e.getPageNumber(e.state.currentOffset,c,s);return i.createElement(r.PageNumberView,{maxPageButtons:t.maxPageButtons,onClickAction:e.updatePagination,pageCount:l,selectedPageNumber:p,key:o})}if("pageSize"===n.buttonType){var d=e.props,g=(s=d.listViewSize,c=d.pageSize,e.getPageNumber(e.state.currentOffset,c,s));return i.createElement(u.PageSizeSelect,{onChange:e.props.onChange,pageSize:e.props.pageSize,sizeOptions:e.props.pageSizeOptions,listViewSize:s,currentPage:g,key:o})}}))},t.prototype.createFirstButton=function(e,o){var r=this.state.currentOffset<=0;return i.createElement(n.PageButton,s(s({},e),{buttonType:"firstButton",isDisabled:r,onClickAction:this.firstPageClickAction,showIcon:t.getShowIcon(e),key:o}))},t.prototype.createPreviousButton=function(e,o){var r=this.state.currentOffset<=0;return i.createElement(n.PageButton,s(s({},e),{buttonType:"previousButton",isDisabled:r,onClickAction:this.previousPageClickAction,showIcon:t.getShowIcon(e),key:o}))},t.prototype.createNextButton=function(e,o){var r=this.state.currentOffset+this.props.pageSize>=this.props.listViewSize;return i.createElement(n.PageButton,s(s({},e),{buttonType:"nextButton",isDisabled:r,onClickAction:this.nextPageClickAction,showIcon:t.getShowIcon(e),key:o}))},t.prototype.createLastButton=function(e,o){var r=this.state.currentOffset+this.props.pageSize>=this.props.listViewSize;return i.createElement(n.PageButton,s(s({},e),{buttonType:"lastButton",isDisabled:r,onClickAction:this.lastPageClickAction,showIcon:t.getShowIcon(e),key:o}))},t.prototype.createMessage=function(e,t){return e=this.getMessageStatus(e),i.createElement("span",{className:"paging-status",key:t},e)},t.prototype.getMessageStatus=function(e){var t=this.state.currentOffset,i=this.props,o=i.listViewSize,n=i.pageSize,r=t+1,a=0;if(0===o?r=0:a=o<n||t+n>o?o:t+n,e){var s=n&&0!==n?Math.ceil(o/n):o,u=Math.ceil(r/n);return e.replace("{firstItem}",r.toString()).replace("{lastItem}",a.toString()).replace("{totalItems}",o.toString()).replace("{currentPageNumber}",u.toString()).replace("{totalPages}",s.toString()).replace("{pageSize}",n.toString())}return this.props.getMessageStatus(r,a,o)},t.getShowIcon=function(e){return e?e.showIcon:"default"},t}(i.Component);t.Pagination=l}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(1),i(4)],void 0===(n=function(e,t,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageButton=void 0,t.PageButton=function(e){var t="",r="",a="",s={disabled:e.isDisabled},u=e.isDisabled?function(){}:e.onClickAction;return"firstButton"===e.buttonType?(r="btn mx-button mx-name-paging-first",t="glyphicon glyphicon-step-backward",a=n.mxTranslation("mxui.widget.Grid.a11y","first_page",[],!0,"Go to first page")):"previousButton"===e.buttonType?(r="btn mx-button mx-name-paging-previous",t="glyphicon glyphicon-backward",a=n.mxTranslation("mxui.widget.Grid.a11y","previous_page",[],!0,"Go to previous page")):"nextButton"===e.buttonType?(r="btn mx-button mx-name-paging-next",t="glyphicon glyphicon-forward",a=n.mxTranslation("mxui.widget.Grid.a11y","next_page",[],!0,"Go to next page")):"lastButton"===e.buttonType&&(r="btn mx-button mx-name-paging-last",t="glyphicon glyphicon-step-forward",a=n.mxTranslation("mxui.widget.Grid.a11y","last_page",[],!0,"Go to last page")),"default"===e.showIcon?e.buttonCaption?"firstButton"===e.buttonType||"previousButton"===e.buttonType?i.createElement("button",{className:o(r,s),disabled:e.isDisabled,onClick:u,title:e.buttonCaption},i.createElement("span",{className:t}),i.createElement("span",{className:e.buttonType},e.buttonCaption)):i.createElement("button",{className:o(r,s),disabled:e.isDisabled,onClick:u,title:e.buttonCaption},i.createElement("span",{className:e.buttonType},e.buttonCaption),i.createElement("span",{className:t})):i.createElement("button",{className:o(r,s),disabled:e.isDisabled,onClick:u,title:a},i.createElement("span",{className:t})):"none"===e.showIcon&&e.buttonCaption?i.createElement("button",{className:o(r,s),disabled:e.isDisabled,onClick:u,title:e.buttonCaption},i.createElement("span",{className:o(e.buttonType,"")},e.buttonCaption)):null},t.PageButton.displayName="PageButton"}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(28),i(29)],void 0===(n=function(e,t,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNumberView=void 0,t.PageNumberView=function(e){var t=[],r=e.selectedPageNumber,a=e.onClickAction;if(e.pageCount<=e.maxPageButtons)for(var s=1;s<=e.pageCount;s++)t.push(i.createElement(n.PageNumberButton,{pageNumber:s,selectedPageNumber:r,onClickAction:a.bind(null,s),key:"page"+s}));else{var u=Math.ceil(e.maxPageButtons/2),c=Math.floor(e.maxPageButtons/2),l=e.selectedPageNumber>u,p=e.selectedPageNumber<e.pageCount-c,d=1,g=1;if(!l&&p)d=2,g=e.maxPageButtons-2;else if(l&&p){var f=Math.floor((e.maxPageButtons-4)/2),h=Math.ceil((e.maxPageButtons-4)/2)-1;d=e.selectedPageNumber-f,g=e.selectedPageNumber+h}else l&&!p&&(d=e.pageCount-(e.maxPageButtons-3),g=e.pageCount-1);t.push(i.createElement(n.PageNumberButton,{pageNumber:1,selectedPageNumber:r,onClickAction:a.bind(null,1),key:"first"})),l&&t.push(i.createElement(o.BreakView,{key:"leftDivider"}));for(s=d;s<=g;s++)t.push(i.createElement(n.PageNumberButton,{pageNumber:s,selectedPageNumber:r,onClickAction:a.bind(null,s),key:"page"+s}));p&&t.push(i.createElement(o.BreakView,{key:"rightDivider"})),t.push(i.createElement(n.PageNumberButton,{pageNumber:e.pageCount,selectedPageNumber:r,onClickAction:a.bind(null,e.pageCount),key:"last"}))}return i.createElement("ul",{},t)}}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(1)],void 0===(n=function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakView=void 0,t.BreakView=function(){return i.createElement("li",{className:o.default("break-view"),"aria-hidden":!0},"...")},t.BreakView.displayName="BreakView"}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(1)],void 0===(n=function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNumberButton=void 0,t.PageNumberButton=function(e){var t=e.onClickAction,r=e.pageNumber,a=e.selectedPageNumber,s=a===r?"Current page, page "+r:"Go to page "+r;return i.createElement("li",{className:o.default(a===r?"active":""),role:"button",onClick:t,onKeyDown:n.bind(null,t),tabindex:0,"aria-label":s},r)};var n=function(e,t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e())};t.PageNumberButton.displayName="PageNumberButton"}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};o=[i,t,i(0)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageSizeSelect=t.calculateOffSet=void 0,t.calculateOffSet=function(e,t,i){var o=Math.ceil(e/t);return{newOffSet:((i>=1&&i<=o?i:1)-1)*t,newPageSize:t}};var o=function(e){function o(i){var n=e.call(this,i)||this;return n.pageSizeSelectDom=null,n.handleOnChange=function(e){var i=n.props.listViewSize,o=n.filters.find((function(t){return t.selectedValue===e.currentTarget.value})).size;n.setState({selectedValue:e.currentTarget.value,pageSize:o});var r=t.calculateOffSet(i,o,n.props.currentPage);n.props.onChange(r.newOffSet,r.newPageSize)},n.state={selectedValue:o.getSelectedValue(i.sizeOptions,i.pageSize),pageSize:i.pageSize},n.filters=n.props.sizeOptions.map((function(e,t){return s(s({},e),{selectedValue:""+t})})),n}return a(o,e),o.prototype.render=function(){return i.createElement("div",{className:"page-size"},this.renderDropDown())},o.prototype.componentWillReceiveProps=function(e){if(this.defaultPageSize||(this.defaultPageSize=e.pageSize),e.pageSize!==this.props.pageSize){var t=o.getSelectedValue(e.sizeOptions,e.pageSize);t!==this.state.selectedValue&&this.setState({selectedValue:t})}},o.prototype.componentDidUpdate=function(e,t){"-1"===this.state.selectedValue&&this.pageSizeSelectDom&&(this.pageSizeSelectDom.selectedIndex=-1)},o.prototype.renderDropDown=function(){var e=this;return i.createElement("select",{className:"form-control",onChange:this.handleOnChange,value:this.state.selectedValue,ref:function(t){return e.pageSizeSelectDom=t}},o.createOptions(this.filters))},o.getSelectedValue=function(e,t){return""+e.indexOf(e.find((function(e){return e.size===t})))},o.createOptions=function(e){return e.map((function(e,t){return i.createElement("option",{className:"",key:t,label:e.caption,value:e.selectedValue},e.caption)}))},o}(i.Component);t.PageSizeSelect=o}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validate=void 0;var o=function(){function e(){}return e.validateProps=function(e){var t=[];return"custom"===e.pagingStyle&&(e.items.length<1&&t.push("custom style should have at least one item"),e.items.forEach((function(e,i){var o=i+1;"pageNumberButtons"===e.item&&(!e.maxPageButtons||e.maxPageButtons<7)&&t.push("Custom item "+o+" Number of page buttons should 7 or larger"),"text"!==e.item||e.text||t.push("Custom item "+o+" text requires a 'Text with placeholder'"),("firstButton"===e.item||"lastButton"===e.item||"nextButton"===e.item||"previousButton"===e.item)&&"none"===e.showIcon&&!e.buttonCaption&&t.push("Custom item "+o+" Custom button requires an caption or icon")})),e.pageSizeOptions.forEach((function(e,i){e.size<1&&t.push("Custom 'Page size' at item "+(i+1)+" should be larger than 0")}))),t.length?i.createElement("div",{},"Configuration error in widget:",t.map((function(e,t){return i.createElement("p",{key:t},e)}))):""},e}();t.Validate=o}.apply(t,o))||(e.exports=n)},,,function(e,t){},,,,,,,,,,,,,,function(e,t){}])}));