webpackJsonpCharts([4],{165:function(e,t,r){"use strict";e.exports=r(436)},199:function(e,t,r){"use strict";var n=r(216),o=r(215),i=r(209),a=r(0).removeElement,l=r(28),s=r(32),c=e.exports={};c.align=r(217),c.getCursor=r(218);var d=r(219);function f(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function p(e){return n(e.changedTouches?e.changedTouches[0]:e,document.body)}c.unhover=d.wrapped,c.unhoverRaw=d.raw,c.init=function(e){var t,r,n,d,u,h,v,x,m=e.gd,y=1,g=s.DBLCLICKDELAY,b=e.element;m._mouseDownTime||(m._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=L,i?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=L,b.addEventListener("touchstart",L,{passive:!1})):b.ontouchstart=L;var _=e.clampFn||function(e,t,r){return Math.abs(e)<r&&(e=0),Math.abs(t)<r&&(t=0),[e,t]};function L(i){m._dragged=!1,m._dragging=!0;var a=p(i);t=a[0],r=a[1],v=i.target,h=i,x=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=r),(n=(new Date).getTime())-m._mouseDownTime<g?y+=1:(y=1,m._mouseDownTime=n),e.prepFn&&e.prepFn(i,t,r),o&&!x?(u=f()).style.cursor=window.getComputedStyle(b).cursor:o||(u=document,d=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",w),document.addEventListener("touchend",w),!1!==e.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",T),document.addEventListener("touchmove",T))}function T(n){n.preventDefault();var o=p(n),i=e.minDrag||l.MINDRAG,a=_(o[0]-t,o[1]-r,i),s=a[0],d=a[1];(s||d)&&(m._dragged=!0,c.unhover(m)),m._dragged&&e.moveFn&&!x&&(m._dragdata={element:b,dx:s,dy:d},e.moveFn(s,d))}function w(t){if(delete m._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",T),document.removeEventListener("touchmove",T)),document.removeEventListener("mouseup",w),document.removeEventListener("touchend",w),o?a(u):d&&(u.documentElement.style.cursor=d,d=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>g&&(y=Math.max(y-1,1)),m._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(y,h),!x){var r;try{r=new MouseEvent("click",t)}catch(e){var n=p(t);(r=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,n[0],n[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}v.dispatchEvent(r)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},c.coverSlip=f},200:function(e,t,r){"use strict";var n=r(3),o=r(0),i=r(199),a=r(202),l=r(65),s=r(207);e.exports={moduleType:"component",name:"fx",constants:r(66),schema:{layout:l},attributes:r(68),layoutAttributes:l,supplyLayoutGlobalDefaults:r(221),supplyDefaults:r(222),supplyLayoutDefaults:r(223),calc:r(224),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(e,t,r){return o.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return o.castOption(e,r,"hoverinfo",function(r){return o.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)})},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=o.isD3Selection(e)?e:n.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(225)}},201:function(e,t,r){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},202:function(e,t,r){"use strict";var n=r(0);t.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},t.isTraceInSubplots=function(e,r){if("splom"===e.type){for(var n=e.xaxes||[],o=e.yaxes||[],i=0;i<n.length;i++)for(var a=0;a<o.length;a++)if(-1!==r.indexOf(n[i]+o[a]))return!0;return!1}return-1!==r.indexOf(t.getSubplot(e))},t.flat=function(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)r[n]=t;return r},t.p2c=function(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)r[n]=e[n].p2c(t);return r},t.getDistanceFunction=function(e,r,n,o){return"closest"===e?o||t.quadrature(r,n):"x"===e?r:n},t.getClosest=function(e,t,r){if(!1!==r.index)r.index>=0&&r.index<e.length?r.distance=0:r.index=!1;else for(var n=0;n<e.length;n++){var o=t(e[n]);o<=r.distance&&(r.index=n,r.distance=o)}return r},t.inbox=function(e,t,r){return e*t<0||0===e?r:1/0},t.quadrature=function(e,t){return function(r){var n=e(r),o=t(r);return Math.sqrt(n*n+o*o)}},t.makeEventData=function(e,r,n){var o="index"in e?e.index:e.pointNumber,i={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var a=r._indexToPoints[o];1===a.length?i.pointIndex=a[0]:i.pointIndices=a}else i.pointIndex=o;return r._module.eventData?i=r._module.eventData(i,e,r,n,o):("xVal"in e?i.x=e.xVal:"x"in e&&(i.x=e.x),"yVal"in e?i.y=e.yVal:"y"in e&&(i.y=e.y),e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),void 0!==e.zLabelVal&&(i.z=e.zLabelVal)),t.appendArrayPointValue(i,r,o),i},t.appendArrayPointValue=function(e,t,r){var o=t._arrayAttrs;if(o)for(var l=0;l<o.length;l++){var s=o[l],c=i(s);if(void 0===e[c]){var d=a(n.nestedProperty(t,s).get(),r);void 0!==d&&(e[c]=d)}}},t.appendArrayMultiPointValues=function(e,t,r){var o=t._arrayAttrs;if(o)for(var l=0;l<o.length;l++){var s=o[l],c=i(s);if(void 0===e[c]){for(var d=n.nestedProperty(t,s).get(),f=new Array(r.length),p=0;p<r.length;p++)f[p]=a(d,r[p]);e[c]=f}}};var o={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(e){return o[e]||e}function a(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}},203:function(e,t,r){"use strict";var n=r(212).EventEmitter,o={init:function(e){if(e._ev instanceof n)return e;var t=new n,r=new n;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(n,o){"undefined"!=typeof jQuery&&jQuery(e).trigger(n,o),t.emit(n,o),r.emit(n,o)},e},triggerHandler:function(e,t,r){var n,o;"undefined"!=typeof jQuery&&(n=jQuery(e).triggerHandler(t,r));var i=e._ev;if(!i)return n;var a,l=i._events[t];if(!l)return n;function s(e){return e.listener?(i.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[r]))):e.apply(i,[r])}for(l=Array.isArray(l)?l:[l],a=0;a<l.length-1;a++)s(l[a]);return o=s(l[a]),void 0!==n?n:o},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=o},206:function(e,t){e.exports=!0},207:function(e,t,r){"use strict";var n=r(3),o=r(1),i=r(13),a=r(0),l=r(203),s=r(29),c=r(220),d=r(26),f=r(11),p=r(199),u=r(63),h=r(4),v=r(202),x=r(66),m=x.YANGLE,y=Math.PI*m/180,g=1/Math.sin(y),b=Math.cos(y),_=Math.sin(y),L=x.HOVERARROWSIZE,T=x.HOVERTEXTPAD;t.hover=function(e,t,r,i){e=a.getGraphDiv(e),a.throttle(e._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){!function(e,t,r,i){r||(r="xy");var s=Array.isArray(r)?r:[r],d=e._fullLayout,x=d._plots||[],m=x[r],y=d._has("cartesian");if(m){var b=m.overlays.map(function(e){return e.id});s=s.concat(b)}for(var _=s.length,L=new Array(_),T=new Array(_),w=!1,E=0;E<_;E++){var z=s[E],P=x[z];if(P)w=!0,L[E]=u.getFromId(e,P.xaxis._id),T[E]=u.getFromId(e,P.yaxis._id);else{var D=d[z]._subplot;L[E]=D.xaxis,T[E]=D.yaxis}}var C=t.hovermode||d.hovermode;C&&!w&&(C="closest");if(-1===["x","y","closest"].indexOf(C)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return p.unhoverRaw(e,t);var I,F,V,H,N,j,B,R,Y,X,q,Z,U,G=-1===d.hoverdistance?1/0:d.hoverdistance,K=-1===d.spikedistance?1/0:d.spikedistance,Q=[],J=[],$={hLinePoint:null,vLinePoint:null},W=!1;if(Array.isArray(t))for(C="array",V=0;V<t.length;V++)(N=e.calcdata[t[V].curveNumber||0])&&(j=N[0].trace,"skip"!==N[0].trace.hoverinfo&&(J.push(N),"h"===j.orientation&&(W=!0)));else{for(H=0;H<e.calcdata.length;H++)N=e.calcdata[H],"skip"!==(j=N[0].trace).hoverinfo&&v.isTraceInSubplots(j,s)&&(J.push(N),"h"===j.orientation&&(W=!0));var ee,te,re=!t.target;if(re)ee="xpx"in t?t.xpx:L[0]._length/2,te="ypx"in t?t.ypx:T[0]._length/2;else{if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var ne=t.target.getBoundingClientRect();if(ee=t.clientX-ne.left,te=t.clientY-ne.top,ee<0||ee>L[0]._length||te<0||te>T[0]._length)return p.unhoverRaw(e,t)}if(t.pointerX=ee+L[0]._offset,t.pointerY=te+T[0]._offset,I="xval"in t?v.flat(s,t.xval):v.p2c(L,ee),F="yval"in t?v.flat(s,t.yval):v.p2c(T,te),!o(I[0])||!o(F[0]))return a.warn("Fx.hover failed",t,e),p.unhoverRaw(e,t)}var oe=1/0;for(H=0;H<J.length;H++)if((N=J[H])&&N[0]&&N[0].trace&&!0===N[0].trace.visible&&(j=N[0].trace,-1===["carpet","contourcarpet"].indexOf(j._module.name))){if("splom"===j.type?B=s[R=0]:(B=v.getSubplot(j),R=s.indexOf(B)),Y=C,Z={cd:N,trace:j,xa:L[R],ya:T[R],maxHoverDistance:G,maxSpikeDistance:K,index:!1,distance:Math.min(oe,G),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:j.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},d[B]&&(Z.subplot=d[B]._subplot),d._splomScenes&&d._splomScenes[j.uid]&&(Z.scene=d._splomScenes[j.uid]),U=Q.length,"array"===Y){var ie=t[H];"pointNumber"in ie?(Z.index=ie.pointNumber,Y="closest"):(Y="","xval"in ie&&(X=ie.xval,Y="x"),"yval"in ie&&(q=ie.yval,Y=Y?"closest":"y"))}else X=I[R],q=F[R];if(0!==G)if(j._module&&j._module.hoverPoints){var ae=j._module.hoverPoints(Z,X,q,Y,d._hoverlayer);if(ae)for(var le,se=0;se<ae.length;se++)le=ae[se],o(le.x0)&&o(le.y0)&&Q.push(O(le,C))}else a.log("Unrecognized trace type in hover:",j);if("closest"===C&&Q.length>U&&(Q.splice(0,U),oe=Q[0].distance),y&&0!==K&&0===Q.length){Z.distance=K,Z.index=!1;var ce=j._module.hoverPoints(Z,X,q,"closest",d._hoverlayer);if(ce&&(ce=ce.filter(function(e){return e.spikeDistance<=K})),ce&&ce.length){var de,fe=ce.filter(function(e){return e.xa.showspikes});if(fe.length){var pe=fe[0];o(pe.x0)&&o(pe.y0)&&(de=xe(pe),(!$.vLinePoint||$.vLinePoint.spikeDistance>de.spikeDistance)&&($.vLinePoint=de))}var ue=ce.filter(function(e){return e.ya.showspikes});if(ue.length){var he=ue[0];o(he.x0)&&o(he.y0)&&(de=xe(he),(!$.hLinePoint||$.hLinePoint.spikeDistance>de.spikeDistance)&&($.hLinePoint=de))}}}}function ve(e,t){for(var r,n=null,o=1/0,i=0;i<e.length;i++)(r=e[i].spikeDistance)<o&&r<=t&&(n=e[i],o=r);return n}function xe(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var me={fullLayout:d,container:d._hoverlayer,outerContainer:d._paperdiv,event:t},ye=e._spikepoints,ge={vLinePoint:$.vLinePoint,hLinePoint:$.hLinePoint};if(e._spikepoints=ge,y&&0!==K&&0!==Q.length){var be=Q.filter(function(e){return e.ya.showspikes}),_e=ve(be,K);$.hLinePoint=xe(_e);var Le=Q.filter(function(e){return e.xa.showspikes}),Te=ve(Le,K);$.vLinePoint=xe(Te)}if(0===Q.length){var we=p.unhoverRaw(e,t);return!y||null===$.hLinePoint&&null===$.vLinePoint||S(ye)&&M($,me),we}y&&S(ye)&&M($,me);Q.sort(function(e,t){return e.distance-t.distance});var ke=e._hoverdata,Ae=[];for(V=0;V<Q.length;V++){var Oe=Q[V],Me=v.makeEventData(Oe,Oe.trace,Oe.cd);if(!1!==Oe.hovertemplate){var Se=!1;Oe.cd[Oe.index]&&Oe.cd[Oe.index].ht&&(Se=Oe.cd[Oe.index].ht),Oe.hovertemplate=Se||Oe.trace.hovertemplate||!1}Oe.eventData=[Me],Ae.push(Me)}e._hoverdata=Ae;var Ee="y"===C&&(J.length>1||Q.length>1)||"closest"===C&&W&&Q.length>1,ze=f.combine(d.plot_bgcolor||f.background,d.paper_bgcolor),Pe={hovermode:C,rotateLabels:Ee,bgColor:ze,container:d._hoverlayer,outerContainer:d._paperdiv,commonLabelOpts:d.hoverlabel,hoverdistance:d.hoverdistance},De=k(Q,Pe,e);if(function(e,t,r){var n,o,i,a,l,s,c,d=0,f=1,p=e.size(),u=new Array(p);function h(e){var t=e[0],r=e[e.length-1];if(o=t.pmin-t.pos-t.dp+t.size,i=r.pos+r.dp+r.size-t.pmax,o>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=o;n=!1}if(!(i<.01)){if(o<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;n=!1}if(n){var c=0;for(a=0;a<e.length;a++)(s=e[a]).pos+s.dp+s.size>t.pmax&&c++;for(a=e.length-1;a>=0&&!(c<=0);a--)(s=e[a]).pos>t.pmax-1&&(s.del=!0,c--);for(a=0;a<e.length&&!(c<=0);a++)if((s=e[a]).pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(a=e.length-1;a>=0&&!(c<=0);a--)(s=e[a]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}for(e.each(function(e,n){var o=e[t],i="x"===o._id.charAt(0),a=o.range;!n&&a&&a[0]>a[1]!==i&&(f=-1),u[n]=[{datum:e,i:n,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?g:1)/2,pmin:0,pmax:i?r.width:r.height}]}),u.sort(function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)});!n&&d<=p;){for(d++,n=!0,a=0;a<u.length-1;){var v=u[a],x=u[a+1],m=v[v.length-1],y=x[0];if((o=m.pos+m.dp+m.size-y.pos-y.dp+y.size)>.01&&m.pmin===y.pmin&&m.pmax===y.pmax){for(l=x.length-1;l>=0;l--)x[l].dp+=o;for(v.push.apply(v,x),u.splice(a+1,1),c=0,l=v.length-1;l>=0;l--)c+=v[l].dp;for(i=c/v.length,l=v.length-1;l>=0;l--)v[l].dp-=i;n=!1}else a++}u.forEach(h)}for(a=u.length-1;a>=0;a--){var b=u[a];for(l=b.length-1;l>=0;l--){var _=b[l],L=_.datum;L.offset=_.dp,L.del=_.del}}}(De,Ee?"xa":"ya",d),A(De,Ee),t.target&&t.target.tagName){var Ce=h.getComponentMethod("annotations","hasClickToShow")(e,Ae);c(n.select(t.target),Ce?"pointer":"")}if(!t.target||i||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var o=r[n],i=e._hoverdata[n];if(o.curveNumber!==i.curveNumber||String(o.pointNumber)!==String(i.pointNumber)||String(o.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(e,0,ke))return;ke&&e.emit("plotly_unhover",{event:t,points:ke});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:L,yaxes:T,xvals:I,yvals:F})}(e,t,r,i)})},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var o=e.map(function(e){return{color:e.color||f.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}}),i=n.select(t.container),a=t.outerContainer?n.select(t.outerContainer):i,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||f.background,container:i,outerContainer:a},s=k(o,l,t.gd),c=0,d=0;return s.sort(function(e,t){return e.y0-t.y0}).each(function(e,r){var n=e.y0-e.by/2;e.offset=n-5<c?c-n+5:0,c=n+e.by+e.offset,r===t.anchorIndex&&(d=e.offset)}).each(function(e){e.offset-=d}),A(s,l.rotateLabels),r?s:s.node()};var w=/<extra>([\s\S]*)<\/extra>/;function k(e,t,r){var o=r._fullLayout,i=t.hovermode,l=t.rotateLabels,c=t.bgColor,p=t.container,u=t.outerContainer,h=t.commonLabelOpts||{},v=t.fontFamily||x.HOVERFONT,y=t.fontSize||x.HOVERFONTSIZE,g=e[0],b=g.xa,_=g.ya,k="y"===i?"yLabel":"xLabel",A=g[k],O=(String(A)||"").split(" ")[0],M=u.node().getBoundingClientRect(),S=M.top,z=M.width,P=M.height,D=void 0!==A&&g.distance<=t.hoverdistance&&("x"===i||"y"===i);if(D){var C,I,F=!0;for(C=0;C<e.length;C++)if(F&&void 0===e[C].zLabel&&(F=!1),I=e[C].hoverinfo||e[C].trace.hoverinfo){var V=Array.isArray(I)?I:I.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(i)){D=!1;break}}F&&(D=!1)}var H=p.selectAll("g.axistext").data(D?[0]:[]);H.enter().append("g").classed("axistext",!0),H.exit().remove(),H.each(function(){var t=n.select(this),o=a.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),l=a.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),c=h.bgcolor||f.defaultLine,p=h.bordercolor||f.contrast(c),u=f.contrast(c);o.style({fill:c,stroke:p}),l.text(A).call(d.font,h.font.family||v,h.font.size||y,h.font.color||u).call(s.positionText,0,0).call(s.convertToTspans,r),t.attr("transform","");var x=l.node().getBoundingClientRect();if("x"===i){l.attr("text-anchor","middle").call(s.positionText,0,"top"===b.side?S-x.bottom-L-T:S-x.top+L+T);var m="top"===b.side?"-":"";o.attr("d","M0,0L"+L+","+m+L+"H"+(T+x.width/2)+"v"+m+(2*T+x.height)+"H-"+(T+x.width/2)+"V"+m+L+"H-"+L+"Z"),t.attr("transform","translate("+(b._offset+(g.x0+g.x1)/2)+","+(_._offset+("top"===b.side?0:_._length))+")")}else{l.attr("text-anchor","right"===_.side?"start":"end").call(s.positionText,("right"===_.side?1:-1)*(T+L),S-x.top-x.height/2);var w="right"===_.side?"":"-";o.attr("d","M0,0L"+w+L+","+L+"V"+(T+x.height/2)+"h"+w+(2*T+x.width)+"V-"+(T+x.height/2)+"H"+w+L+"V-"+L+"Z"),t.attr("transform","translate("+(b._offset+("right"===_.side?b._length:0))+","+(_._offset+(g.y0+g.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[k]||"").split(" ")[0]===O})});var N=p.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return N.enter().append("g").classed("hovertext",!0).each(function(){var e=n.select(this);e.append("rect").call(f.fill,f.addOpacity(c,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,v,y)}),N.exit().remove(),N.each(function(e){var t=n.select(this).attr("transform",""),p="",u="",h=e.bgcolor||e.color,x=f.combine(f.opacity(h)?h:f.defaultLine,c),g=f.combine(f.opacity(e.color)?e.color:f.defaultLine,c),b=e.borderColor||f.contrast(x);void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(o.meta&&(e.name=a.templateString(e.name,{meta:o.meta})),p=E(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(u+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(u+="y: "+e.yLabel+"<br>"),u+=(u?"z: ":"")+e.zLabel):D&&e[i+"Label"]===A?u=e[("x"===i?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(u=e.yLabel):u=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(u+=(u?"<br>":"")+e.text),void 0!==e.extraText&&(u+=(u?"<br>":"")+e.extraText),""!==u||e.hovertemplate||(""===p&&t.remove(),u=p);var _=r._fullLayout._d3locale,k=e.hovertemplate||!1,O=e.hovertemplateLabels||e,M=e.eventData[0]||{};k&&(u=(u=a.hovertemplateString(k,O,_,M,{meta:o.meta})).replace(w,function(t,r){return p=E(r,e.nameLength),""}));var C=t.select("text.nums").call(d.font,e.fontFamily||v,e.fontSize||y,e.fontColor||b).text(u).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r),I=t.select("text.name"),F=0,V=0;if(p&&p!==u){I.call(d.font,e.fontFamily||v,e.fontSize||y,g).text(p).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r);var H=I.node().getBoundingClientRect();F=H.width+2*T,V=H.height+2*T}else I.remove(),t.select("rect").remove();t.select("path").style({fill:x,stroke:b});var N,j,B=C.node().getBoundingClientRect(),R=e.xa._offset+(e.x0+e.x1)/2,Y=e.ya._offset+(e.y0+e.y1)/2,X=Math.abs(e.x1-e.x0),q=Math.abs(e.y1-e.y0),Z=B.width+L+T+F;if(e.ty0=S-B.top,e.bx=B.width+2*T,e.by=Math.max(B.height+2*T,V),e.anchor="start",e.txwidth=B.width,e.tx2width=F,e.offset=0,l)e.pos=R,N=Y+q/2+Z<=P,j=Y-q/2-Z>=0,"top"!==e.idealAlign&&N||!j?N?(Y+=q/2,e.anchor="start"):e.anchor="middle":(Y-=q/2,e.anchor="end");else if(e.pos=Y,N=R+X/2+Z<=z,j=R-X/2-Z>=0,"left"!==e.idealAlign&&N||!j)if(N)R+=X/2,e.anchor="start";else{e.anchor="middle";var U=Z/2,G=R+U-z,K=R-U;G>0&&(R-=G),K<0&&(R+=-K)}else R-=X/2,e.anchor="end";C.attr("text-anchor",e.anchor),F&&I.attr("text-anchor",e.anchor),t.attr("transform","translate("+R+","+Y+")"+(l?"rotate("+m+")":""))}),N}function A(e,t){e.each(function(e){var r=n.select(this);if(e.del)return r.remove();var o=r.select("text.nums"),i=e.anchor,a="end"===i?-1:1,l={start:1,end:-1,middle:0}[i],c=l*(L+T),f=c+l*(e.txwidth+T),p=0,u=e.offset;"middle"===i&&(c-=e.tx2width/2,f+=e.txwidth/2+T),t&&(u*=-_,p=e.offset*b),r.select("path").attr("d","middle"===i?"M-"+(e.bx/2+e.tx2width/2)+","+(u-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(a*L+p)+","+(L+u)+"v"+(e.by/2-L)+"h"+a*e.bx+"v-"+e.by+"H"+(a*L+p)+"V"+(u-L)+"Z");var h=c+p,v=u+e.ty0-e.by/2+T,x=e.textAlign||"auto";"auto"!==x&&("left"===x&&"start"!==i?(o.attr("text-anchor","start"),h="middle"===i?-e.bx/2-e.tx2width/2+T:-e.bx-T):"right"===x&&"end"!==i&&(o.attr("text-anchor","end"),h="middle"===i?e.bx/2-e.tx2width/2-T:e.bx+T)),o.call(s.positionText,h,v),e.tx2width&&(r.select("text.name").call(s.positionText,f+l*T+p,u+e.ty0-e.by/2+T),r.select("rect").call(d.setRect,f+(l-1)*e.tx2width/2+p,u-e.by/2-1,e.tx2width,e.by+2))})}function O(e,t){var r=e.index,n=e.trace||{},i=e.cd[0],l=e.cd[r]||{};function s(e){return e||o(e)&&0===e}var c=Array.isArray(r)?function(e,t){var o=a.castOption(i,r,e);return s(o)?o:a.extractOption({},n,"",t)}:function(e,t){return a.extractOption(l,n,e,t)};function d(t,r,n){var o=c(r,n);s(o)&&(e[t]=o)}if(d("hoverinfo","hi","hoverinfo"),d("bgcolor","hbg","hoverlabel.bgcolor"),d("borderColor","hbc","hoverlabel.bordercolor"),d("fontFamily","htf","hoverlabel.font.family"),d("fontSize","hts","hoverlabel.font.size"),d("fontColor","htc","hoverlabel.font.color"),d("nameLength","hnl","hoverlabel.namelength"),d("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===n.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=a.constrain(e.x0,0,e.xa._length),e.x1=a.constrain(e.x1,0,e.xa._length),e.y0=a.constrain(e.y0,0,e.ya._length),e.y1=a.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:u.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:u.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var f=u.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+u.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+f,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var p=u.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+p+" / -"+u.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+p,"y"===t&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===h.indexOf("y")&&(e.yLabel=void 0),-1===h.indexOf("z")&&(e.zLabel=void 0),-1===h.indexOf("text")&&(e.text=void 0),-1===h.indexOf("name")&&(e.name=void 0)),e}function M(e,t){var r,n,o=t.container,a=t.fullLayout,l=t.event,s=!!e.hLinePoint,c=!!e.vLinePoint;if(o.selectAll(".spikeline").remove(),c||s){var p=f.combine(a.plot_bgcolor,a.paper_bgcolor);if(s){var u,h,v=e.hLinePoint;r=v&&v.xa,"cursor"===(n=v&&v.ya).spikesnap?(u=l.pointerX,h=l.pointerY):(u=r._offset+v.x,h=n._offset+v.y);var x,m,y=i.readability(v.color,p)<1.5?f.contrast(p):v.color,g=n.spikemode,b=n.spikethickness,_=n.spikecolor||y,L=n._boundingBox,T=(L.left+L.right)/2<u?L.right:L.left;-1===g.indexOf("toaxis")&&-1===g.indexOf("across")||(-1!==g.indexOf("toaxis")&&(x=T,m=u),-1!==g.indexOf("across")&&(x=n._counterSpan[0],m=n._counterSpan[1]),o.insert("line",":first-child").attr({x1:x,x2:m,y1:h,y2:h,"stroke-width":b,stroke:_,"stroke-dasharray":d.dashStyle(n.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:x,x2:m,y1:h,y2:h,"stroke-width":b+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)),-1!==g.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:T+("right"!==n.side?b:-b),cy:h,r:b,fill:_}).classed("spikeline",!0)}if(c){var w,k,A=e.vLinePoint;r=A&&A.xa,n=A&&A.ya,"cursor"===r.spikesnap?(w=l.pointerX,k=l.pointerY):(w=r._offset+A.x,k=n._offset+A.y);var O,M,S=i.readability(A.color,p)<1.5?f.contrast(p):A.color,E=r.spikemode,z=r.spikethickness,P=r.spikecolor||S,D=r._boundingBox,C=(D.top+D.bottom)/2<k?D.bottom:D.top;-1===E.indexOf("toaxis")&&-1===E.indexOf("across")||(-1!==E.indexOf("toaxis")&&(O=C,M=k),-1!==E.indexOf("across")&&(O=r._counterSpan[0],M=r._counterSpan[1]),o.insert("line",":first-child").attr({x1:w,x2:w,y1:O,y2:M,"stroke-width":z,stroke:P,"stroke-dasharray":d.dashStyle(r.spikedash,z)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:w,x2:w,y1:O,y2:M,"stroke-width":z+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)),-1!==E.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:w,cy:C-("top"!==r.side?z:-z),r:z,fill:P}).classed("spikeline",!0)}}}function S(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function E(e,t){return s.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},208:function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r,o){r("hoverlabel.bgcolor",(o=o||{}).bgcolor),r("hoverlabel.bordercolor",o.bordercolor),r("hoverlabel.namelength",o.namelength),n.coerceFont(r,"hoverlabel.font",o.font),r("hoverlabel.align",o.align)}},209:function(e,t,r){"use strict";var n=r(206);e.exports=n&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},212:function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(o(r))for(l=Array.prototype.slice.call(arguments,1),a=(c=r.slice()).length,s=0;s<a;s++)c[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function o(){this.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},r.prototype.removeListener=function(e,t){var r,i,a,l;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(l=a;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){i=l;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},215:function(e,t,r){"use strict";(function(t){var n,o=r(206);n="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:o,e.exports=n}).call(t,r(15))},216:function(e,t){var r={left:0,top:0};e.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var o=e.clientX||0,i=e.clientY||0,a=(l=t,l===window||l===document||l===document.body?r:l.getBoundingClientRect());var l;return n[0]=o-a.left,n[1]=i-a.top,n}},217:function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){var i=(e-r)/(n-r),a=i+t/(n-r),l=(i+a)/2;return"left"===o||"bottom"===o?i:"center"===o||"middle"===o?l:"right"===o||"top"===o?a:i<2/3-l?i:a>4/3-l?a:l}},218:function(e,t,r){"use strict";var n=r(0),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,r,i){return e="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:n.constrain(Math.floor(3*t),0,2),o[t][e]}},219:function(e,t,r){"use strict";var n=r(203),o=r(69),i=r(74),a=r(66),l=e.exports={};l.wrapped=function(e,t,r){(e=i(e))._fullLayout&&o.clear(e._fullLayout._uid+a.HOVERID),l.raw(e,t,r)},l.raw=function(e,t){var r=e._fullLayout,o=e._hoverdata;t||(t={}),t.target&&!1===n.triggerHandler(e,"plotly_beforehover",t)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&o&&e.emit("plotly_unhover",{event:t,points:o}))}},220:function(e,t,r){"use strict";var n=r(201),o="data-savedcursor";e.exports=function(e,t){var r=e.attr(o);if(t){if(!r){for(var i=(e.attr("class")||"").split(" "),a=0;a<i.length;a++){var l=i[a];0===l.indexOf("cursor-")&&e.attr(o,l.substr(7)).classed(l,!1)}e.attr(o)||e.attr(o,"!!")}n(e,t)}else r&&(e.attr(o,null),"!!"===r?n(e):n(e,r))}},221:function(e,t,r){"use strict";var n=r(0),o=r(208),i=r(65);e.exports=function(e,t){o(e,t,function(r,o){return n.coerce(e,t,i,r,o)})}},222:function(e,t,r){"use strict";var n=r(0),o=r(68),i=r(208);e.exports=function(e,t,r,a){var l=n.extendFlat({},a.hoverlabel);t.hovertemplate&&(l.namelength=-1),i(e,t,function(r,i){return n.coerce(e,t,o,r,i)},l)}},223:function(e,t,r){"use strict";var n=r(0),o=r(65);e.exports=function(e,t,r){function i(r,i){return n.coerce(e,t,o,r,i)}var a,l=i("clickmode");"select"===i("dragmode")&&i("selectdirection"),t._has("cartesian")?l.indexOf("select")>-1?a="closest":(t._isHoriz=function(e,t){for(var r=t._scatterStackOpts||{},n=0;n<e.length;n++){var o=e[n],i=o.xaxis+o.yaxis,a=r[i]||{},l=a[o.stackgroup]||{};if("h"!==o.orientation&&"h"!==l.orientation)return!1}return!0}(r,t),a=t._isHoriz?"y":"x"):a="closest",i("hovermode",a)&&(i("hoverdistance"),i("spikedistance"));var s=t._has("mapbox"),c=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((s||c)&&1===d||s&&c&&2===d)&&(t.dragmode="pan")}},224:function(e,t,r){"use strict";var n=r(0),o=r(4);function i(e,t,r,o){o=o||n.identity,Array.isArray(e)&&(t[0][r]=o(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function a(e){return function(t){return n.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!o.traceIs(c,"pie")){var d=o.traceIs(c,"2dMap")?i:n.fillArray;d(c.hoverinfo,s,"hi",a(c)),c.hovertemplate&&d(c.hovertemplate,s,"ht"),c.hoverlabel&&(d(c.hoverlabel.bgcolor,s,"hbg"),d(c.hoverlabel.bordercolor,s,"hbc"),d(c.hoverlabel.font.size,s,"hts"),d(c.hoverlabel.font.color,s,"htc"),d(c.hoverlabel.font.family,s,"htf"),d(c.hoverlabel.namelength,s,"hnl"),d(c.hoverlabel.align,s,"hta"))}}}},225:function(e,t,r){"use strict";var n=r(4),o=r(207).hover;e.exports=function(e,t,r){var i=n.getComponentMethod("annotations","onClick")(e,e._hoverdata);function a(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&o(e,t,r,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(a):a(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},227:function(e,t,r){"use strict";var n=r(4),o=r(28).SUBPLOT_PATTERN;t.getSubplotCalcData=function(e,t,r){var o=n.subplotsRegistry[t];if(!o)return[];for(var i=o.attr,a=[],l=0;l<e.length;l++){var s=e[l];s[0].trace[i]===r&&a.push(s)}return a},t.getModuleCalcData=function(e,t){var r,o=[],i=[];if(!(r="string"==typeof t?n.getModule(t).plot:"function"==typeof t?t:t.plot))return[o,e];for(var a=0;a<e.length;a++){var l=e[a],s=l[0].trace;!0===s.visible&&(s._module.plot===r?o.push(l):i.push(l))}return[o,i]},t.getSubplotData=function(e,t,r){if(!n.subplotsRegistry[t])return[];var i,a,l,s=n.subplotsRegistry[t].attr,c=[];if("gl2d"===t){var d=r.match(o);a="x"+d[1],l="y"+d[2]}for(var f=0;f<e.length;f++)i=e[f],"gl2d"===t&&n.traceIs(i,"gl2d")?i[s[0]]===a&&i[s[1]]===l&&c.push(i):i[s]===r&&c.push(i);return c}},253:function(e,t,r){"use strict";var n=r(0);t.formatPiePercent=function(e,t){var r=(100*e).toPrecision(3);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=e.toPrecision(10);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var n=e[t[r]];if(n||0===n)return n}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0}},272:function(e,t,r){"use strict";var n=r(11),o=r(253).castOption;e.exports=function(e,t,r){var i=r.marker.line,a=o(i.color,t.pts)||n.defaultLine,l=o(i.width,t.pts)||0;e.style("stroke-width",l).call(n.fill,t.color).call(n.stroke,a)}},275:function(e,t,r){"use strict";var n=r(6).extendFlat;t.attributes=function(e,t){e=e||{},t=t||{};var r={valType:"info_array",role:"info",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},o=e.name?e.name+" ":"",i=e.trace?"trace ":"subplot ",a=t.description?" "+t.description:"",l={x:n({},r,{description:["Sets the horizontal domain of this ",o,i,"(in plot fraction).",a].join("")}),y:n({},r,{description:["Sets the vertical domain of this ",o,i,"(in plot fraction).",a].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",o,i,".",a].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",o,i,".",a].join("")}),l},t.defaults=function(e,t,r,n){var o=n&&n.x||[0,1],i=n&&n.y||[0,1],a=t.grid;if(a){var l=r("domain.column");void 0!==l&&(l<a.columns?o=a._domains.x[l]:delete e.domain.column);var s=r("domain.row");void 0!==s&&(s<a.rows?i=a._domains.y[s]:delete e.domain.row)}r("domain.x",o),r("domain.y",i)}},356:function(e,t,r){"use strict";var n=r(30),o=r(7),i=r(17),a=r(85),l=r(275).attributes,s=r(6).extendFlat,c=o({editType:"calc",arrayOk:!0,colorEditType:"plot",description:"Sets the font used for `textinfo`."});e.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the sector labels.","If `labels` entries are duplicated, we sum associated `values`","or simply count occurrences if `values` is not provided.","For other array attributes (including color) we use the first","non-empty entry among all occurrences of the label."].join(" ")},label0:{valType:"number",role:"info",dflt:0,editType:"calc",description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",role:"info",dflt:1,editType:"calc",description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",editType:"calc",description:["Sets the values of the sectors of this pie chart.","If omitted, we count occurrences of each label."].join(" ")},marker:{colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector of this pie chart.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",role:"style",dflt:n.defaultLine,arrayOk:!0,editType:"style",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,editType:"style",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"calc",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will be seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["If there are multiple pies that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","percent"],extras:["none"],editType:"calc",description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:s({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:a({},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `textinfo`."].join(" ")},textfont:s({},c,{description:"Sets the font used for `textinfo`."}),insidetextfont:s({},c,{description:"Sets the font used for `textinfo` lying inside the pie."}),outsidetextfont:s({},c,{description:"Sets the font used for `textinfo` lying outside the pie."}),title:{text:{valType:"string",dflt:"",role:"info",editType:"calc",description:["Sets the title of the pie chart.","If it is empty, no title is displayed.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:s({},c,{description:["Sets the font used for `title`.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],role:"info",editType:"calc",description:["Specifies the location of the `title`.","Note that the title's position used to be set","by the now deprecated `titleposition` attribute."].join(" ")},editType:"calc"},domain:l({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",role:"style",min:0,max:1,dflt:0,editType:"calc",description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",role:"style",dflt:!0,editType:"calc",description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"style",dflt:"counterclockwise",editType:"calc",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",role:"style",min:-360,max:360,dflt:0,editType:"calc",description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",role:"style",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc",description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")},_deprecated:{title:{valType:"string",dflt:"",role:"info",editType:"calc",description:["Deprecated in favor of `title.text`.","Note that value of `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:s({},c,{description:"Deprecated in favor of `title.font`."}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],role:"info",editType:"calc",description:"Deprecated in favor of `title.position`."}}}},357:function(e,t,r){"use strict";e.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",role:"style",editType:"calc",description:["Sets the default pie slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendpiecolors`."].join(" ")},extendpiecolors:{valType:"boolean",dflt:!0,role:"style",editType:"calc",description:["If `true`, the pie slice colors (whether given by `piecolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}},358:function(e,t,r){"use strict";var n=r(1),o=r(0).isArrayOrTypedArray,i=r(13),a=r(11),l=r(253),s={};function c(e){return function(t,r){return!!t&&(!!(t=i(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),e[r]||(e[r]=t),t))}}function d(e,t){var r,n=JSON.stringify(e),o=t[n];if(!o){for(o=e.slice(),r=0;r<e.length;r++)o.push(i(e[r]).lighten(20).toHexString());for(r=0;r<e.length;r++)o.push(i(e[r]).darken(20).toHexString());t[n]=o}return o}e.exports={calc:function(e,t){var r,i,a,s,d,f=t.values,p=o(f)&&f.length,u=t.labels,h=t.marker.colors||[],v=[],x=e._fullLayout,m={},y=0,g=x.hiddenlabels||[];if(t.dlabel)for(u=new Array(f.length),r=0;r<f.length;r++)u[r]=String(t.label0+r*t.dlabel);var b=c(x._piecolormap),_=(p?f:u).length;for(r=0;r<_;r++){if(p){if(i=f[r],!n(i))continue;if((i=+i)<0)continue}else i=1;void 0!==(a=u[r])&&""!==a||(a=r);var L=m[a=String(a)];void 0===L?(m[a]=v.length,(s=-1!==g.indexOf(a))||(y+=i),v.push({v:i,label:a,color:b(h[r],a),i:r,pts:[r],hidden:s})):((d=v[L]).v+=i,d.pts.push(r),d.hidden||(y+=i),!1===d.color&&h[r]&&(d.color=b(h[r],a)))}if(t.sort&&v.sort(function(e,t){return t.v-e.v}),v[0]&&(v[0].vTotal=y),t.textinfo&&"none"!==t.textinfo){var T,w=-1!==t.textinfo.indexOf("label"),k=-1!==t.textinfo.indexOf("text"),A=-1!==t.textinfo.indexOf("value"),O=-1!==t.textinfo.indexOf("percent"),M=x.separators;for(r=0;r<v.length;r++){if(d=v[r],T=w?[d.label]:[],k){var S=l.getFirstFilled(t.text,d.pts);S&&T.push(S)}A&&T.push(l.formatPieValue(d.v,M)),O&&T.push(l.formatPiePercent(d.v/y,M)),d.text=T.join("<br>")}}return v},crossTraceCalc:function(e){var t=e._fullLayout,r=e.calcdata,n=t.piecolorway,o=t._piecolormap;t.extendpiecolors&&(n=d(n,s));for(var i=0,a=0;a<r.length;a++){var l=r[a];if("pie"===l[0].trace.type)for(var c=0;c<l.length;c++){var f=l[c];!1===f.color&&(o[f.label]?f.color=o[f.label]:(o[f.label]=f.color=n[i%n.length],i++))}}},makePullColorFn:c,generateExtendedColors:d}},436:function(e,t,r){"use strict";e.exports={attributes:r(356),supplyDefaults:r(437),supplyLayoutDefaults:r(438),layoutAttributes:r(357),calc:r(358).calc,crossTraceCalc:r(358).crossTraceCalc,plot:r(439).plot,style:r(441),styleOne:r(272),moduleType:"trace",name:"pie",basePlotModule:r(442),categories:["pie","showLegend"],meta:{description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")}}},437:function(e,t,r){"use strict";var n=r(0),o=r(356),i=r(275).defaults;e.exports=function(e,t,r,a){function l(r,i){return n.coerce(e,t,o,r,i)}var s,c=n.coerceFont,d=l("values"),f=n.isArrayOrTypedArray(d),p=l("labels");if(Array.isArray(p)?(s=p.length,f&&(s=Math.min(s,d.length))):f&&(s=d.length,l("label0"),l("dlabel")),s){t._length=s,l("marker.line.width")&&l("marker.line.color"),l("marker.colors"),l("scalegroup");var u=l("text"),h=l("textinfo",Array.isArray(u)?"text+percent":"percent");if(l("hovertext"),l("hovertemplate"),h&&"none"!==h){var v=l("textposition"),x=Array.isArray(v)||"auto"===v,m=x||"inside"===v,y=x||"outside"===v;if(m||y){var g=c(l,"textfont",a.font);if(m){var b=n.extendFlat({},g);!(e.textfont&&e.textfont.color)&&delete b.color,c(l,"insidetextfont",b)}y&&c(l,"outsidetextfont",g)}}i(t,a,l);var _=l("hole");if(l("title.text")){var L=l("title.position",_?"middle center":"top center");_||"middle center"!==L||(t.title.position="top center"),c(l,"title.font",a.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else t.visible=!1}},438:function(e,t,r){"use strict";var n=r(0),o=r(357);e.exports=function(e,t){function r(r,i){return n.coerce(e,t,o,r,i)}r("hiddenlabels"),r("piecolorway",t.colorway),r("extendpiecolors")}},439:function(e,t,r){"use strict";var n=r(3),o=r(200),i=r(11),a=r(26),l=r(0),s=r(29),c=r(253),d=r(440);function f(e,t,r){var i=r[0],a=i.trace,l=i.cx,s=i.cy;"_hasHoverLabel"in a||(a._hasHoverLabel=!1),"_hasHoverEvent"in a||(a._hasHoverEvent=!1),e.on("mouseover",function(e){var r=t._fullLayout,f=t._fullData[a.index];if(!t._dragging&&!1!==r.hovermode){var p=f.hoverinfo;if(Array.isArray(p)&&(p=o.castHoverinfo({hoverinfo:[c.castOption(p,e.pts)],_module:a._module},r,0)),"all"===p&&(p="label+text+value+percent+name"),f.hovertemplate||"none"!==p&&"skip"!==p&&p){var u=e.rInscribed,h=l+e.pxmid[0]*(1-u),v=s+e.pxmid[1]*(1-u),x=r.separators,m=[];if(p&&-1!==p.indexOf("label")&&m.push(e.label),e.text=c.castOption(f.hovertext||f.text,e.pts),p&&-1!==p.indexOf("text")){var y=e.text;y&&m.push(y)}e.value=e.v,e.valueLabel=c.formatPieValue(e.v,x),p&&-1!==p.indexOf("value")&&m.push(e.valueLabel),e.percent=e.v/i.vTotal,e.percentLabel=c.formatPiePercent(e.percent,x),p&&-1!==p.indexOf("percent")&&m.push(e.percentLabel);var g=f.hoverlabel,b=g.font;o.loneHover({trace:a,x0:h-u*i.r,x1:h+u*i.r,y:v,text:m.join("<br>"),name:f.hovertemplate||-1!==p.indexOf("name")?f.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:c.castOption(g.bgcolor,e.pts)||e.color,borderColor:c.castOption(g.bordercolor,e.pts),fontFamily:c.castOption(b.family,e.pts),fontSize:c.castOption(b.size,e.pts),fontColor:c.castOption(b.color,e.pts),nameLength:c.castOption(g.namelength,e.pts),textAlign:c.castOption(g.align,e.pts),hovertemplate:c.castOption(f.hovertemplate,e.pts),hovertemplateLabels:e,eventData:[d(e,f)]},{container:r._hoverlayer.node(),outerContainer:r._paper.node(),gd:t}),a._hasHoverLabel=!0}a._hasHoverEvent=!0,t.emit("plotly_hover",{points:[d(e,f)],event:n.event})}}),e.on("mouseout",function(e){var r=t._fullLayout,i=t._fullData[a.index],l=n.select(this).datum();a._hasHoverEvent&&(e.originalEvent=n.event,t.emit("plotly_unhover",{points:[d(l,i)],event:n.event}),a._hasHoverEvent=!1),a._hasHoverLabel&&(o.loneUnhover(r._hoverlayer.node()),a._hasHoverLabel=!1)}),e.on("click",function(e){var r=t._fullLayout,i=t._fullData[a.index];t._dragging||!1===r.hovermode||(t._hoverdata=[d(e,i)],o.click(t,n.event))})}function p(e,t,r){var n=Math.sqrt(e.width*e.width+e.height*e.height),o=e.width/e.height,i=t.halfangle,a=t.ring,l=t.rInscribed,s=r.r||t.rpx1,c={scale:l*s*2/n,rCenter:1-l,rotate:0};if(c.scale>=1)return c;var d=o+1/(2*Math.tan(i)),f=s*Math.min(1/(Math.sqrt(d*d+.5)+d),a/(Math.sqrt(o*o+a/2)+o)),p={scale:2*f/e.height,rCenter:Math.cos(f/s)-f*o/s,rotate:(180/Math.PI*t.midangle+720)%180-90},u=1/o,h=u+1/(2*Math.tan(i)),v=s*Math.min(1/(Math.sqrt(h*h+.5)+h),a/(Math.sqrt(u*u+a/2)+u)),x={scale:2*v/e.width,rCenter:Math.cos(v/s)-v/o/s,rotate:(180/Math.PI*t.midangle+810)%180-90},m=x.scale>p.scale?x:p;return c.scale<1&&m.scale>c.scale?m:c}function u(e,t){return e.v!==t.vTotal||t.trace.hole?Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2):1}function h(e,t){var r=t.pxmid[0],n=t.pxmid[1],o=e.width/2,i=e.height/2;return r<0&&(o*=-1),n<0&&(i*=-1),{scale:1,rCenter:1,rotate:0,x:o+Math.abs(i)*(o>0?1:-1)/2,y:i/(1+r*r/(n*n)),outside:!0}}function v(e,t){var r=e.trace,n=t.h*(r.domain.y[1]-r.domain.y[0]);return Math.min(e.titleBox.height,n/2)}function x(e){var t,r=e.pull;if(Array.isArray(r))for(r=0,t=0;t<e.pull.length;t++)e.pull[t]>r&&(r=e.pull[t]);return r}e.exports={plot:function(e,t){var r=e._fullLayout;!function(e,t){for(var r,n,o=t._fullLayout,i=0;i<e.length;i++)if(r=e[i][0],(n=r.trace).title.text){var c=o.meta?l.templateString(n.title.text,{meta:o.meta}):n.title.text,d=a.tester.append("text").attr("data-notex",1).text(c).call(a.font,n.title.font).call(s.convertToTspans,t),f=a.bBox(d.node(),!0);r.titleBox={width:f.width,height:f.height},d.remove()}}(t,e),function(e,t){var r,n,o,i,a,l,s,c,d,f=[];for(o=0;o<e.length;o++)a=e[o][0],l=a.trace,r=t.w*(l.domain.x[1]-l.domain.x[0]),n=t.h*(l.domain.y[1]-l.domain.y[0]),l.title.text&&"middle center"!==l.title.position&&(n-=v(a,t)),s=x(l),a.r=Math.min(r,n)/(2+2*s),a.cx=t.l+t.w*(l.domain.x[1]+l.domain.x[0])/2,a.cy=t.t+t.h*(1-l.domain.y[0])-n/2,l.title.text&&-1!==l.title.position.indexOf("bottom")&&(a.cy-=v(a,t)),l.scalegroup&&-1===f.indexOf(l.scalegroup)&&f.push(l.scalegroup);for(i=0;i<f.length;i++){for(d=1/0,c=f[i],o=0;o<e.length;o++)(a=e[o][0]).trace.scalegroup===c&&(d=Math.min(d,a.r*a.r/a.vTotal));for(o=0;o<e.length;o++)(a=e[o][0]).trace.scalegroup===c&&(a.r=Math.sqrt(d*a.vTotal))}}(t,r._size);var o=l.makeTraceGroups(r._pielayer,t,"trace").each(function(t){var o=n.select(this),d=t[0],m=d.trace;!function(e){var t,r,n,o=e[0],i=o.trace,a=i.rotation*Math.PI/180,l=2*Math.PI/o.vTotal,s="px0",c="px1";if("counterclockwise"===i.direction){for(t=0;t<e.length&&e[t].hidden;t++);if(t===e.length)return;a+=l*e[t].v,l*=-1,s="px1",c="px0"}function d(e){return[o.r*Math.sin(e),-o.r*Math.cos(e)]}for(n=d(a),t=0;t<e.length;t++)(r=e[t]).hidden||(r[s]=n,a+=l*r.v/2,r.pxmid=d(a),r.midangle=a,a+=l*r.v/2,n=d(a),r[c]=n,r.largeArc=r.v>o.vTotal/2?1:0,r.halfangle=Math.PI*Math.min(r.v/o.vTotal,.5),r.ring=1-i.hole,r.rInscribed=u(r,o))}(t),o.attr("stroke-linejoin","round"),o.each(function(){var o=n.select(this).selectAll("g.slice").data(t);o.enter().append("g").classed("slice",!0),o.exit().remove();var u=[[[],[]],[[],[]]],y=!1;o.each(function(r){if(r.hidden)n.select(this).selectAll("path,g").remove();else{r.pointNumber=r.i,r.curveNumber=m.index,u[r.pxmid[1]<0?0:1][r.pxmid[0]<0?0:1].push(r);var o=d.cx,v=d.cy,x=n.select(this),g=x.selectAll("path.surface").data([r]);if(g.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),x.call(f,e,t),m.pull){var b=+c.castOption(m.pull,r.pts)||0;b>0&&(o+=b*r.pxmid[0],v+=b*r.pxmid[1])}r.cxFinal=o,r.cyFinal=v;var _=m.hole;if(r.v===d.vTotal){var L="M"+(o+r.px0[0])+","+(v+r.px0[1])+O(r.px0,r.pxmid,!0,1)+O(r.pxmid,r.px0,!0,1)+"Z";_?g.attr("d","M"+(o+_*r.px0[0])+","+(v+_*r.px0[1])+O(r.px0,r.pxmid,!1,_)+O(r.pxmid,r.px0,!1,_)+"Z"+L):g.attr("d",L)}else{var T=O(r.px0,r.px1,!0,1);if(_){var w=1-_;g.attr("d","M"+(o+_*r.px1[0])+","+(v+_*r.px1[1])+O(r.px1,r.px0,!1,_)+"l"+w*r.px0[0]+","+w*r.px0[1]+T+"Z")}else g.attr("d","M"+o+","+v+"l"+r.px0[0]+","+r.px0[1]+T+"Z")}var k=c.castOption(m.textposition,r.pts),A=x.selectAll("g.slicetext").data(r.text&&"none"!==k?[0]:[]);A.enter().append("g").classed("slicetext",!0),A.exit().remove(),A.each(function(){var t=l.ensureSingle(n.select(this),"text","",function(e){e.attr("data-notex",1)});t.text(r.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(a.font,"outside"===k?function(e,t,r){var n=c.castOption(e.outsidetextfont.color,t.pts)||c.castOption(e.textfont.color,t.pts)||r.color,o=c.castOption(e.outsidetextfont.family,t.pts)||c.castOption(e.textfont.family,t.pts)||r.family,i=c.castOption(e.outsidetextfont.size,t.pts)||c.castOption(e.textfont.size,t.pts)||r.size;return{color:n,family:o,size:i}}(m,r,e._fullLayout.font):function(e,t,r){var n=c.castOption(e.insidetextfont.color,t.pts);!n&&e._input.textfont&&(n=c.castOption(e._input.textfont.color,t.pts));var o=c.castOption(e.insidetextfont.family,t.pts)||c.castOption(e.textfont.family,t.pts)||r.family,a=c.castOption(e.insidetextfont.size,t.pts)||c.castOption(e.textfont.size,t.pts)||r.size;return{color:n||i.contrast(t.color),family:o,size:a}}(m,r,e._fullLayout.font)).call(s.convertToTspans,e);var f,u=a.bBox(t.node());"outside"===k?f=h(u,r):(f=p(u,r,d),"auto"===k&&f.scale<1&&(t.call(a.font,m.outsidetextfont),m.outsidetextfont.family===m.insidetextfont.family&&m.outsidetextfont.size===m.insidetextfont.size||(u=a.bBox(t.node())),f=h(u,r)));var x=o+r.pxmid[0]*f.rCenter+(f.x||0),g=v+r.pxmid[1]*f.rCenter+(f.y||0);f.outside&&(r.yLabelMin=g-u.height/2,r.yLabelMid=g,r.yLabelMax=g+u.height/2,r.labelExtraX=0,r.labelExtraY=0,y=!0),t.attr("transform","translate("+x+","+g+")"+(f.scale<1?"scale("+f.scale+")":"")+(f.rotate?"rotate("+f.rotate+")":"")+"translate("+-(u.left+u.right)/2+","+-(u.top+u.bottom)/2+")")})}function O(e,t,n,o){return"a"+o*d.r+","+o*d.r+" 0 "+r.largeArc+(n?" 1 ":" 0 ")+o*(t[0]-e[0])+","+o*(t[1]-e[1])}});var g=n.select(this).selectAll("g.titletext").data(m.title.text?[0]:[]);g.enter().append("g").classed("titletext",!0),g.exit().remove(),g.each(function(){var t,o=l.ensureSingle(n.select(this),"text","",function(e){e.attr("data-notex",1)}),i=r.meta?l.templateString(m.title.text,{meta:r.meta}):m.title.text;o.text(i).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(a.font,m.title.font).call(s.convertToTspans,e),t="middle center"===m.title.position?function(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}(d):function(e,t){var r,n,o=1,i=1,a=e.trace,l={x:e.cx,y:e.cy},s={tx:0,ty:0};return s.ty+=a.title.font.size,n=x(a),-1!==a.title.position.indexOf("top")?(l.y-=(1+n)*e.r,s.ty-=e.titleBox.height):-1!==a.title.position.indexOf("bottom")&&(l.y+=(1+n)*e.r),-1!==a.title.position.indexOf("left")?(r=t.w*(a.domain.x[1]-a.domain.x[0])/2+e.r,l.x-=(1+n)*e.r,s.tx+=e.titleBox.width/2):-1!==a.title.position.indexOf("center")?r=t.w*(a.domain.x[1]-a.domain.x[0]):-1!==a.title.position.indexOf("right")&&(r=t.w*(a.domain.x[1]-a.domain.x[0])/2+e.r,l.x+=(1+n)*e.r,s.tx-=e.titleBox.width/2),o=r/e.titleBox.width,i=v(e,t)/e.titleBox.height,{x:l.x,y:l.y,scale:Math.min(o,i),tx:s.tx,ty:s.ty}}(d,r._size),o.attr("transform","translate("+t.x+","+t.y+")"+(t.scale<1?"scale("+t.scale+")":"")+"translate("+t.tx+","+t.ty+")")}),y&&function(e,t){var r,n,o,i,a,l,s,d,f,p,u,h,v;function x(e,t){return e.pxmid[1]-t.pxmid[1]}function m(e,t){return t.pxmid[1]-e.pxmid[1]}function y(e,r){r||(r={});var o,d,f,u,h,v,x=r.labelExtraY+(n?r.yLabelMax:r.yLabelMin),m=n?e.yLabelMin:e.yLabelMax,y=n?e.yLabelMax:e.yLabelMin,g=e.cyFinal+a(e.px0[1],e.px1[1]),b=x-m;if(b*s>0&&(e.labelExtraY=b),Array.isArray(t.pull))for(d=0;d<p.length;d++)(f=p[d])===e||(c.castOption(t.pull,e.pts)||0)>=(c.castOption(t.pull,f.pts)||0)||((e.pxmid[1]-f.pxmid[1])*s>0?(u=f.cyFinal+a(f.px0[1],f.px1[1]),(b=u-m-e.labelExtraY)*s>0&&(e.labelExtraY+=b)):(y+e.labelExtraY-g)*s>0&&(o=3*l*Math.abs(d-p.indexOf(e)),h=f.cxFinal+i(f.px0[0],f.px1[0]),(v=h+o-(e.cxFinal+e.pxmid[0])-e.labelExtraX)*l>0&&(e.labelExtraX+=v)))}for(n=0;n<2;n++)for(o=n?x:m,a=n?Math.max:Math.min,s=n?1:-1,r=0;r<2;r++){for(i=r?Math.max:Math.min,l=r?1:-1,(d=e[n][r]).sort(o),f=e[1-n][r],p=f.concat(d),h=[],u=0;u<d.length;u++)void 0!==d[u].yLabelMid&&h.push(d[u]);for(v=!1,u=0;n&&u<f.length;u++)if(void 0!==f[u].yLabelMid){v=f[u];break}for(u=0;u<h.length;u++){var g=u&&h[u-1];v&&!u&&(g=v),y(h[u],g)}}}(u,m),function(e,t){e.each(function(e){var r=n.select(this);if(e.labelExtraX||e.labelExtraY){var o=r.select("g.slicetext text");o.attr("transform","translate("+e.labelExtraX+","+e.labelExtraY+")"+o.attr("transform"));var a=e.cxFinal+e.pxmid[0],s=e.cyFinal+e.pxmid[1],c="M"+a+","+s,d=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var f=e.labelExtraX*e.pxmid[1]/e.pxmid[0],p=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(f)>Math.abs(p)?c+="l"+p*e.pxmid[0]/e.pxmid[1]+","+p+"H"+(a+e.labelExtraX+d):c+="l"+e.labelExtraX+","+f+"v"+(p-f)+"h"+d}else c+="V"+(e.yLabelMid+e.labelExtraY)+"h"+d;l.ensureSingle(r,"path","textline").call(i.stroke,t.outsidetextfont.color).attr({"stroke-width":Math.min(2,t.outsidetextfont.size/8),d:c,fill:"none"})}else r.select("path.textline").remove()})}(o,m)})});setTimeout(function(){o.selectAll("tspan").each(function(){var e=n.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))})},0)},transformInsideText:p}},440:function(e,t,r){"use strict";var n=r(202).appendArrayMultiPointValues;e.exports=function(e,t){var r={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,v:e.v};return 1===e.pts.length&&(r.pointNumber=r.i=e.pts[0]),n(r,t,e.pts),r}},441:function(e,t,r){"use strict";var n=r(3),o=r(272);e.exports=function(e){e._fullLayout._pielayer.selectAll(".trace").each(function(e){var t=e[0].trace,r=n.select(this);r.style({opacity:t.opacity}),r.selectAll("path.surface").each(function(e){n.select(this).call(o,e,t)})})}},442:function(e,t,r){"use strict";var n=r(4),o=r(227).getModuleCalcData;t.name="pie",t.plot=function(e){var t=n.getModule("pie"),r=o(e.calcdata,t)[0];t.plot(e,r)},t.clean=function(e,t,r,n){var o=n._has&&n._has("pie"),i=t._has&&t._has("pie");o&&!i&&n._pielayer.selectAll("g.trace").remove()}}});