webpackJsonpCharts([0],Array(164).concat([function(e,t,r){var a,n;a=[r,t,r(364)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plots=r.Plots,t.newPlot=r.newPlot,t.purge=r.purge,t.relayout=r.relayout,t.register=r.register}.apply(t,a))||(e.exports=n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(216),n=r(215),i=r(209),o=r(0).removeElement,l=r(28),s=r(32),c=e.exports={};c.align=r(217),c.getCursor=r(218);var d=r(219);function u(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function h(e){return a(e.changedTouches?e.changedTouches[0]:e,document.body)}c.unhover=d.wrapped,c.unhoverRaw=d.raw,c.init=function(e){var t,r,a,d,f,p,g,v,m=e.gd,y=1,x=s.DBLCLICKDELAY,b=e.element;m._mouseDownTime||(m._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=w,i?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=w,b.addEventListener("touchstart",w,{passive:!1})):b.ontouchstart=w;var _=e.clampFn||function(e,t,r){return Math.abs(e)<r&&(e=0),Math.abs(t)<r&&(t=0),[e,t]};function w(i){m._dragged=!1,m._dragging=!0;var o=h(i);t=o[0],r=o[1],g=i.target,p=i,v=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=r),(a=(new Date).getTime())-m._mouseDownTime<x?y+=1:(y=1,m._mouseDownTime=a),e.prepFn&&e.prepFn(i,t,r),n&&!v?(f=u()).style.cursor=window.getComputedStyle(b).cursor:n||(f=document,d=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",A),document.addEventListener("touchend",A),!1!==e.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",k),document.addEventListener("touchmove",k))}function k(a){a.preventDefault();var n=h(a),i=e.minDrag||l.MINDRAG,o=_(n[0]-t,n[1]-r,i),s=o[0],d=o[1];(s||d)&&(m._dragged=!0,c.unhover(m)),m._dragged&&e.moveFn&&!v&&(m._dragdata={element:b,dx:s,dy:d},e.moveFn(s,d))}function A(t){if(delete m._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",k),document.removeEventListener("touchmove",k)),document.removeEventListener("mouseup",A),document.removeEventListener("touchend",A),n?o(f):d&&(f.documentElement.style.cursor=d,d=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>x&&(y=Math.max(y-1,1)),m._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(y,p),!v){var r;try{r=new MouseEvent("click",t)}catch(e){var a=h(t);(r=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,a[0],a[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}g.dispatchEvent(r)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},c.coverSlip=u},function(e,t,r){"use strict";var a=r(3),n=r(0),i=r(199),o=r(202),l=r(65),s=r(207);e.exports={moduleType:"component",name:"fx",constants:r(66),schema:{layout:l},attributes:r(68),layoutAttributes:l,supplyLayoutGlobalDefaults:r(221),supplyDefaults:r(222),supplyLayoutDefaults:r(223),calc:r(224),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:function(e,t,r){return n.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return n.castOption(e,r,"hoverinfo",function(r){return n.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)})},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=n.isD3Selection(e)?e:a.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(225)}},function(e,t,r){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},function(e,t,r){"use strict";var a=r(0);t.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},t.isTraceInSubplots=function(e,r){if("splom"===e.type){for(var a=e.xaxes||[],n=e.yaxes||[],i=0;i<a.length;i++)for(var o=0;o<n.length;o++)if(-1!==r.indexOf(a[i]+n[o]))return!0;return!1}return-1!==r.indexOf(t.getSubplot(e))},t.flat=function(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t;return r},t.p2c=function(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=e[a].p2c(t);return r},t.getDistanceFunction=function(e,r,a,n){return"closest"===e?n||t.quadrature(r,a):"x"===e?r:a},t.getClosest=function(e,t,r){if(!1!==r.index)r.index>=0&&r.index<e.length?r.distance=0:r.index=!1;else for(var a=0;a<e.length;a++){var n=t(e[a]);n<=r.distance&&(r.index=a,r.distance=n)}return r},t.inbox=function(e,t,r){return e*t<0||0===e?r:1/0},t.quadrature=function(e,t){return function(r){var a=e(r),n=t(r);return Math.sqrt(a*a+n*n)}},t.makeEventData=function(e,r,a){var n="index"in e?e.index:e.pointNumber,i={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var o=r._indexToPoints[n];1===o.length?i.pointIndex=o[0]:i.pointIndices=o}else i.pointIndex=n;return r._module.eventData?i=r._module.eventData(i,e,r,a,n):("xVal"in e?i.x=e.xVal:"x"in e&&(i.x=e.x),"yVal"in e?i.y=e.yVal:"y"in e&&(i.y=e.y),e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),void 0!==e.zLabelVal&&(i.z=e.zLabelVal)),t.appendArrayPointValue(i,r,n),i},t.appendArrayPointValue=function(e,t,r){var n=t._arrayAttrs;if(n)for(var l=0;l<n.length;l++){var s=n[l],c=i(s);if(void 0===e[c]){var d=o(a.nestedProperty(t,s).get(),r);void 0!==d&&(e[c]=d)}}},t.appendArrayMultiPointValues=function(e,t,r){var n=t._arrayAttrs;if(n)for(var l=0;l<n.length;l++){var s=n[l],c=i(s);if(void 0===e[c]){for(var d=a.nestedProperty(t,s).get(),u=new Array(r.length),h=0;h<r.length;h++)u[h]=o(d,r[h]);e[c]=u}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(e){return n[e]||e}function o(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}},function(e,t,r){"use strict";var a=r(212).EventEmitter,n={init:function(e){if(e._ev instanceof a)return e;var t=new a,r=new a;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(a,n){"undefined"!=typeof jQuery&&jQuery(e).trigger(a,n),t.emit(a,n),r.emit(a,n)},e},triggerHandler:function(e,t,r){var a,n;"undefined"!=typeof jQuery&&(a=jQuery(e).triggerHandler(t,r));var i=e._ev;if(!i)return a;var o,l=i._events[t];if(!l)return a;function s(e){return e.listener?(i.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[r]))):e.apply(i,[r])}for(l=Array.isArray(l)?l:[l],o=0;o<l.length-1;o++)s(l[o]);return n=s(l[o]),void 0!==a?a:n},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=n},function(e,t,r){"use strict";var a=r(241),n=r(4),i=r(11),o=r(200),l=r(0),s=r(226),c=r(69),d=r(202).makeEventData,u=r(27).getFromId,h=r(205),f=r(210).redrawReglTraces,p=r(28),g=p.MINSELECT,v=s.filter,m=s.tester;function y(e){return e._id}function x(e,t,r,a,n,i,o){var l,s,c,d,u,h,f,p,g,v=t._hoverdata,m=t._fullLayout.clickmode.indexOf("event")>-1,y=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(v)){k(e,t,i);var x=function(e,t){var r,a,n=e[0],i=-1,o=[];for(a=0;a<t.length;a++)if(r=t[a],n.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===n.hoverOnBox)break;void 0!==n.pointNumber?i=n.pointNumber:void 0!==n.binNumber&&(i=n.binNumber,o=n.pointNumbers);break}return{pointNumber:i,pointNumbers:o,searchInfo:r}}(v,l=T(t,r,a,n));if(x.pointNumbers.length>0?function(e,t){var r,a,n,i=[];for(n=0;n<e.length;n++)(r=e[n]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&i.push(r);if(1===i.length&&i[0]===t.searchInfo&&(a=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(n=0;n<t.pointNumbers.length;n++)if(a.selectedpoints.indexOf(t.pointNumbers[n])<0)return!1;return!0}return!1}(l,x):function(e){var t,r,a,n=0;for(a=0;a<e.length;a++)if(t=e[a],(r=t.cd[0].trace).selectedpoints){if(r.selectedpoints.length>1)return!1;if((n+=r.selectedpoints.length)>1)return!1}return 1===n}(l)&&(h=S(x))){for(o&&o.remove(),g=0;g<l.length;g++)(s=l[g])._module.selectPoints(s,!1);C(t,l),A(i),m&&t.emit("plotly_deselect",null)}else{for(f=e.shiftKey&&(void 0!==h?h:S(x)),c=function(e,t,r){return{pointNumber:e,searchInfo:t,subtract:r}}(x.pointNumber,x.searchInfo,f),d=w(i.selectionDefs.concat([c])),g=0;g<l.length;g++)if(u=L(l[g]._module.selectPoints(l[g],d),l[g]),y.length)for(var b=0;b<u.length;b++)y.push(u[b]);else y=u;C(t,l,p={points:y}),c&&i&&i.selectionDefs.push(c),o&&M(i.mergedPolygons,o),m&&t.emit("plotly_selected",p)}}}function b(e){return"pointNumber"in e&&"searchInfo"in e}function _(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,r,a,n){var i=e.searchInfo.cd[0].trace._expandedIndex;return n.cd[0].trace._expandedIndex===i&&a===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function w(e){for(var t=[],r=b(e[0])?0:e[0][0][0],a=r,n=b(e[0])?0:e[0][0][1],i=n,o=0;o<e.length;o++)if(b(e[o]))t.push(_(e[o]));else{var l=s.tester(e[o]);l.subtract=e[o].subtract,t.push(l),r=Math.min(r,l.xmin),a=Math.max(a,l.xmax),n=Math.min(n,l.ymin),i=Math.max(i,l.ymax)}return{xmin:r,xmax:a,ymin:n,ymax:i,pts:[],contains:function(e,r,a,n){for(var i=!1,o=0;o<t.length;o++)t[o].contains(e,r,a,n)&&(i=!1===t[o].subtract);return i},isRect:!1,degenerate:!1}}function k(e,t,r){var a=t._fullLayout,n=r.plotinfo,i=a._lastSelectedSubplot&&a._lastSelectedSubplot===n.id,o=e.shiftKey||e.altKey;i&&o&&n.selection&&n.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=n.selection.selectionDefs,r.mergedPolygons=n.selection.mergedPolygons):o&&n.selection||A(r),i||(z(t),a._lastSelectedSubplot=n.id)}function A(e){var t=e.plotinfo;t.selection={},t.selection.selectionDefs=e.selectionDefs=[],t.selection.mergedPolygons=e.mergedPolygons=[]}function T(e,t,r,a){var n,i,o,l=[],s=t.map(y),c=r.map(y);for(o=0;o<e.calcdata.length;o++)if(!0===(i=(n=e.calcdata[o])[0].trace).visible&&i._module&&i._module.selectPoints)if(!a||i.subplot!==a&&i.geo!==a)if("splom"===i.type&&i._xaxes[s[0]]&&i._yaxes[c[0]]){var d=f(i._module,n,t[0],r[0]);d.scene=e._fullLayout._splomScenes[i.uid],l.push(d)}else if("sankey"===i.type){var h=f(i._module,n,t[0],r[0]);l.push(h)}else{if(-1===s.indexOf(i.xaxis))continue;if(-1===c.indexOf(i.yaxis))continue;l.push(f(i._module,n,u(e,i.xaxis),u(e,i.yaxis)))}else l.push(f(i._module,n,t[0],r[0]));return l;function f(e,t,r,a){return{_module:e,cd:t,xaxis:r,yaxis:a}}}function M(e,t){var r,a,n=[];for(r=0;r<e.length;r++){var i=e[r];n.push(i.join("L")+"L"+i[0])}a=e.length>0?"M"+n.join("M")+"Z":"M0,0Z",t.attr("d",a)}function S(e){var t=e.searchInfo.cd[0].trace,r=e.pointNumber,a=e.pointNumbers,n=a.length>0?a[0]:r;return!!t.selectedpoints&&t.selectedpoints.indexOf(n)>-1}function C(e,t,r){var a,i,o,l;for(a=0;a<t.length;a++){var s=t[a].cd[0].trace._fullInput,c=e._fullLayout._tracePreGUI[s.uid]||{};void 0===c.selectedpoints&&(c.selectedpoints=s._input.selectedpoints||null)}if(r){var d=r.points||[];for(a=0;a<t.length;a++)(l=t[a].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(a=0;a<d.length;a++){var u=d[a],p=u.data,g=u.fullData;u.pointIndices?([].push.apply(p.selectedpoints,u.pointIndices),l._fullInput!==l&&[].push.apply(g.selectedpoints,u.pointIndices)):(p.selectedpoints.push(u.pointIndex),l._fullInput!==l&&g.selectedpoints.push(u.pointIndex))}}else for(a=0;a<t.length;a++)delete(l=t[a].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var v=!1;for(a=0;a<t.length;a++){l=(o=(i=t[a]).cd)[0].trace,n.traceIs(l,"regl")&&(v=!0);var m=i._module,y=m.styleOnSelect||m.style;y&&y(e,o)}v&&(h(e),f(e))}function L(e,t){if(Array.isArray(e))for(var r=t.cd,a=t.cd[0].trace,n=0;n<e.length;n++)e[n]=d(e[n],a,r);return e}function z(e){var t=(e._fullLayout||{})._zoomlayer;t&&t.selectAll(".select-outline").remove()}e.exports={prepSelect:function(e,t,r,n,s){var d,u,h,f,y,b,_,S=n.gd,z=S._fullLayout,I=z._zoomlayer,P=n.element.getBoundingClientRect(),O=n.plotinfo,D=O.xaxis._offset,R=O.yaxis._offset,j=t-P.left,E=r-P.top,F=j,B=E,N="M"+j+","+E,H=n.xaxes[0]._length,V=n.yaxes[0]._length,q=n.xaxes.concat(n.yaxes),G=e.altKey;k(e,S,n),"lasso"===s&&(d=v([[j,E]],p.BENDPX));var X=I.selectAll("path.select-outline-"+O.id).data([1,2]);X.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+O.id}).attr("transform","translate("+D+", "+R+")").attr("d",N+"Z");var W,U=I.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform","translate("+D+", "+R+")").attr("d","M0,0Z"),Z=z._uid+p.SELECTID,Y=[],Q=T(S,n.xaxes,n.yaxes,n.subplot);function J(e){var t="y"===e._id.charAt(0)?1:0;return function(r){return e.p2d(r[t])}}function $(e,t){return e-t}W=O.fillRangeItems?O.fillRangeItems:"select"===s?function(e,t){var r=e.range={};for(y=0;y<q.length;y++){var a=q[y],n=a._id.charAt(0);r[a._id]=[a.p2d(t[n+"min"]),a.p2d(t[n+"max"])].sort($)}}:function(e,t,r){var a=e.lassoPoints={};for(y=0;y<q.length;y++){var n=q[y];a[n._id]=r.filtered.map(J(n))}},n.moveFn=function(e,t){F=Math.max(0,Math.min(H,e+j)),B=Math.max(0,Math.min(V,t+E));var r=Math.abs(F-j),i=Math.abs(B-E);if("select"===s){var o=z.selectdirection;"h"===(o="any"===z.selectdirection?i<Math.min(.6*r,g)?"h":r<Math.min(.6*i,g)?"v":"d":z.selectdirection)?((f=[[j,0],[j,V],[F,V],[F,0]]).xmin=Math.min(j,F),f.xmax=Math.max(j,F),f.ymin=Math.min(0,V),f.ymax=Math.max(0,V),U.attr("d","M"+f.xmin+","+(E-g)+"h-4v"+2*g+"h4ZM"+(f.xmax-1)+","+(E-g)+"h4v"+2*g+"h-4Z")):"v"===o?((f=[[0,E],[0,B],[H,B],[H,E]]).xmin=Math.min(0,H),f.xmax=Math.max(0,H),f.ymin=Math.min(E,B),f.ymax=Math.max(E,B),U.attr("d","M"+(j-g)+","+f.ymin+"v-4h"+2*g+"v4ZM"+(j-g)+","+(f.ymax-1)+"v4h"+2*g+"v-4Z")):"d"===o&&((f=[[j,E],[j,B],[F,B],[F,E]]).xmin=Math.min(j,F),f.xmax=Math.max(j,F),f.ymin=Math.min(E,B),f.ymax=Math.max(E,B),U.attr("d","M0,0Z"))}else"lasso"===s&&(d.addPt([F,B]),f=d.filtered);n.selectionDefs&&n.selectionDefs.length?(h=function(e,t,r){return r?a.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:a.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(n.mergedPolygons,f,G),f.subtract=G,u=w(n.selectionDefs.concat([f]))):(h=[f],u=m(f)),M(h,X),c.throttle(Z,p.SELECTDELAY,function(){var e;Y=[];var t,r=[];for(y=0;y<Q.length;y++)if(t=(b=Q[y])._module.selectPoints(b,u),r.push(t),e=L(t,b),Y.length)for(var a=0;a<e.length;a++)Y.push(e[a]);else Y=e;C(S,Q,_={points:Y}),W(_,f,d),n.gd.emit("plotly_selecting",_)})},n.clickFn=function(e,t){var r=z.clickmode;U.remove(),c.done(Z).then(function(){if(c.clear(Z),2===e){for(X.remove(),y=0;y<Q.length;y++)(b=Q[y])._module.selectPoints(b,!1);C(S,Q),A(n),S.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&x(t,S,n.xaxes,n.yaxes,n.subplot,n,X),"event"===r&&S.emit("plotly_selected",void 0);o.click(S,t)}).catch(l.error)},n.doneFn=function(){U.remove(),c.done(Z).then(function(){c.clear(Z),n.gd.emit("plotly_selected",_),f&&n.selectionDefs&&(f.subtract=G,n.selectionDefs.push(f),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,h)),n.doneFnCompleted&&n.doneFnCompleted(Y)}).catch(l.error)}},clearSelect:z,selectOnClick:x}},function(e,t,r){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},function(e,t){e.exports=!0},function(e,t,r){"use strict";var a=r(3),n=r(1),i=r(13),o=r(0),l=r(203),s=r(29),c=r(220),d=r(26),u=r(11),h=r(199),f=r(63),p=r(4),g=r(202),v=r(66),m=v.YANGLE,y=Math.PI*m/180,x=1/Math.sin(y),b=Math.cos(y),_=Math.sin(y),w=v.HOVERARROWSIZE,k=v.HOVERTEXTPAD;t.hover=function(e,t,r,i){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){!function(e,t,r,i){r||(r="xy");var s=Array.isArray(r)?r:[r],d=e._fullLayout,v=d._plots||[],m=v[r],y=d._has("cartesian");if(m){var b=m.overlays.map(function(e){return e.id});s=s.concat(b)}for(var _=s.length,w=new Array(_),k=new Array(_),A=!1,z=0;z<_;z++){var I=s[z],P=v[I];if(P)A=!0,w[z]=f.getFromId(e,P.xaxis._id),k[z]=f.getFromId(e,P.yaxis._id);else{var O=d[I]._subplot;w[z]=O.xaxis,k[z]=O.yaxis}}var D=t.hovermode||d.hovermode;D&&!A&&(D="closest");if(-1===["x","y","closest"].indexOf(D)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return h.unhoverRaw(e,t);var R,j,E,F,B,N,H,V,q,G,X,W,U,Z=-1===d.hoverdistance?1/0:d.hoverdistance,Y=-1===d.spikedistance?1/0:d.spikedistance,Q=[],J=[],$={hLinePoint:null,vLinePoint:null},K=!1;if(Array.isArray(t))for(D="array",E=0;E<t.length;E++)(B=e.calcdata[t[E].curveNumber||0])&&(N=B[0].trace,"skip"!==B[0].trace.hoverinfo&&(J.push(B),"h"===N.orientation&&(K=!0)));else{for(F=0;F<e.calcdata.length;F++)B=e.calcdata[F],"skip"!==(N=B[0].trace).hoverinfo&&g.isTraceInSubplots(N,s)&&(J.push(B),"h"===N.orientation&&(K=!0));var ee,te,re=!t.target;if(re)ee="xpx"in t?t.xpx:w[0]._length/2,te="ypx"in t?t.ypx:k[0]._length/2;else{if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var ae=t.target.getBoundingClientRect();if(ee=t.clientX-ae.left,te=t.clientY-ae.top,ee<0||ee>w[0]._length||te<0||te>k[0]._length)return h.unhoverRaw(e,t)}if(t.pointerX=ee+w[0]._offset,t.pointerY=te+k[0]._offset,R="xval"in t?g.flat(s,t.xval):g.p2c(w,ee),j="yval"in t?g.flat(s,t.yval):g.p2c(k,te),!n(R[0])||!n(j[0]))return o.warn("Fx.hover failed",t,e),h.unhoverRaw(e,t)}var ne=1/0;for(F=0;F<J.length;F++)if((B=J[F])&&B[0]&&B[0].trace&&!0===B[0].trace.visible&&(N=B[0].trace,-1===["carpet","contourcarpet"].indexOf(N._module.name))){if("splom"===N.type?H=s[V=0]:(H=g.getSubplot(N),V=s.indexOf(H)),q=D,W={cd:B,trace:N,xa:w[V],ya:k[V],maxHoverDistance:Z,maxSpikeDistance:Y,index:!1,distance:Math.min(ne,Z),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:N.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},d[H]&&(W.subplot=d[H]._subplot),d._splomScenes&&d._splomScenes[N.uid]&&(W.scene=d._splomScenes[N.uid]),U=Q.length,"array"===q){var ie=t[F];"pointNumber"in ie?(W.index=ie.pointNumber,q="closest"):(q="","xval"in ie&&(G=ie.xval,q="x"),"yval"in ie&&(X=ie.yval,q=q?"closest":"y"))}else G=R[V],X=j[V];if(0!==Z)if(N._module&&N._module.hoverPoints){var oe=N._module.hoverPoints(W,G,X,q,d._hoverlayer);if(oe)for(var le,se=0;se<oe.length;se++)le=oe[se],n(le.x0)&&n(le.y0)&&Q.push(S(le,D))}else o.log("Unrecognized trace type in hover:",N);if("closest"===D&&Q.length>U&&(Q.splice(0,U),ne=Q[0].distance),y&&0!==Y&&0===Q.length){W.distance=Y,W.index=!1;var ce=N._module.hoverPoints(W,G,X,"closest",d._hoverlayer);if(ce&&(ce=ce.filter(function(e){return e.spikeDistance<=Y})),ce&&ce.length){var de,ue=ce.filter(function(e){return e.xa.showspikes});if(ue.length){var he=ue[0];n(he.x0)&&n(he.y0)&&(de=ve(he),(!$.vLinePoint||$.vLinePoint.spikeDistance>de.spikeDistance)&&($.vLinePoint=de))}var fe=ce.filter(function(e){return e.ya.showspikes});if(fe.length){var pe=fe[0];n(pe.x0)&&n(pe.y0)&&(de=ve(pe),(!$.hLinePoint||$.hLinePoint.spikeDistance>de.spikeDistance)&&($.hLinePoint=de))}}}}function ge(e,t){for(var r,a=null,n=1/0,i=0;i<e.length;i++)(r=e[i].spikeDistance)<n&&r<=t&&(a=e[i],n=r);return a}function ve(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var me={fullLayout:d,container:d._hoverlayer,outerContainer:d._paperdiv,event:t},ye=e._spikepoints,xe={vLinePoint:$.vLinePoint,hLinePoint:$.hLinePoint};if(e._spikepoints=xe,y&&0!==Y&&0!==Q.length){var be=Q.filter(function(e){return e.ya.showspikes}),_e=ge(be,Y);$.hLinePoint=ve(_e);var we=Q.filter(function(e){return e.xa.showspikes}),ke=ge(we,Y);$.vLinePoint=ve(ke)}if(0===Q.length){var Ae=h.unhoverRaw(e,t);return!y||null===$.hLinePoint&&null===$.vLinePoint||L(ye)&&C($,me),Ae}y&&L(ye)&&C($,me);Q.sort(function(e,t){return e.distance-t.distance});var Te=e._hoverdata,Me=[];for(E=0;E<Q.length;E++){var Se=Q[E],Ce=g.makeEventData(Se,Se.trace,Se.cd);if(!1!==Se.hovertemplate){var Le=!1;Se.cd[Se.index]&&Se.cd[Se.index].ht&&(Le=Se.cd[Se.index].ht),Se.hovertemplate=Le||Se.trace.hovertemplate||!1}Se.eventData=[Ce],Me.push(Ce)}e._hoverdata=Me;var ze="y"===D&&(J.length>1||Q.length>1)||"closest"===D&&K&&Q.length>1,Ie=u.combine(d.plot_bgcolor||u.background,d.paper_bgcolor),Pe={hovermode:D,rotateLabels:ze,bgColor:Ie,container:d._hoverlayer,outerContainer:d._paperdiv,commonLabelOpts:d.hoverlabel,hoverdistance:d.hoverdistance},Oe=T(Q,Pe,e);if(function(e,t,r){var a,n,i,o,l,s,c,d=0,u=1,h=e.size(),f=new Array(h);function p(e){var t=e[0],r=e[e.length-1];if(n=t.pmin-t.pos-t.dp+t.size,i=r.pos+r.dp+r.size-t.pmax,n>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=n;a=!1}if(!(i<.01)){if(n<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;a=!1}if(a){var c=0;for(o=0;o<e.length;o++)(s=e[o]).pos+s.dp+s.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos>t.pmax-1&&(s.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if((s=e[o]).pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}for(e.each(function(e,a){var n=e[t],i="x"===n._id.charAt(0),o=n.range;!a&&o&&o[0]>o[1]!==i&&(u=-1),f[a]=[{datum:e,i:a,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?x:1)/2,pmin:0,pmax:i?r.width:r.height}]}),f.sort(function(e,t){return e[0].posref-t[0].posref||u*(t[0].traceIndex-e[0].traceIndex)});!a&&d<=h;){for(d++,a=!0,o=0;o<f.length-1;){var g=f[o],v=f[o+1],m=g[g.length-1],y=v[0];if((n=m.pos+m.dp+m.size-y.pos-y.dp+y.size)>.01&&m.pmin===y.pmin&&m.pmax===y.pmax){for(l=v.length-1;l>=0;l--)v[l].dp+=n;for(g.push.apply(g,v),f.splice(o+1,1),c=0,l=g.length-1;l>=0;l--)c+=g[l].dp;for(i=c/g.length,l=g.length-1;l>=0;l--)g[l].dp-=i;a=!1}else o++}f.forEach(p)}for(o=f.length-1;o>=0;o--){var b=f[o];for(l=b.length-1;l>=0;l--){var _=b[l],w=_.datum;w.offset=_.dp,w.del=_.del}}}(Oe,ze?"xa":"ya",d),M(Oe,ze),t.target&&t.target.tagName){var De=p.getComponentMethod("annotations","hasClickToShow")(e,Me);c(a.select(t.target),De?"pointer":"")}if(!t.target||i||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var a=r.length-1;a>=0;a--){var n=r[a],i=e._hoverdata[a];if(n.curveNumber!==i.curveNumber||String(n.pointNumber)!==String(i.pointNumber)||String(n.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(e,0,Te))return;Te&&e.emit("plotly_unhover",{event:t,points:Te});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:w,yaxes:k,xvals:R,yvals:j})}(e,t,r,i)})},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var n=e.map(function(e){return{color:e.color||u.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}}),i=a.select(t.container),o=t.outerContainer?a.select(t.outerContainer):i,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||u.background,container:i,outerContainer:o},s=T(n,l,t.gd),c=0,d=0;return s.sort(function(e,t){return e.y0-t.y0}).each(function(e,r){var a=e.y0-e.by/2;e.offset=a-5<c?c-a+5:0,c=a+e.by+e.offset,r===t.anchorIndex&&(d=e.offset)}).each(function(e){e.offset-=d}),M(s,l.rotateLabels),r?s:s.node()};var A=/<extra>([\s\S]*)<\/extra>/;function T(e,t,r){var n=r._fullLayout,i=t.hovermode,l=t.rotateLabels,c=t.bgColor,h=t.container,f=t.outerContainer,p=t.commonLabelOpts||{},g=t.fontFamily||v.HOVERFONT,y=t.fontSize||v.HOVERFONTSIZE,x=e[0],b=x.xa,_=x.ya,T="y"===i?"yLabel":"xLabel",M=x[T],S=(String(M)||"").split(" ")[0],C=f.node().getBoundingClientRect(),L=C.top,I=C.width,P=C.height,O=void 0!==M&&x.distance<=t.hoverdistance&&("x"===i||"y"===i);if(O){var D,R,j=!0;for(D=0;D<e.length;D++)if(j&&void 0===e[D].zLabel&&(j=!1),R=e[D].hoverinfo||e[D].trace.hoverinfo){var E=Array.isArray(R)?R:R.split("+");if(-1===E.indexOf("all")&&-1===E.indexOf(i)){O=!1;break}}j&&(O=!1)}var F=h.selectAll("g.axistext").data(O?[0]:[]);F.enter().append("g").classed("axistext",!0),F.exit().remove(),F.each(function(){var t=a.select(this),n=o.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),l=o.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),c=p.bgcolor||u.defaultLine,h=p.bordercolor||u.contrast(c),f=u.contrast(c);n.style({fill:c,stroke:h}),l.text(M).call(d.font,p.font.family||g,p.font.size||y,p.font.color||f).call(s.positionText,0,0).call(s.convertToTspans,r),t.attr("transform","");var v=l.node().getBoundingClientRect();if("x"===i){l.attr("text-anchor","middle").call(s.positionText,0,"top"===b.side?L-v.bottom-w-k:L-v.top+w+k);var m="top"===b.side?"-":"";n.attr("d","M0,0L"+w+","+m+w+"H"+(k+v.width/2)+"v"+m+(2*k+v.height)+"H-"+(k+v.width/2)+"V"+m+w+"H-"+w+"Z"),t.attr("transform","translate("+(b._offset+(x.x0+x.x1)/2)+","+(_._offset+("top"===b.side?0:_._length))+")")}else{l.attr("text-anchor","right"===_.side?"start":"end").call(s.positionText,("right"===_.side?1:-1)*(k+w),L-v.top-v.height/2);var A="right"===_.side?"":"-";n.attr("d","M0,0L"+A+w+","+w+"V"+(k+v.height/2)+"h"+A+(2*k+v.width)+"V-"+(k+v.height/2)+"H"+A+w+"V-"+w+"Z"),t.attr("transform","translate("+(b._offset+("right"===_.side?b._length:0))+","+(_._offset+(x.y0+x.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[T]||"").split(" ")[0]===S})});var B=h.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return B.enter().append("g").classed("hovertext",!0).each(function(){var e=a.select(this);e.append("rect").call(u.fill,u.addOpacity(c,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,g,y)}),B.exit().remove(),B.each(function(e){var t=a.select(this).attr("transform",""),h="",f="",p=e.bgcolor||e.color,v=u.combine(u.opacity(p)?p:u.defaultLine,c),x=u.combine(u.opacity(e.color)?e.color:u.defaultLine,c),b=e.borderColor||u.contrast(v);void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(n.meta&&(e.name=o.templateString(e.name,{meta:n.meta})),h=z(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(f+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(f+="y: "+e.yLabel+"<br>"),f+=(f?"z: ":"")+e.zLabel):O&&e[i+"Label"]===M?f=e[("x"===i?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(f=e.yLabel):f=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(f+=(f?"<br>":"")+e.text),void 0!==e.extraText&&(f+=(f?"<br>":"")+e.extraText),""!==f||e.hovertemplate||(""===h&&t.remove(),f=h);var _=r._fullLayout._d3locale,T=e.hovertemplate||!1,S=e.hovertemplateLabels||e,C=e.eventData[0]||{};T&&(f=(f=o.hovertemplateString(T,S,_,C,{meta:n.meta})).replace(A,function(t,r){return h=z(r,e.nameLength),""}));var D=t.select("text.nums").call(d.font,e.fontFamily||g,e.fontSize||y,e.fontColor||b).text(f).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r),R=t.select("text.name"),j=0,E=0;if(h&&h!==f){R.call(d.font,e.fontFamily||g,e.fontSize||y,x).text(h).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r);var F=R.node().getBoundingClientRect();j=F.width+2*k,E=F.height+2*k}else R.remove(),t.select("rect").remove();t.select("path").style({fill:v,stroke:b});var B,N,H=D.node().getBoundingClientRect(),V=e.xa._offset+(e.x0+e.x1)/2,q=e.ya._offset+(e.y0+e.y1)/2,G=Math.abs(e.x1-e.x0),X=Math.abs(e.y1-e.y0),W=H.width+w+k+j;if(e.ty0=L-H.top,e.bx=H.width+2*k,e.by=Math.max(H.height+2*k,E),e.anchor="start",e.txwidth=H.width,e.tx2width=j,e.offset=0,l)e.pos=V,B=q+X/2+W<=P,N=q-X/2-W>=0,"top"!==e.idealAlign&&B||!N?B?(q+=X/2,e.anchor="start"):e.anchor="middle":(q-=X/2,e.anchor="end");else if(e.pos=q,B=V+G/2+W<=I,N=V-G/2-W>=0,"left"!==e.idealAlign&&B||!N)if(B)V+=G/2,e.anchor="start";else{e.anchor="middle";var U=W/2,Z=V+U-I,Y=V-U;Z>0&&(V-=Z),Y<0&&(V+=-Y)}else V-=G/2,e.anchor="end";D.attr("text-anchor",e.anchor),j&&R.attr("text-anchor",e.anchor),t.attr("transform","translate("+V+","+q+")"+(l?"rotate("+m+")":""))}),B}function M(e,t){e.each(function(e){var r=a.select(this);if(e.del)return r.remove();var n=r.select("text.nums"),i=e.anchor,o="end"===i?-1:1,l={start:1,end:-1,middle:0}[i],c=l*(w+k),u=c+l*(e.txwidth+k),h=0,f=e.offset;"middle"===i&&(c-=e.tx2width/2,u+=e.txwidth/2+k),t&&(f*=-_,h=e.offset*b),r.select("path").attr("d","middle"===i?"M-"+(e.bx/2+e.tx2width/2)+","+(f-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(o*w+h)+","+(w+f)+"v"+(e.by/2-w)+"h"+o*e.bx+"v-"+e.by+"H"+(o*w+h)+"V"+(f-w)+"Z");var p=c+h,g=f+e.ty0-e.by/2+k,v=e.textAlign||"auto";"auto"!==v&&("left"===v&&"start"!==i?(n.attr("text-anchor","start"),p="middle"===i?-e.bx/2-e.tx2width/2+k:-e.bx-k):"right"===v&&"end"!==i&&(n.attr("text-anchor","end"),p="middle"===i?e.bx/2-e.tx2width/2-k:e.bx+k)),n.call(s.positionText,p,g),e.tx2width&&(r.select("text.name").call(s.positionText,u+l*k+h,f+e.ty0-e.by/2+k),r.select("rect").call(d.setRect,u+(l-1)*e.tx2width/2+h,f-e.by/2-1,e.tx2width,e.by+2))})}function S(e,t){var r=e.index,a=e.trace||{},i=e.cd[0],l=e.cd[r]||{};function s(e){return e||n(e)&&0===e}var c=Array.isArray(r)?function(e,t){var n=o.castOption(i,r,e);return s(n)?n:o.extractOption({},a,"",t)}:function(e,t){return o.extractOption(l,a,e,t)};function d(t,r,a){var n=c(r,a);s(n)&&(e[t]=n)}if(d("hoverinfo","hi","hoverinfo"),d("bgcolor","hbg","hoverlabel.bgcolor"),d("borderColor","hbc","hoverlabel.bordercolor"),d("fontFamily","htf","hoverlabel.font.family"),d("fontSize","hts","hoverlabel.font.size"),d("fontColor","htc","hoverlabel.font.color"),d("nameLength","hnl","hoverlabel.namelength"),d("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===a.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:f.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:f.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var u=f.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+u+" / -"+f.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+u,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var h=f.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+h+" / -"+f.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+h,"y"===t&&(e.distance+=1)}var p=e.hoverinfo||e.trace.hoverinfo;return p&&"all"!==p&&(-1===(p=Array.isArray(p)?p:p.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===p.indexOf("y")&&(e.yLabel=void 0),-1===p.indexOf("z")&&(e.zLabel=void 0),-1===p.indexOf("text")&&(e.text=void 0),-1===p.indexOf("name")&&(e.name=void 0)),e}function C(e,t){var r,a,n=t.container,o=t.fullLayout,l=t.event,s=!!e.hLinePoint,c=!!e.vLinePoint;if(n.selectAll(".spikeline").remove(),c||s){var h=u.combine(o.plot_bgcolor,o.paper_bgcolor);if(s){var f,p,g=e.hLinePoint;r=g&&g.xa,"cursor"===(a=g&&g.ya).spikesnap?(f=l.pointerX,p=l.pointerY):(f=r._offset+g.x,p=a._offset+g.y);var v,m,y=i.readability(g.color,h)<1.5?u.contrast(h):g.color,x=a.spikemode,b=a.spikethickness,_=a.spikecolor||y,w=a._boundingBox,k=(w.left+w.right)/2<f?w.right:w.left;-1===x.indexOf("toaxis")&&-1===x.indexOf("across")||(-1!==x.indexOf("toaxis")&&(v=k,m=f),-1!==x.indexOf("across")&&(v=a._counterSpan[0],m=a._counterSpan[1]),n.insert("line",":first-child").attr({x1:v,x2:m,y1:p,y2:p,"stroke-width":b,stroke:_,"stroke-dasharray":d.dashStyle(a.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:v,x2:m,y1:p,y2:p,"stroke-width":b+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)),-1!==x.indexOf("marker")&&n.insert("circle",":first-child").attr({cx:k+("right"!==a.side?b:-b),cy:p,r:b,fill:_}).classed("spikeline",!0)}if(c){var A,T,M=e.vLinePoint;r=M&&M.xa,a=M&&M.ya,"cursor"===r.spikesnap?(A=l.pointerX,T=l.pointerY):(A=r._offset+M.x,T=a._offset+M.y);var S,C,L=i.readability(M.color,h)<1.5?u.contrast(h):M.color,z=r.spikemode,I=r.spikethickness,P=r.spikecolor||L,O=r._boundingBox,D=(O.top+O.bottom)/2<T?O.bottom:O.top;-1===z.indexOf("toaxis")&&-1===z.indexOf("across")||(-1!==z.indexOf("toaxis")&&(S=D,C=T),-1!==z.indexOf("across")&&(S=r._counterSpan[0],C=r._counterSpan[1]),n.insert("line",":first-child").attr({x1:A,x2:A,y1:S,y2:C,"stroke-width":I,stroke:P,"stroke-dasharray":d.dashStyle(r.spikedash,I)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:A,x2:A,y1:S,y2:C,"stroke-width":I+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)),-1!==z.indexOf("marker")&&n.insert("circle",":first-child").attr({cx:A,cy:D-("top"!==r.side?I:-I),r:I,fill:P}).classed("spikeline",!0)}}}function L(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function z(e,t){return s.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t,r,n){r("hoverlabel.bgcolor",(n=n||{}).bgcolor),r("hoverlabel.bordercolor",n.bordercolor),r("hoverlabel.namelength",n.namelength),a.coerceFont(r,"hoverlabel.font",n.font),r("hoverlabel.align",n.align)}},function(e,t,r){"use strict";var a=r(206);e.exports=a&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(43),o=r(0),l=r(205),s=r(11),c=r(26),d=r(73),u=r(237),h=r(63),f=r(20),p=r(213),g=p.enforce,v=p.clean,m=r(67).doAutoRange,y="start",x="middle",b="end";function _(e,t,r){for(var a=0;a<r.length;a++){var n=r[a][0],i=r[a][1];if(!(n[0]>=e[1]||n[1]<=e[0])&&(i[0]<t[1]&&i[1]>t[0]))return!0}return!1}function w(e){var r,n,i,l,d,p,g=e._fullLayout,v=g._size,m=v.p,y=h.list(e,"",!0);if(g._paperdiv.style({width:e._context.responsive&&g.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":g.width+"px",height:e._context.responsive&&g.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(c.setSize,g.width,g.height),e._context.setBackground(e,g.paper_bgcolor),t.drawMainTitle(e),u.manage(e),!g._has("cartesian"))return e._promises.length&&Promise.all(e._promises);function x(e,t,r){var a=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===r?t._offset-m-a:t._offset+t._length+m+a:v.t+v.h*(1-(e.position||0))+a%1:t?"right"===r?t._offset+t._length+m+a:t._offset-m-a:v.l+v.w*(e.position||0)+a%1}for(r=0;r<y.length;r++){var b=(l=y[r])._anchorAxis;l._linepositions={},l._lw=c.crispRound(e,l.linewidth,1),l._mainLinePosition=x(l,b,l.side),l._mainMirrorPosition=l.mirror&&b?x(l,b,f.OPPOSITE_SIDE[l.side]):null}var w=[],A=[],M=[],S=1===s.opacity(g.paper_bgcolor)&&1===s.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(n in g._plots)if((i=g._plots[n]).mainplot)i.bg&&i.bg.remove(),i.bg=void 0;else{var C=i.xaxis.domain,L=i.yaxis.domain,z=i.plotgroup;if(_(C,L,M)){var I=z.node(),P=i.bg=o.ensureSingle(z,"rect","bg");I.insertBefore(P.node(),I.childNodes[0]),A.push(n)}else z.select("rect.bg").remove(),M.push([C,L]),S||(w.push(n),A.push(n))}var O,D,R,j,E,F,B,N,H,V,q,G,X,W=g._bgLayer.selectAll(".bg").data(w);for(W.enter().append("rect").classed("bg",!0),W.exit().remove(),W.each(function(e){g._plots[e].bg=a.select(this)}),r=0;r<A.length;r++)i=g._plots[A[r]],d=i.xaxis,p=i.yaxis,i.bg&&i.bg.call(c.setRect,d._offset-m,p._offset-m,d._length+2*m,p._length+2*m).call(s.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(n in g._plots){i=g._plots[n],d=i.xaxis,p=i.yaxis;var U,Z,Y=i.clipId="clip"+g._uid+n+"plot",Q=o.ensureSingleById(g._clips,"clipPath",Y,function(e){e.classed("plotclip",!0).append("rect")});i.clipRect=Q.select("rect").attr({width:d._length,height:p._length}),c.setTranslate(i.plot,d._offset,p._offset),i._hasClipOnAxisFalse?(U=null,Z=Y):(U=Y,Z=null),c.setClipUrl(i.plot,U,e),i.layerClipId=Z}function J(e){return"M"+O+","+e+"H"+D}function $(e){return"M"+d._offset+","+e+"h"+d._length}function K(e){return"M"+e+","+N+"V"+B}function ee(e){return"M"+e+","+p._offset+"v"+p._length}function te(e,t,r){if(!e.showline||n!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var a=t(e._mainLinePosition);return e.mirror&&(a+=t(e._mainMirrorPosition)),a}for(n in g._plots){i=g._plots[n],d=i.xaxis,p=i.yaxis;var re="M0,0";k(d,n)&&(E=T(d,"left",p,y),O=d._offset-(E?m+E:0),F=T(d,"right",p,y),D=d._offset+d._length+(F?m+F:0),R=x(d,p,"bottom"),j=x(d,p,"top"),!(X=!d._anchorAxis||n!==d._mainSubplot)||"allticks"!==d.mirror&&"all"!==d.mirror||(d._linepositions[n]=[R,j]),re=te(d,J,$),X&&d.showline&&("all"===d.mirror||"allticks"===d.mirror)&&(re+=J(R)+J(j)),i.xlines.style("stroke-width",d._lw+"px").call(s.stroke,d.showline?d.linecolor:"rgba(0,0,0,0)")),i.xlines.attr("d",re);var ae="M0,0";k(p,n)&&(q=T(p,"bottom",d,y),B=p._offset+p._length+(q?m:0),G=T(p,"top",d,y),N=p._offset-(G?m:0),H=x(p,d,"left"),V=x(p,d,"right"),!(X=!p._anchorAxis||n!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[n]=[H,V]),ae=te(p,K,ee),X&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(ae+=K(H)+K(V)),i.ylines.style("stroke-width",p._lw+"px").call(s.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),i.ylines.attr("d",ae)}return h.makeClipPaths(e),e._promises.length&&Promise.all(e._promises)}function k(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function A(e,t,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var a=r._anchorAxis;if(!a)return!1;var n=f.FROM_BL[t];return r.side===t?a.domain[n]===e.domain[n]:r.mirror&&a.domain[1-n]===e.domain[1-n]}function T(e,t,r,a){if(A(e,t,r))return r._lw;for(var n=0;n<a.length;n++){var i=a[n];if(i._mainAxis===r._mainAxis&&A(e,t,i))return i._lw}return 0}t.layoutStyles=function(e){return o.syncOrAsync([i.doAutoMargin,w],e)},t.drawMainTitle=function(e){var t=e._fullLayout,r=function(e){var t=e.title,r=x;o.isRightAnchor(t)?r=b:o.isLeftAnchor(t)&&(r=y);return r}(t),a=function(e){var t=e.title,r="0em";o.isTopAnchor(t)?r=f.CAP_SHIFT+"em":o.isMiddleAnchor(t)&&(r=f.MID_SHIFT+"em");return r}(t);d.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:function(e,t){var r=e.title,a=e._size,n=0;t===y?n=r.pad.l:t===b&&(n=-r.pad.r);switch(r.xref){case"paper":return a.l+a.w*r.x+n;case"container":default:return e.width*r.x+n}}(t,r),y:function(e,t){var r=e.title,a=e._size,n=0;"0em"!==t&&t?t===f.CAP_SHIFT+"em"&&(n=r.pad.t):n=-r.pad.b;if("auto"===r.y)return a.t/2;switch(r.yref){case"paper":return a.t+a.h-a.h*r.y+n;case"container":default:return e.height-e.height*r.y+n}}(t,a),"text-anchor":r,dy:a}})},t.doTraceStyle=function(e){var r,a=e.calcdata,o=[];for(r=0;r<a.length;r++){var s=a[r],c=s[0]||{},d=c.trace||{},u=d._module||{},h=u.arraysToCalcdata;h&&h(s,d);var f=u.editStyle;f&&o.push({fn:f,cd0:c})}if(o.length){for(r=0;r<o.length;r++){var p=o[r];p.fn(e,p.cd0)}l(e),t.redrawReglTraces(e)}return i.style(e),n.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doColorBars=function(e){for(var t=0;t<e.calcdata.length;t++){var r=e.calcdata[t][0];if((r.t||{}).cb){var a=r.trace,o=r.t.cb;n.traceIs(a,"contour")&&o.line({width:!1!==a.contours.showlines?a.line.width:0,dash:a.line.dash,color:"line"===a.contours.coloring?o._opts.line.color:a.line.color});var l=a._module.colorbar.container,s=(l?a[l]:a).colorbar;o.options(s)()}}return i.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,n.call("plot",e,"",t)},t.doLegend=function(e){return n.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doTicksRelayout=function(e){return h.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),i.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;u.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var a=t._basePlotModules[r].updateFx;a&&a(e)}return i.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,r=t._subplots.gl3d,a=0;a<r.length;a++){var n=t[r[a]],i=n._scene,o=n.camera;i.setCamera(o)}},t.drawData=function(e){var r,a=e._fullLayout,o=e.calcdata;for(r=0;r<o.length;r++){var s=o[r][0].trace;!0===s.visible&&s._module.colorbar||a._infolayer.select(".cb"+s.uid).remove()}l(e);var c=a._basePlotModules;for(r=0;r<c.length;r++)c[r].plot(e);return t.redrawReglTraces(e),i.style(e),n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("annotations","draw")(e),a._replotting=!1,i.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r,a,n=e._fullData,i=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),r=0;r<n.length;r++){var s=n[r];!0===s.visible&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?o.pushUnique(i,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&o.pushUnique(l,s.subplot))}for(r=0;r<i.length;r++)(a=t._plots[i[r]])._scene&&a._scene.draw();for(r=0;r<l.length;r++)(a=t[l[r]]._subplot)._scene&&a._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,r,a=e._fullLayout,n=h.list(e,"",!0),i=a._axisMatchGroups||[],l=0;l<n.length;l++)t=n[l],v(e,t),m(e,t);g(e);e:for(var s=0;s<i.length;s++){var c,d=i[s],u=null;for(c in d){if(!1===(t=h.getFromId(e,c)).autorange)continue e;r=o.simpleMap(t.range,t.r2l),u?u[0]<u[1]?(u[0]=Math.min(u[0],r[0]),u[1]=Math.max(u[1],r[1])):(u[0]=Math.max(u[0],r[0]),u[1]=Math.min(u[1],r[1])):u=r}for(c in d)(t=h.getFromId(e,c)).range=o.simpleMap(u,t.l2r),t._input.range=t.range.slice(),t.setScale()}},t.finalDraw=function(e){n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("images","draw")(e),n.getComponentMethod("annotations","draw")(e),n.getComponentMethod("rangeslider","draw")(e),n.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){n.getComponentMethod("legend","draw")(e),n.getComponentMethod("rangeselector","draw")(e),n.getComponentMethod("sliders","draw")(e),n.getComponentMethod("updatemenus","draw")(e)}},function(e,t,r){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #119dff;} .cls-2 {fill: #25fefd;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(i(r=this._events[e]))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(n(r))for(l=Array.prototype.slice.call(arguments,1),o=(c=r.slice()).length,s=0;s<o;s++)c[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var o;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var r,i,o,l;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(r)){for(l=o;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){i=l;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";var a=r(0),n=r(27).id2name,i=r(214),o=r(67).makePadFn,l=r(67).concatExtremes,s=r(5).ALMOST_EQUAL,c=r(20).FROM_BL;function d(e,t,r,a,i){var o,l,s,c,d="range"!==i,u=a[n(t)].type,h=[];for(l=0;l<r.length;l++)if((s=r[l])!==t&&(c=a[n(s)]).type===u)if(c.fixedrange){if(d&&c.anchor){a[n(c.anchor)].fixedrange&&h.push(s)}}else h.push(s);for(o=0;o<e.length;o++)if(e[o][t]){var f=e[o],p=[];for(l=0;l<h.length;l++)f[s=h[l]]||p.push(s);return{linkableAxes:p,thisGroup:f}}return{linkableAxes:h,thisGroup:null}}function u(e,t,r,a,n){var i,o,l,s,c;null===t?((t={})[r]=1,c=e.length,e.push(t)):c=e.indexOf(t);var d=Object.keys(t);for(i=0;i<e.length;i++)if(l=e[i],i!==c&&l[a]){var u=l[a];for(o=0;o<d.length;o++)l[s=d[o]]=u*n*t[s];return void e.splice(c,1)}if(1!==n)for(o=0;o<d.length;o++)t[d[o]]*=n;t[a]=1}function h(e,t){var r=e._inputDomain,a=c[e.constraintoward],n=r[0]+(r[1]-r[0])*a;e.domain=e._input.domain=[n+(r[0]-n)/t,n+(r[1]-n)/t],e.setScale()}t.handleConstraintDefaults=function(e,t,r,n,i){var o,l,s,c,h=i._axisConstraintGroups,f=i._axisMatchGroups,p=t._id,g=p.charAt(0),v=((i._splomAxes||{})[g]||{})[p]||{},m=t._id,y=m.charAt(0),x=r("constrain");if(a.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===y?["left","center","right"]:["bottom","middle","top"],dflt:"x"===y?"center":"middle"}},"constraintoward"),!e.matches&&!v.matches||t.fixedrange||(l=d(f,m,n,i),o=a.coerce(e,t,{matches:{valType:"enumerated",values:l.linkableAxes||[],dflt:v.matches}},"matches")),o||!e.scaleanchor||t.fixedrange&&"domain"!==x||(c=d(h,m,n,i,x),s=a.coerce(e,t,{scaleanchor:{valType:"enumerated",values:c.linkableAxes||[]}},"scaleanchor")),o?(delete t.constrain,u(f,l.thisGroup,m,o,1)):-1!==n.indexOf(e.matches)&&a.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid either an infinite loop or because the target axis has fixed range.'),s){var b=r("scaleratio");b||(b=t.scaleratio=1),u(h,c.thisGroup,m,s,b)}else-1!==n.indexOf(e.scaleanchor)&&a.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the target axis has fixed range or this axis declares a *matches* constraint.')},t.enforce=function(e){var t,r,a,c,d,u,f,p=e._fullLayout,g=p._axisConstraintGroups||[];for(t=0;t<g.length;t++){var v=g[t],m=Object.keys(v),y=1/0,x=0,b=1/0,_={},w={},k=!1;for(r=0;r<m.length;r++)w[a=m[r]]=c=p[n(a)],c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice(),c._inputRange||(c._inputRange=c.range.slice()),c.setScale(),_[a]=d=Math.abs(c._m)/v[a],y=Math.min(y,d),"domain"!==c.constrain&&c._constraintShrinkable||(b=Math.min(b,d)),delete c._constraintShrinkable,x=Math.max(x,d),"domain"===c.constrain&&(k=!0);if(!(y>s*x)||k)for(r=0;r<m.length;r++)if(d=_[a=m[r]],u=(c=w[a]).constrain,d!==b||"domain"===u)if(f=d/b,"range"===u)i(c,f);else{var A=c._inputDomain,T=(c.domain[1]-c.domain[0])/(A[1]-A[0]),M=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0]));if((f/=T)*M<1){c.domain=c._input.domain=A.slice(),i(c,f);continue}if(M<1&&(c.range=c._input.range=c._inputRange.slice(),f*=M),c.autorange){var S=c.r2l(c.range[0]),C=c.r2l(c.range[1]),L=(S+C)/2,z=L,I=L,P=Math.abs(C-L),O=L-P*f*1.0001,D=L+P*f*1.0001,R=o(c);h(c,f);var j,E,F=Math.abs(c._m),B=l(e,c),N=B.min,H=B.max;for(E=0;E<N.length;E++)(j=N[E].val-R(N[E])/F)>O&&j<z&&(z=j);for(E=0;E<H.length;E++)(j=H[E].val+R(H[E])/F)<D&&j>I&&(I=j);f/=(I-z)/(2*P),z=c.l2r(z),I=c.l2r(I),c.range=c._input.range=S<C?[z,I]:[I,z]}h(c,f)}}},t.clean=function(e,t){if(t._inputDomain){for(var r=!1,a=t._id,n=e._fullLayout._axisConstraintGroups,i=0;i<n.length;i++)if(n[i][a]){r=!0;break}r&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},function(e,t,r){"use strict";var a=r(20).FROM_BL;e.exports=function(e,t,r){void 0===r&&(r=a[e.constraintoward||"center"]);var n=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=n[0]+(n[1]-n[0])*r;e.range=e._input.range=[e.l2r(i+(n[0]-i)*t),e.l2r(i+(n[1]-i)*t)]}},function(e,t,r){"use strict";(function(t){var a,n=r(206);a="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:n,e.exports=a}).call(t,r(15))},function(e,t){var r={left:0,top:0};e.exports=function(e,t,a){t=t||e.currentTarget||e.srcElement,Array.isArray(a)||(a=[0,0]);var n=e.clientX||0,i=e.clientY||0,o=(l=t,l===window||l===document||l===document.body?r:l.getBoundingClientRect());var l;return a[0]=n-o.left,a[1]=i-o.top,a}},function(e,t,r){"use strict";e.exports=function(e,t,r,a,n){var i=(e-r)/(a-r),o=i+t/(a-r),l=(i+o)/2;return"left"===n||"bottom"===n?i:"center"===n||"middle"===n?l:"right"===n||"top"===n?o:i<2/3-l?i:o>4/3-l?o:l}},function(e,t,r){"use strict";var a=r(0),n=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,r,i){return e="left"===r?0:"center"===r?1:"right"===r?2:a.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:a.constrain(Math.floor(3*t),0,2),n[t][e]}},function(e,t,r){"use strict";var a=r(203),n=r(69),i=r(74),o=r(66),l=e.exports={};l.wrapped=function(e,t,r){(e=i(e))._fullLayout&&n.clear(e._fullLayout._uid+o.HOVERID),l.raw(e,t,r)},l.raw=function(e,t){var r=e._fullLayout,n=e._hoverdata;t||(t={}),t.target&&!1===a.triggerHandler(e,"plotly_beforehover",t)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&n&&e.emit("plotly_unhover",{event:t,points:n}))}},function(e,t,r){"use strict";var a=r(201),n="data-savedcursor";e.exports=function(e,t){var r=e.attr(n);if(t){if(!r){for(var i=(e.attr("class")||"").split(" "),o=0;o<i.length;o++){var l=i[o];0===l.indexOf("cursor-")&&e.attr(n,l.substr(7)).classed(l,!1)}e.attr(n)||e.attr(n,"!!")}a(e,t)}else r&&(e.attr(n,null),"!!"===r?a(e):a(e,r))}},function(e,t,r){"use strict";var a=r(0),n=r(208),i=r(65);e.exports=function(e,t){n(e,t,function(r,n){return a.coerce(e,t,i,r,n)})}},function(e,t,r){"use strict";var a=r(0),n=r(68),i=r(208);e.exports=function(e,t,r,o){var l=a.extendFlat({},o.hoverlabel);t.hovertemplate&&(l.namelength=-1),i(e,t,function(r,i){return a.coerce(e,t,n,r,i)},l)}},function(e,t,r){"use strict";var a=r(0),n=r(65);e.exports=function(e,t,r){function i(r,i){return a.coerce(e,t,n,r,i)}var o,l=i("clickmode");"select"===i("dragmode")&&i("selectdirection"),t._has("cartesian")?l.indexOf("select")>-1?o="closest":(t._isHoriz=function(e,t){for(var r=t._scatterStackOpts||{},a=0;a<e.length;a++){var n=e[a],i=n.xaxis+n.yaxis,o=r[i]||{},l=o[n.stackgroup]||{};if("h"!==n.orientation&&"h"!==l.orientation)return!1}return!0}(r,t),o=t._isHoriz?"y":"x"):o="closest",i("hovermode",o)&&(i("hoverdistance"),i("spikedistance"));var s=t._has("mapbox"),c=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((s||c)&&1===d||s&&c&&2===d)&&(t.dragmode="pan")}},function(e,t,r){"use strict";var a=r(0),n=r(4);function i(e,t,r,n){n=n||a.identity,Array.isArray(e)&&(t[0][r]=n(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function o(e){return function(t){return a.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!n.traceIs(c,"pie")){var d=n.traceIs(c,"2dMap")?i:a.fillArray;d(c.hoverinfo,s,"hi",o(c)),c.hovertemplate&&d(c.hovertemplate,s,"ht"),c.hoverlabel&&(d(c.hoverlabel.bgcolor,s,"hbg"),d(c.hoverlabel.bordercolor,s,"hbc"),d(c.hoverlabel.font.size,s,"hts"),d(c.hoverlabel.font.color,s,"htc"),d(c.hoverlabel.font.family,s,"htf"),d(c.hoverlabel.namelength,s,"hnl"),d(c.hoverlabel.align,s,"hta"))}}}},function(e,t,r){"use strict";var a=r(4),n=r(207).hover;e.exports=function(e,t,r){var i=a.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&n(e,t,r,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},function(e,t,r){"use strict";var a=r(77).dot,n=r(5).BADNUM,i=e.exports={};i.tester=function(e){var t,r=e.slice(),a=r[0][0],i=a,o=r[0][1],l=o;for(r.push(r[0]),t=1;t<r.length;t++)a=Math.min(a,r[t][0]),i=Math.max(i,r[t][0]),o=Math.min(o,r[t][1]),l=Math.max(l,r[t][1]);var s,c=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,s=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,s=function(e){return e[1]===r[0][1]}));var d=!0,u=r[0];for(t=1;t<r.length;t++)if(u[0]!==r[t][0]||u[1]!==r[t][1]){d=!1;break}return{xmin:a,xmax:i,ymin:o,ymax:l,pts:r,contains:c?function(e,t){var r=e[0],c=e[1];return!(r===n||r<a||r>i||c===n||c<o||c>l||t&&s(e))}:function(e,t){var s=e[0],c=e[1];if(s===n||s<a||s>i||c===n||c<o||c>l)return!1;var d,u,h,f,p,g=r.length,v=r[0][0],m=r[0][1],y=0;for(d=1;d<g;d++)if(u=v,h=m,v=r[d][0],m=r[d][1],!(s<(f=Math.min(u,v))||s>Math.max(u,v)||c>Math.max(h,m)))if(c<Math.min(h,m))s!==f&&y++;else{if(c===(p=v===u?c:h+(s-u)*(m-h)/(v-u)))return 1!==d||!t;c<=p&&s!==f&&y++}return y%2==1},isRect:c,degenerate:d}},i.isSegmentBent=function(e,t,r,n){var i,o,l,s=e[t],c=[e[r][0]-s[0],e[r][1]-s[1]],d=a(c,c),u=Math.sqrt(d),h=[-c[1]/u,c[0]/u];for(i=t+1;i<r;i++)if(o=[e[i][0]-s[0],e[i][1]-s[1]],(l=a(o,c))<0||l>d||Math.abs(a(o,h))>n)return!0;return!1},i.filter=function(e,t){var r=[e[0]],a=0,n=0;function o(o){e.push(o);var l=r.length,s=a;r.splice(n+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||i.isSegmentBent(e,s,c+1,t))&&(r.push(e[c]),r.length<l-2&&(a=c,n=r.length-1),s=c)}e.length>1&&o(e.pop());return{addPt:o,raw:e,filtered:r}}},function(e,t,r){"use strict";var a=r(4),n=r(28).SUBPLOT_PATTERN;t.getSubplotCalcData=function(e,t,r){var n=a.subplotsRegistry[t];if(!n)return[];for(var i=n.attr,o=[],l=0;l<e.length;l++){var s=e[l];s[0].trace[i]===r&&o.push(s)}return o},t.getModuleCalcData=function(e,t){var r,n=[],i=[];if(!(r="string"==typeof t?a.getModule(t).plot:"function"==typeof t?t:t.plot))return[n,e];for(var o=0;o<e.length;o++){var l=e[o],s=l[0].trace;!0===s.visible&&(s._module.plot===r?n.push(l):i.push(l))}return[n,i]},t.getSubplotData=function(e,t,r){if(!a.subplotsRegistry[t])return[];var i,o,l,s=a.subplotsRegistry[t].attr,c=[];if("gl2d"===t){var d=r.match(n);o="x"+d[1],l="y"+d[2]}for(var u=0;u<e.length;u++)i=e[u],"gl2d"===t&&a.traceIs(i,"gl2d")?i[s[0]]===o&&i[s[1]]===l&&c.push(i):i[s]===r&&c.push(i);return c}},function(e,t,r){"use strict";var a=r(4),n=r(0),i=r(14),o=r(78),l=r(79),s=r(80),c=r(234),d=r(235),u=r(83);e.exports=function(e,t,r,h,f){var p=h.letter,g=h.font||{},v=h.splomStash||{},m=r("visible",!h.cheateronly),y=t.type;"date"===y&&a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",h.calendar);if(u(t,f),!r("autorange",!t.isValidRange(e.range))||"linear"!==y&&"-"!==y||r("rangemode"),r("range"),t.cleanRange(),c(e,t,r,h),"category"===y||h.noHover||r("hoverformat"),!m)return t;var x=r("color"),b=x!==i.color.dflt?x:g.color;r("title.text",v.label||f._dfltTitle[p]),n.coerceFont(r,"title.font",{family:g.family,size:Math.round(1.2*g.size),color:b}),o(e,t,r,y),s(e,t,r,y,h),l(e,t,r,h),d(e,t,r,{dfltColor:x,bgColor:h.bgColor,showGrid:h.showGrid,attributes:i}),(t.showline||t.ticks)&&r("mirror"),h.automargin&&r("automargin");var _,w="multicategory"===t.type;h.noTickson||"category"!==t.type&&!w||!t.ticks&&!t.showgrid||(w&&(_="boundaries"),r("tickson",_));w&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));return t}},function(e,t,r){"use strict";var a=r(1),n=r(0);e.exports=function(e,t,r,i){var o,l,s,c,d=i.counterAxes||[],u=i.overlayableAxes||[],h=i.letter,f=i.grid;f&&(l=f._domains[h][f._axisMap[t._id]],o=f._anchors[t._id],l&&(s=f[h+"side"].split(" ")[0],c=f.domain[h]["right"===s||"top"===s?1:0])),l=l||[0,1],o=o||(a(e.position)?"free":d[0]||"free"),s=s||("x"===h?"bottom":"left"),c=c||0,"free"===n.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(d),dflt:o}},"anchor")&&r("position",c),n.coerce(e,t,{side:{valType:"enumerated",values:"x"===h?["bottom","top"]:["left","right"],dflt:s}},"side");var p=!1;if(u.length&&(p=n.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!p){var g=r("domain",l);g[0]>g[1]-1/4096&&(t.domain=l),n.noneOrAll(e.domain,t.domain,l)}return r("layer"),t}},function(e,t,r){"use strict";var a=r(3),n=r(200),i=r(199),o=r(201),l=r(236).makeDragBox,s=r(28).DRAGGERSIZE;t.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot)a.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(e,t){if((r._plots[e].mainplot&&!0)===(r._plots[t].mainplot&&!0)){var a=e.split("y"),n=t.split("y");return a[0]===n[0]?Number(a[1]||1)-Number(n[1]||1):Number(a[0]||1)-Number(n[0]||1)}return r._plots[e].mainplot?1:-1}).forEach(function(t){var a=r._plots[t],o=a.xaxis,c=a.yaxis;if(!a.mainplot){var d=l(e,a,o._offset,c._offset,o._length,c._length,"ns","ew");d.onmousemove=function(r){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===t&&n.hover(e,r,t)},n.hover(e,r,t),e._fullLayout._lasthover=d,e._fullLayout._hoversubplot=t},d.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},e._context.showAxisDragHandles&&(l(e,a,o._offset-s,c._offset-s,s,s,"n","w"),l(e,a,o._offset+o._length,c._offset-s,s,s,"n","e"),l(e,a,o._offset-s,c._offset+c._length,s,s,"s","w"),l(e,a,o._offset+o._length,c._offset+c._length,s,s,"s","e"))}if(e._context.showAxisDragHandles){if(t===o._mainSubplot){var u=o._mainLinePosition;"top"===o.side&&(u-=s),l(e,a,o._offset+.1*o._length,u,.8*o._length,s,"","ew"),l(e,a,o._offset,u,.1*o._length,s,"","w"),l(e,a,o._offset+.9*o._length,u,.1*o._length,s,"","e")}if(t===c._mainSubplot){var h=c._mainLinePosition;"right"!==c.side&&(h-=s),l(e,a,h,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(e,a,h,c._offset+.9*c._length,s,.1*c._length,"s",""),l(e,a,h,c._offset,s,.1*c._length,"n","")}}});var o=r._hoverlayer.node();o.onmousemove=function(t){t.target=e._fullLayout._lasthover,n.hover(e,t,r._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,n.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},t.updateFx(e)}},t.updateFx=function(e){var t=e._fullLayout,r="pan"===t.dragmode?"move":"crosshair";o(t._draggers,r)}},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(0),o=r(43),l=r(26),s=r(227).getModuleCalcData,c=r(27),d=r(28),u=r(46),h=i.ensureSingle;function f(e,t,r){return i.ensureSingle(e,t,r,function(e){e.datum(r)})}function p(e,t,r,i,o){for(var c,u,h,f=d.traceLayerClasses,p=e._fullLayout,g=p._modules,v=[],m=[],y=0;y<g.length;y++){var x=(c=g[y]).name,b=n.modules[x].categories;if(b.svg){var _=c.layerName||x+"layer",w=c.plot;h=(u=s(r,w))[0],r=u[1],h.length&&v.push({i:f.indexOf(_),className:_,plotMethod:w,cdModule:h}),b.zoomScale&&m.push("."+_)}}v.sort(function(e,t){return e.i-t.i});var k=t.plot.selectAll("g.mlayer").data(v,function(e){return e.className});if(k.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0),k.exit().remove(),k.order(),k.each(function(r){var n=a.select(this),s=r.className;r.plotMethod(e,t,r.cdModule,n,i,o),"scatterlayer"!==s&&"barlayer"!==s&&"waterfalllayer"!==s&&l.setClipUrl(n,t.layerClipId,e)}),p._has("scattergl")&&(c=n.getModule("scattergl"),h=s(r,c)[0],c.plot(e,t,h)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(".scatterlayer, .barlayer, .waterfalllayer").selectAll(".trace")),m.length)){var A=t.plot.selectAll(m.join(",")).selectAll(".trace");t.zoomScalePts=A.selectAll("path.point"),t.zoomScaleTxt=A.selectAll(".textpoint")}}function g(e,t){var r=t.plotgroup,a=t.id,n=d.layerValue2layerClass[t.xaxis.layer],i=d.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,s=l.plotgroup,u=a+"-x",p=a+"-y";t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,h(l.overlinesBelow,"path",u),h(l.overlinesBelow,"path",p),h(l.overaxesBelow,"g",u),h(l.overaxesBelow,"g",p),t.plot=h(l.overplot,"g",a),h(l.overlinesAbove,"path",u),h(l.overlinesAbove,"path",p),h(l.overaxesAbove,"g",u),h(l.overaxesAbove,"g",p),t.xlines=s.select(".overlines-"+n).select("."+u),t.ylines=s.select(".overlines-"+i).select("."+p),t.xaxislayer=s.select(".overaxes-"+n).select("."+u),t.yaxislayer=s.select(".overaxes-"+i).select("."+p)}else if(o)t.xlines=h(r,"path","xlines-above"),t.ylines=h(r,"path","ylines-above"),t.xaxislayer=h(r,"g","xaxislayer-above"),t.yaxislayer=h(r,"g","yaxislayer-above");else{var g=h(r,"g","layer-subplot");t.shapelayer=h(g,"g","shapelayer"),t.imagelayer=h(g,"g","imagelayer"),t.gridlayer=h(r,"g","gridlayer"),t.zerolinelayer=h(r,"g","zerolinelayer"),h(r,"path","xlines-below"),h(r,"path","ylines-below"),t.overlinesBelow=h(r,"g","overlines-below"),h(r,"g","xaxislayer-below"),h(r,"g","yaxislayer-below"),t.overaxesBelow=h(r,"g","overaxes-below"),t.plot=h(r,"g","plot"),t.overplot=h(r,"g","overplot"),t.xlines=h(r,"path","xlines-above"),t.ylines=h(r,"path","ylines-above"),t.overlinesAbove=h(r,"g","overlines-above"),h(r,"g","xaxislayer-above"),h(r,"g","yaxislayer-above"),t.overaxesAbove=h(r,"g","overaxes-above"),t.xlines=r.select(".xlines-"+n),t.ylines=r.select(".ylines-"+i),t.xaxislayer=r.select(".xaxislayer-"+n),t.yaxislayer=r.select(".yaxislayer-"+i)}o||(f(t.gridlayer,"g",t.xaxis._id),f(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(c.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function v(e,t){if(e){var r={};for(var n in e.each(function(e){var n=e[0];a.select(this).remove(),m(n,t),r[n]=!0}),t._plots)for(var i=t._plots[n].overlays||[],o=0;o<i.length;o++){var l=i[o];r[l.id]&&l.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=d.idRegex,t.attrRegex=d.attrRegex,t.attributes=r(249),t.layoutAttributes=r(14),t.supplyLayoutDefaults=r(250),t.transitionAxes=r(252),t.finalizeSubplots=function(e,t){var r,a,n,o=t._subplots,l=o.xaxis,s=o.yaxis,u=o.cartesian,h=u.concat(o.gl2d||[]),f={},p={};for(r=0;r<h.length;r++){var g=h[r].split("y");f[g[0]]=1,p["y"+g[1]]=1}for(r=0;r<l.length;r++)f[a=l[r]]||(n=(e[c.id2name(a)]||{}).anchor,d.idRegex.y.test(n)||(n="y"),u.push(a+n),h.push(a+n),p[n]||(p[n]=1,i.pushUnique(s,n)));for(r=0;r<s.length;r++)p[n=s[r]]||(a=(e[c.id2name(n)]||{}).anchor,d.idRegex.x.test(a)||(a="x"),u.push(a+n),h.push(a+n),f[a]||(f[a]=1,i.pushUnique(l,a)));if(!h.length){for(var v in a="",n="",e){if(d.attrRegex.test(v))"x"===v.charAt(0)?(!a||+v.substr(5)<+a.substr(5))&&(a=v):(!n||+v.substr(5)<+n.substr(5))&&(n=v)}a=a?c.name2id(a):"x",n=n?c.name2id(n):"y",l.push(a),s.push(n),u.push(a+n)}},t.plot=function(e,t,r,a){var n,i=e._fullLayout,o=i._subplots.cartesian,l=e.calcdata;if(null!==t){if(!Array.isArray(t))for(t=[],n=0;n<l.length;n++)t.push(n);for(n=0;n<o.length;n++){for(var s,c=o[n],d=i._plots[c],u=[],h=0;h<l.length;h++){var f=l[h],g=f[0].trace;g.xaxis+g.yaxis===c&&((-1!==t.indexOf(g.index)||g.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(g.fill)&&-1===u.indexOf(s)&&u.push(s),u.push(f)),s=f)}p(e,d,u,r,a)}}},t.clean=function(e,t,r,a){var n,i,o,l=a._plots||{},s=t._plots||{},d=a._subplots||{};if(a._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(o in l)(n=l[o]).plotgroup&&n.plotgroup.remove();var u=a._has&&a._has("gl"),h=t._has&&t._has("gl");if(u&&!h)for(o in l)(n=l[o])._scene&&n._scene.destroy();if(d.xaxis&&d.yaxis){var f=c.listIds({_fullLayout:a});for(i=0;i<f.length;i++){var p=f[i];t[c.id2name(p)]||a._infolayer.selectAll(".g-"+p+"title").remove()}}var g=a._has&&a._has("cartesian"),y=t._has&&t._has("cartesian");if(g&&!y)v(a._cartesianlayer.selectAll(".subplot"),a),a._defs.selectAll(".axesclip").remove(),delete a._axisConstraintGroups;else if(d.cartesian)for(i=0;i<d.cartesian.length;i++){var x=d.cartesian[i];if(!s[x]){var b="."+x+",."+x+"-x,."+x+"-y";a._cartesianlayer.selectAll(b).remove(),m(x,a)}}},t.drawFramework=function(e){var t=e._fullLayout,r=function(e){var t,r,a,n,i,o,l=e._fullLayout,s=l._subplots.cartesian,c=s.length,d=[],u=[];for(t=0;t<c;t++){a=s[t],n=l._plots[a],i=n.xaxis,o=n.yaxis;var h=i._mainAxis,f=o._mainAxis,p=h._id+f._id,g=l._plots[p];n.overlays=[],p!==a&&g?(n.mainplot=p,n.mainplotinfo=g,u.push(a)):(n.mainplot=void 0,n.mainPlotinfo=void 0,d.push(a))}for(t=0;t<u.length;t++)a=u[t],(n=l._plots[a]).mainplotinfo.overlays.push(n);var v=d.concat(u),m=new Array(c);for(t=0;t<c;t++){a=v[t],n=l._plots[a],i=n.xaxis,o=n.yaxis;var y=[a,i.layer,o.layer,i.overlaying||"",o.overlaying||""];for(r=0;r<n.overlays.length;r++)y.push(n.overlays[r].id);m[t]=y}return m}(e),n=t._cartesianlayer.selectAll(".subplot").data(r,String);n.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),n.order(),n.exit().call(v,t),n.each(function(r){var n=r[0],i=t._plots[n];i.plotgroup=a.select(this),g(e,i),i.draglayer=h(t._draggers,"g",n)})},t.rangePlot=function(e,t,r){g(e,t),p(e,t,r),o.style(e)},t.toSVG=function(e){var t=e._fullLayout._glimages,r=a.select(e).selectAll(".svg-container");r.filter(function(e,t){return t===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:u.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},t.updateFx=r(230).updateFx},,,function(e,t,r){"use strict";e.exports=function(e,t,r,a){if("category"===t.type){var n,i=e.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(n="array");var l,s=r("categoryorder",n);"array"===s&&(l=r("categoryarray")),o||"array"!==s||(s=t.categoryorder="trace"),"trace"===s?t._initialCategories=[]:"array"===s?t._initialCategories=l.slice():(l=function(e,t){var r,a,n,i=t.dataAttr||e._id.charAt(0),o={};if(t.axData)r=t.axData;else for(r=[],a=0;a<t.data.length;a++){var l=t.data[a];l[i+"axis"]===e._id&&r.push(l)}for(a=0;a<r.length;a++){var s=r[a][i];for(n=0;n<s.length;n++){var c=s[n];null!==c&&void 0!==c&&(o[c]=1)}}return Object.keys(o)}(t,a).sort(),"category ascending"===s?t._initialCategories=l:"category descending"===s&&(t._initialCategories=l.reverse()))}}},function(e,t,r){"use strict";var a=r(13).mix,n=r(30).lightFraction,i=r(0);e.exports=function(e,t,r,o){var l=(o=o||{}).dfltColor;function s(r,a){return i.coerce2(e,t,o.attributes,r,a)}var c=s("linecolor",l),d=s("linewidth");r("showline",o.showLine||!!c||!!d)||(delete t.linecolor,delete t.linewidth);var u=s("gridcolor",a(l,o.bgColor,o.blend||n).toRgbString()),h=s("gridwidth");if(r("showgrid",o.showGrid||!!u||!!h)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var f=s("zerolinecolor",l),p=s("zerolinewidth");r("zeroline",o.showGrid||!!f||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},function(e,t,r){"use strict";var a=r(3),n=r(13),i=r(209),o=r(4),l=r(0),s=r(29),c=r(11),d=r(26),u=r(200),h=r(63),f=r(201),p=r(199),g=r(20).FROM_TL,v=r(205),m=r(210).redrawReglTraces,y=r(43),x=r(27).getFromId,b=r(204).prepSelect,_=r(204).clearSelect,w=r(204).selectOnClick,k=r(214),A=r(28),T=A.MINDRAG,M=A.MINZOOM,S=!0;function C(e,t,r,a){var n=l.ensureSingle(e.draglayer,t,r,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return n.call(f,a),n.node()}function L(e,t,r,n,i,o,l){var s=C(e,"rect",t,r);return a.select(s).call(d.setRect,n,i,o,l),s}function z(e,t){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return t;return""}function I(e,t,r,a,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.fixedrange){var l=o._rl[0],s=o._rl[1]-l;o.range=[o.l2r(l+s*t),o.l2r(l+s*r)],a[o._name+".range[0]"]=o.range[0],a[o._name+".range[1]"]=o.range[1]}}if(n&&n.length){var c=(t+(1-r))/2;I(n,c,1-c,a,[])}}function P(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.fixedrange||(a.range=[a.l2r(a._rl[0]-t/a._m),a.l2r(a._rl[1]-t/a._m)])}}function O(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function D(e,t,r,a,n){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+r+", "+a+")").attr("d",n+"Z")}function R(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+r+")").attr("d","M0,0Z")}function j(e,t,r,a,n,i){e.attr("d",a+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),E(e,t,n,i)}function E(e,t,r,a){r||(e.transition().style("fill",a>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function F(e){a.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function B(e){S&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),S=!1)}function N(e){return"lasso"===e||"select"===e}function H(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,M)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function V(e,t,r,a){for(var n,i,o,s,c=!1,d={},u={},h=0;h<t.length;h++){var f=t[h];for(n in r)if(f[n]){for(o in f)("x"===o.charAt(0)?r:a)[o]||(d[o]=n);for(i in a)f[i]&&(c=!0)}for(i in a)if(f[i])for(s in f)("x"===s.charAt(0)?r:a)[s]||(u[s]=i)}c&&(l.extendFlat(d,u),u={});var p={},g=[];for(o in d){var v=x(e,o);g.push(v),p[v._id]=v}var m={},y=[];for(s in u){var b=x(e,s);y.push(b),m[b._id]=b}return{xaHash:p,yaHash:m,xaxes:g,yaxes:y,xLinks:d,yLinks:u,isSubplotConstrained:c}}function q(e,t){if(i){var r=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=t,e.addEventListener(r,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel&&(e.onmousewheel=t)}function G(e){var t=[];for(var r in e)t.push(e[r]);return t}e.exports={makeDragBox:function(e,t,r,i,c,f,S,C){var E,X,W,U,Z,Y,Q,J,$,K,ee,te,re,ae,ne,ie,oe,le,se,ce,de,ue=e._fullLayout._zoomlayer,he=S+C==="nsew",fe=1===(S+C).length;function pe(){if(E=t.xaxis,X=t.yaxis,$=E._length,K=X._length,Q=E._offset,J=X._offset,(W={})[E._id]=E,(U={})[X._id]=X,S&&C)for(var r=t.overlays,a=0;a<r.length;a++){var n=r[a].xaxis;W[n._id]=n;var i=r[a].yaxis;U[i._id]=i}Z=G(W),Y=G(U),re=z(Z,C),ae=z(Y,S),ne=!ae&&!re,ee=V(e,e._fullLayout._axisConstraintGroups,W,U),te=V(e,e._fullLayout._axisMatchGroups,W,U),ie=C||ee.isSubplotConstrained||te.isSubplotConstrained,oe=S||ee.isSubplotConstrained||te.isSubplotConstrained;var o=e._fullLayout;le=o._has("scattergl"),se=o._has("splom"),ce=o._has("svg")}pe();var ge=function(e,t,r){return e?"nsew"===e?r?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(ae+re,e._fullLayout.dragmode,he),ve=L(t,S+C+"drag",ge,r,i,c,f);if(ne&&!he)return ve.onmousedown=null,ve.style.pointerEvents="none",ve;var me,ye,xe,be,_e,we,ke,Ae,Te,Me,Se={element:ve,gd:e,plotinfo:t};function Ce(){Se.plotinfo.selection=!1,_(e)}function Le(r,n){var i=e._fullLayout.clickmode;if(F(e),2!==r||fe||function(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,r=[];re&&(r=r.concat(Z)),ae&&(r=r.concat(Y)),te.xaxes&&(r=r.concat(te.xaxes)),te.yaxes&&(r=r.concat(te.yaxes));var a,n,i,l={};if("reset+autosize"===t)for(t="autosize",n=0;n<r.length;n++)if((a=r[n])._rangeInitial&&(a.range[0]!==a._rangeInitial[0]||a.range[1]!==a._rangeInitial[1])||!a._rangeInitial&&!a.autorange){t="reset";break}if("autosize"===t)for(n=0;n<r.length;n++)(a=r[n]).fixedrange||(l[a._name+".autorange"]=!0);else if("reset"===t)for((re||ee.isSubplotConstrained)&&(r=r.concat(ee.xaxes)),ae&&!ee.isSubplotConstrained&&(r=r.concat(ee.yaxes)),ee.isSubplotConstrained&&(re?ae||(r=r.concat(Y)):r=r.concat(Z)),n=0;n<r.length;n++)(a=r[n]).fixedrange||(a._rangeInitial?(i=a._rangeInitial,l[a._name+".range[0]"]=i[0],l[a._name+".range[1]"]=i[1]):l[a._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),o.call("_guiRelayout",e,l)}}(),he)i.indexOf("select")>-1&&w(n,e,Z,Y,t.id,Se),i.indexOf("event")>-1&&u.click(e,n,t.id);else if(1===r&&fe){var l=S?X:E,c="s"===S||"w"===C?0:1,d=l._name+".range["+c+"]",h=function(e,t){var r,n=e.range[t],i=Math.abs(n-e.range[1-t]);return"date"===e.type?n:"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,a.format("."+r+"g")(Math.pow(10,n))):(r=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,a.format("."+String(r)+"g")(n))}(l,c),f="left",p="middle";if(l.fixedrange)return;S?(p="n"===S?"top":"bottom","right"===l.side&&(f="right")):"e"===C&&(f="right"),e._context.showAxisRangeEntryBoxes&&a.select(ve).call(s.makeEditable,{gd:e,immediate:!0,background:e._fullLayout.paper_bgcolor,text:String(h),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:f,verticalAlign:p}).on("edit",function(t){var r=l.d2r(t);void 0!==r&&o.call("_guiRelayout",e,d,r)})}}function ze(t,r){if(e._transitioningWithDuration)return!1;var a=Math.max(0,Math.min($,t+me)),n=Math.max(0,Math.min(K,r+ye)),i=Math.abs(a-me),o=Math.abs(n-ye);function l(){ke="",xe.r=xe.l,xe.t=xe.b,Te.attr("d","M0,0Z")}if(xe.l=Math.min(me,a),xe.r=Math.max(me,a),xe.t=Math.min(ye,n),xe.b=Math.max(ye,n),ee.isSubplotConstrained)i>M||o>M?(ke="xy",i/$>o/K?(o=i*K/$,ye>n?xe.t=ye-o:xe.b=ye+o):(i=o*$/K,me>a?xe.l=me-i:xe.r=me+i),Te.attr("d",H(xe))):l();else if(te.isSubplotConstrained)if(i>M||o>M){ke="xy";var s=Math.min(xe.l/$,(K-xe.b)/K),c=Math.max(xe.r/$,(K-xe.t)/K);xe.l=s*$,xe.r=c*$,xe.b=(1-s)*K,xe.t=(1-c)*K,Te.attr("d",H(xe))}else l();else!ae||o<Math.min(Math.max(.6*i,T),M)?i<T||!re?l():(xe.t=0,xe.b=K,ke="x",Te.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-M-.5)+"h-3v"+(2*M+1)+"h3ZM"+(e.r+.5)+","+(t-M-.5)+"h3v"+(2*M+1)+"h-3Z"}(xe,ye))):!re||i<Math.min(.6*o,M)?(xe.l=0,xe.r=$,ke="y",Te.attr("d",function(e,t){return"M"+(t-M-.5)+","+(e.t-.5)+"v-3h"+(2*M+1)+"v3ZM"+(t-M-.5)+","+(e.b+.5)+"v3h"+(2*M+1)+"v-3Z"}(xe,me))):(ke="xy",Te.attr("d",H(xe)));xe.w=xe.r-xe.l,xe.h=xe.b-xe.t,ke&&(Me=!0),e._dragged=Me,j(Ae,Te,xe,_e,we,be),we=!0}function Ie(){if(de={},Math.min(xe.h,xe.w)<2*T)return F(e);"xy"!==ke&&"x"!==ke||(I(Z,xe.l/$,xe.r/$,de,ee.xaxes),Ee("x",de)),"xy"!==ke&&"y"!==ke||(I(Y,(K-xe.b)/K,(K-xe.t)/K,de,ee.yaxes),Ee("y",de)),F(e),Be(),B(e)}Se.prepFn=function(t,r,a){var i=Se.dragmode,o=e._fullLayout.dragmode;o!==i&&(Se.dragmode=o),pe(),ne||(he?t.shiftKey?"pan"===o?o="zoom":N(o)||(o="pan"):t.ctrlKey&&(o="pan"):o="pan"),Se.minDrag="lasso"===o?1:void 0,N(o)?(Se.xaxes=Z,Se.yaxes=Y,b(t,r,a,Se,o)):(Se.clickFn=Le,N(i)&&Ce(),ne||("zoom"===o?(Se.moveFn=ze,Se.doneFn=Ie,Se.minDrag=1,function(t,r,a){var i=ve.getBoundingClientRect();me=r-i.left,ye=a-i.top,xe={l:me,r:me,w:0,t:ye,b:ye,h:0},be=e._hmpixcount?e._hmlumcount/e._hmpixcount:n(e._fullLayout.plot_bgcolor).getLuminance(),we=!1,ke="xy",Me=!1,Ae=D(ue,be,Q,J,_e="M0,0H"+$+"V"+K+"H0V0"),Te=R(ue,Q,J)}(0,r,a)):"pan"===o&&(Se.moveFn=je,Se.doneFn=Be))),e._fullLayout._redrag=function(){var t=e._dragdata;t&&t.element===ve&&(N(e._fullLayout.dragmode)||(pe(),Ne([0,0,$,K]),Se.moveFn(t.dx,t.dy)))}},p.init(Se);var Pe=[0,0,$,K],Oe=null,De=A.REDRAWDELAY,Re=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function je(t,r){if(!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===re||"ns"===ae)return re&&(P(Z,t),Ee("x")),ae&&(P(Y,r),Ee("y")),Ne([re?-t:0,ae?-r:0,$,K]),void Fe();if(ee.isSubplotConstrained&&re&&ae){var a="w"===re==("n"===ae)?1:-1,n=(t/$+a*r/K)/2;t=n*$,r=a*n*K}"w"===re?t=s(Z,0,t):"e"===re?t=s(Z,1,-t):re||(t=0),"n"===ae?r=s(Y,1,r):"s"===ae?r=s(Y,0,-r):ae||(r=0);var i="w"===re?t:0,o="n"===ae?r:0;if(ee.isSubplotConstrained){var l;if(!re&&1===ae.length){for(l=0;l<Z.length;l++)Z[l].range=Z[l]._r.slice(),k(Z[l],1-r/K);i=(t=r*$/K)/2}if(!ae&&1===re.length){for(l=0;l<Y.length;l++)Y[l].range=Y[l]._r.slice(),k(Y[l],1-t/$);o=(r=t*K/$)/2}}Ee("x"),Ee("y"),Ne([i,o,$-t,K-r]),Fe()}function s(e,t,r){for(var a,n,i=1-t,o=0;o<e.length;o++){var l=e[o];if(!l.fixedrange){a=l,n=l._rl[i]+(l._rl[t]-l._rl[i])/O(r/l._length);var s=l.l2r(n);!1!==s&&void 0!==s&&(l.range[t]=s)}}return a._length*(a._rl[t]-n)/(a._rl[t]-a._rl[i])}}function Ee(e,t){for(var r=te.isSubplotConstrained?{x:Y,y:Z}[e]:te[e+"axes"],a=te.isSubplotConstrained?{x:Z,y:Y}[e]:[],n=0;n<r.length;n++){var i=r[n],o=i._id,l=te.xLinks[o]||te.yLinks[o],s=a[0]||W[l]||U[l];if(s){var c=s.range;t?(t[i._name+".range[0]"]=c[0],t[i._name+".range[1]"]=c[1]):i.range=c}}}function Fe(){var t,r=[];function a(e){for(t=0;t<e.length;t++)e[t].fixedrange||r.push(e[t]._id)}for(ie&&(a(Z),a(ee.xaxes),a(te.xaxes)),oe&&(a(Y),a(ee.yaxes),a(te.yaxes)),de={},t=0;t<r.length;t++){var n=r[t],i=x(e,n);h.drawOne(e,i,{skipTitle:!0}),de[i._name+".range[0]"]=i.range[0],de[i._name+".range[1]"]=i.range[1]}h.redrawComponents(e,r)}function Be(){Ne([0,0,$,K]),l.syncOrAsync([y.previousPromises,function(){e._fullLayout._replotting=!1,o.call("_guiRelayout",e,de)}],e)}function Ne(t){var r,a,n,i,s=e._fullLayout,c=s._plots,u=s._subplots.cartesian;if(se&&o.subplotsRegistry.splom.drag(e),le)for(r=0;r<u.length;r++)if(n=(a=c[u[r]]).xaxis,i=a.yaxis,a._scene){var h=l.simpleMap(n.range,n.r2l),f=l.simpleMap(i.range,i.r2l);a._scene.update({range:[h[0],f[0],h[1],f[1]]})}if((se||le)&&(v(e),m(e)),ce){var p=t[2]/E._length,g=t[3]/X._length;for(r=0;r<u.length;r++){n=(a=c[u[r]]).xaxis,i=a.yaxis;var y,x,b,_,w=ie&&!n.fixedrange&&W[n._id],k=oe&&!i.fixedrange&&U[i._id];if(w?(y=p,b=C?t[0]:qe(n,y)):te.xaHash[n._id]?(y=p,b=t[0]*n._length/E._length):te.yaHash[n._id]?(y=g,b="ns"===ae?-t[1]*n._length/X._length:qe(n,y,{n:"top",s:"bottom"}[ae])):b=Ve(n,y=He(n,p,g)),k?(x=g,_=S?t[1]:qe(i,x)):te.yaHash[i._id]?(x=g,_=t[1]*i._length/X._length):te.xaHash[i._id]?(x=p,_="ew"===re?-t[0]*i._length/E._length:qe(i,x,{e:"right",w:"left"}[re])):_=Ve(i,x=He(i,p,g)),y||x){y||(y=1),x||(x=1);var A=n._offset-b/y,T=i._offset-_/x;a.clipRect.call(d.setTranslate,b,_).call(d.setScale,y,x),a.plot.call(d.setTranslate,A,T).call(d.setScale,1/y,1/x),y===a.xScaleFactor&&x===a.yScaleFactor||(d.setPointGroupScale(a.zoomScalePts,y,x),d.setTextPointsScale(a.zoomScaleTxt,y,x)),d.hideOutsideRangePoints(a.clipOnAxisFalseTraces,a),a.xScaleFactor=y,a.yScaleFactor=x}}}}function He(e,t,r){return e.fixedrange?0:ie&&ee.xaHash[e._id]?t:oe&&(ee.isSubplotConstrained?ee.xaHash:ee.yaHash)[e._id]?r:0}function Ve(e,t){return t?(e.range=e._r.slice(),k(e,t),qe(e,t)):0}function qe(e,t,r){return e._length*(1-t)*g[r||e.constraintoward||"middle"]}return S.length*C.length!=1&&q(ve,function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Ce(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();pe(),clearTimeout(Oe);var r=-t.deltaY;if(isFinite(r)||(r=t.wheelDelta/10),isFinite(r)){var a,n=Math.exp(-Math.min(Math.max(r,-20),20)/200),i=Re.draglayer.select(".nsewdrag").node().getBoundingClientRect(),o=(t.clientX-i.left)/i.width,s=(i.bottom-t.clientY)/i.height;if(ie){for(C||(o=.5),a=0;a<Z.length;a++)c(Z[a],o,n);Ee("x"),Pe[2]*=n,Pe[0]+=Pe[2]*o*(1/n-1)}if(oe){for(S||(s=.5),a=0;a<Y.length;a++)c(Y[a],s,n);Ee("y"),Pe[3]*=n,Pe[1]+=Pe[3]*(1-s)*(1/n-1)}Ne(Pe),Fe(),Oe=setTimeout(function(){Pe=[0,0,$,K],Be()},De),t.preventDefault()}else l.log("Did not find wheel motion attributes: ",t)}function c(e,t,r){if(!e.fixedrange){var a=l.simpleMap(e.range,e.r2l),n=a[0]+(a[1]-a[0])*t;e.range=a.map(function(t){return e.l2r(n+(t-n)*r)})}}}),ve},makeDragger:C,makeRectDragger:L,makeZoombox:D,makeCorners:R,updateZoombox:j,xyCorners:H,transitionZoombox:E,removeZoombox:F,showDoubleClickNotifier:B,attachWheelEventHandler:q}},function(e,t,r){"use strict";t.manage=r(238)},function(e,t,r){"use strict";var a=r(27),n=r(64),i=r(4),o=r(239),l=r(240);e.exports=function(e){var t=e._fullLayout,r=e._context,s=t._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var c,d=r.modeBarButtons;c=Array.isArray(d)&&d.length?function(e){for(var t=0;t<e.length;t++)for(var r=e[t],a=0;a<r.length;a++){var n=r[a];if("string"==typeof n){if(void 0===l[n])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][a]=l[n]}}return e}(d):!r.displayModeBar&&r.watermark?[]:function(e,t,r,o){var s=e._fullLayout,c=e._fullData,d=s._has("cartesian"),u=s._has("gl3d"),h=s._has("geo"),f=s._has("pie"),p=s._has("gl2d"),g=s._has("ternary"),v=s._has("mapbox"),m=s._has("polar"),y=s._has("sankey"),x=function(e){for(var t=a.list({_fullLayout:e},null,!0),r=0;r<t.length;r++)if(!t[r].fixedrange)return!1;return!0}(s),b=[];function _(e){if(e.length){for(var r=[],a=0;a<e.length;a++){var n=e[a];-1===t.indexOf(n)&&r.push(l[n])}b.push(r)}}var w=["toImage"];o&&w.push("sendDataToCloud");_(w);var k=[],A=[],T=[],M=[];(d||p||f||g)+h+u+v+m>1?(A=["toggleHover"],T=["resetViews"]):h?(k=["zoomInGeo","zoomOutGeo"],A=["hoverClosestGeo"],T=["resetGeo"]):u?(A=["hoverClosest3d"],T=["resetCameraDefault3d","resetCameraLastSave3d"]):v?(A=["toggleHover"],T=["resetViewMapbox"]):p?A=["hoverClosestGl2d"]:f?A=["hoverClosestPie"]:y?(A=["hoverClosestCartesian","hoverCompareCartesian"],T=["resetViewSankey"]):A=["toggleHover"];d&&(A=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);!d&&!p||x||(k=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==T[0]&&(T=["resetScale2d"]));u?M=["zoom3d","pan3d","orbitRotation","tableRotation"]:(d||p)&&!x||g?M=["zoom2d","pan2d"]:v||h?M=["pan2d"]:m&&(M=["zoom2d"]);(function(e){for(var t=!1,r=0;r<e.length&&!t;r++){var a=e[r];a._module&&a._module.selectPoints&&(i.traceIs(a,"scatter-like")?(n.hasMarkers(a)||n.hasText(a))&&(t=!0):i.traceIs(a,"box-violin")&&"all"!==a.boxpoints&&"all"!==a.points||(t=!0))}return t})(c)&&M.push("select2d","lasso2d");return _(M),_(k.concat(T)),_(A),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t);return e}(b,r)}(e,r.modeBarButtonsToRemove,r.modeBarButtonsToAdd,r.showSendToCloud),s?s.update(e,c):t._modeBar=o(e,c)}else s&&(s.destroy(),delete t._modeBar)}},function(e,t,r){"use strict";var a=r(3),n=r(1),i=r(0),o=r(211),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context,a=this.graphInfo._fullLayout,n="modebar-"+a._uid;this.element.setAttribute("id",n),this._uid=n,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===a.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var o=a.modebar,l="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(n),i.addRelatedStyleRule(n,l+"#"+n+" .modebar-group","background-color: "+o.bgcolor),i.addRelatedStyleRule(n,"#"+n+" .modebar-btn .icon path","fill: "+o.color),i.addRelatedStyleRule(n,"#"+n+" .modebar-btn:hover .icon path","fill: "+o.activecolor),i.addRelatedStyleRule(n,"#"+n+" .modebar-btn.active .icon path","fill: "+o.activecolor);var s=!this.hasButtons(t),c=this.hasLogo!==r.displaylogo,d=this.locale!==r.locale;if(this.locale=r.locale,(s||c||d)&&(this.removeAllButtons(),this.updateButtons(t),r.watermark||r.displaylogo)){var u=this.getLogo();r.watermark&&(u.className=u.className+" watermark"),"v"===a.modebar.orientation?this.element.insertBefore(u,this.element.childNodes[0]):this.element.appendChild(u),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var r=t.createGroup();e.forEach(function(e){var a=e.name;if(!a)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(a))throw new Error("button name '"+a+"' is taken");t.buttonsNames.push(a);var n=t.createButton(e);t.buttonElements.push(n),r.appendChild(n)}),t.element.appendChild(r)})},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var n=e.title;void 0===n?n=e.name:"function"==typeof n&&(n=n(this.graphInfo)),(n||0===n)&&r.setAttribute("data-title",n),void 0!==e.attr&&r.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),r.setAttribute("data-val",i)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(r){e.click(t.graphInfo,r),t.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&a.select(r).classed("active",!0);var l=e.icon;return"function"==typeof l?r.appendChild(l()):r.appendChild(this.createIcon(l||o.question)),r.setAttribute("data-gravity",e.gravity||"n"),r},c.createIcon=function(e){var t,r=n(e.height)?Number(e.height):e.ascent-e.descent,a="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,e.width,r].join(" ")),t.setAttribute("class","icon");var i=document.createElementNS(a,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(i)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var n=e.getAttribute("data-val")||!0,o=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=a.select(e);if(l)o===r&&s.classed("active",!s.classed("active"));else{var c=null===o?o:i.nestedProperty(t,o).get();s.classed("active",c===n)}})},c.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var a=0;a<e[r].length;a++)if(e[r][a].name!==t[r][a].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var r=e._fullLayout,n=new s({graphInfo:e,container:r._modebardiv.node(),buttons:t});return r._privateplot&&a.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}},function(e,t,r){"use strict";var a=r(4),n=r(43),i=r(27),o=r(0),l=r(211),s=o._,c=e.exports={};function d(e,t){var r,n,o=t.currentTarget,l=o.getAttribute("data-attr"),s=o.getAttribute("data-val")||!0,c=e._fullLayout,d={},u=i.list(e,null,!0),h="on";if("zoom"===l){var f,p="in"===s?.5:2,g=(1+p)/2,v=(1-p)/2;for(n=0;n<u.length;n++)if(!(r=u[n]).fixedrange)if(f=r._name,"auto"===s)d[f+".autorange"]=!0;else if("reset"===s){if(void 0===r._rangeInitial)d[f+".autorange"]=!0;else{var m=r._rangeInitial.slice();d[f+".range[0]"]=m[0],d[f+".range[1]"]=m[1]}void 0!==r._showSpikeInitial&&(d[f+".showspikes"]=r._showSpikeInitial,"on"!==h||r._showSpikeInitial||(h="off"))}else{var y=[r.r2l(r.range[0]),r.r2l(r.range[1])],x=[g*y[0]+v*y[1],g*y[1]+v*y[0]];d[f+".range[0]"]=r.l2r(x[0]),d[f+".range[1]"]=r.l2r(x[1])}c._cartesianSpikesEnabled=h}else{if("hovermode"!==l||"x"!==s&&"y"!==s){if("hovermode"===l&&"closest"===s){for(n=0;n<u.length;n++)r=u[n],"on"!==h||r.showspikes||(h="off");c._cartesianSpikesEnabled=h}}else s=c._isHoriz?"y":"x",o.setAttribute("data-val",s);d[l]=s}a.call("_guiRelayout",e,d)}function u(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d,l={},s=n.split("."),c=0;c<o.length;c++)l[o[c]+"."+s[1]]=i;var d="pan"===i?i:"zoom";l.dragmode=d,a.call("_guiRelayout",e,l)}function h(e,t){for(var r=t.currentTarget.getAttribute("data-attr"),n=e._fullLayout,i=n._subplots.gl3d,o={},l=0;l<i.length;l++){var s=i[l],c=s+".camera",d=n[s]._scene;"resetLastSave"===r?(o[c+".up"]=d.viewInitial.up,o[c+".eye"]=d.viewInitial.eye,o[c+".center"]=d.viewInitial.center):"resetDefault"===r&&(o[c+".up"]=null,o[c+".eye"]=null,o[c+".center"]=null)}a.call("_guiRelayout",e,o)}function f(e,t){var r=t.currentTarget,a=r._previousVal,n=e._fullLayout,i=n._subplots.gl3d,o=["xaxis","yaxis","zaxis"],l={},s={};if(a)s=a,r._previousVal=null;else{for(var c=0;c<i.length;c++){var d=i[c],u=n[d],h=d+".hovermode";l[h]=u.hovermode,s[h]=!1;for(var f=0;f<3;f++){var p=o[f],g=d+"."+p+".showspikes";s[g]=!1,l[g]=u[p].showspikes}}r._previousVal=l}return s}function p(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout,l=o._subplots.geo,s=0;s<l.length;s++){var c=l[s],d=o[c];if("zoom"===n){var u=d.projection.scale,h="in"===i?2*u:.5*u;a.call("_guiRelayout",e,c+".projection.scale",h)}else"reset"===n&&m(e,"geo")}}function g(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function v(e){var t=g(e);a.call("_guiRelayout",e,"hovermode",t)}function m(e,t){for(var r=e._fullLayout,n=r._subplots[t],i={},o=0;o<n.length;o++)for(var l=n[o],s=r[l]._subplot.viewInitial,c=Object.keys(s),d=0;d<c.length;d++){var u=c[d];i[l+"."+u]=s[u]}a.call("_guiRelayout",e,i)}c.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return s(e,"png"===t?"Download plot as a png":"Download plot")},icon:l.camera,click:function(e){var t=e._context.toImageButtonOptions,r={format:t.format||"png"};o.notifier(s(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&o.isIE()&&(o.notifier(s(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(e){e in t&&(r[e]=t[e])}),a.call("downloadImage",e,r).then(function(t){o.notifier(s(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){o.notifier(s(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},c.sendDataToCloud={name:"sendDataToCloud",title:function(e){return s(e,"Edit in Chart Studio")},icon:l.disk,click:function(e){n.sendDataToCloud(e)}},c.zoom2d={name:"zoom2d",title:function(e){return s(e,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:d},c.pan2d={name:"pan2d",title:function(e){return s(e,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:d},c.select2d={name:"select2d",title:function(e){return s(e,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:d},c.lasso2d={name:"lasso2d",title:function(e){return s(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:d},c.zoomIn2d={name:"zoomIn2d",title:function(e){return s(e,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:d},c.zoomOut2d={name:"zoomOut2d",title:function(e){return s(e,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:d},c.autoScale2d={name:"autoScale2d",title:function(e){return s(e,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:d},c.resetScale2d={name:"resetScale2d",title:function(e){return s(e,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:d},c.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return s(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:d},c.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return s(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:d},c.zoom3d={name:"zoom3d",title:function(e){return s(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:u},c.pan3d={name:"pan3d",title:function(e){return s(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:u},c.orbitRotation={name:"orbitRotation",title:function(e){return s(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:u},c.tableRotation={name:"tableRotation",title:function(e){return s(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:u},c.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return s(e,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:h},c.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return s(e,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:h},c.hoverClosest3d={name:"hoverClosest3d",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(e,t){var r=f(e,t);a.call("_guiRelayout",e,r)}},c.zoomInGeo={name:"zoomInGeo",title:function(e){return s(e,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:p},c.zoomOutGeo={name:"zoomOutGeo",title:function(e){return s(e,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:p},c.resetGeo={name:"resetGeo",title:function(e){return s(e,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:p},c.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:v},c.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:v},c.hoverClosestPie={name:"hoverClosestPie",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:v},c.resetViewSankey={name:"resetSankeyGroup",title:function(e){return s(e,"Reset view")},icon:l.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<e._fullData.length;r++){var n=e._fullData[r]._viewInitial;t["node.groups"].push(n.node.groups.slice()),t["node.x"].push(n.node.x.slice()),t["node.y"].push(n.node.y.slice())}a.call("restyle",e,t)}},c.toggleHover={name:"toggleHover",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(e,t){var r=f(e,t);r.hovermode=g(e),a.call("_guiRelayout",e,r)}},c.resetViews={name:"resetViews",title:function(e){return s(e,"Reset views")},icon:l.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),d(e,t),r.setAttribute("data-attr","resetLastSave"),h(e,t),m(e,"geo"),m(e,"mapbox")}},c.toggleSpikelines={name:"toggleSpikelines",title:function(e){return s(e,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled="on"===t._cartesianSpikesEnabled?"off":"on";var r=function(e){for(var t,r,a=e._fullLayout,n=i.list(e,null,!0),o={},l=0;l<n.length;l++)t=n[l],r=t._name,o[r+".showspikes"]="on"===a._cartesianSpikesEnabled||t._showSpikeInitial;return o}(e);a.call("_guiRelayout",e,r)}},c.resetViewMapbox={name:"resetViewMapbox",title:function(e){return s(e,"Reset view")},attr:"reset",icon:l.home,click:function(e){m(e,"mapbox")}}},function(e,t,r){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var a,n=r(242),i=r(243),o=r(244),l=r(246),s=r(247),c=r(248),d=!1,u=i();function h(e,t,r){var n=a.segments(e),i=a.segments(t),o=r(a.combine(n,i));return a.polygon(o)}a={buildLog:function(e){return!0===e?d=n():!1===e&&(d=!1),!1!==d&&d.list},epsilon:function(e){return u.epsilon(e)},segments:function(e){var t=o(!0,u,d);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:o(!1,u,d).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,d),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,d),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,d),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,d),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,d),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,u,d),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(a,e)},polygonToGeoJSON:function(e){return c.fromPolygon(a,u,e)},union:function(e,t){return h(e,t,a.selectUnion)},intersect:function(e,t){return h(e,t,a.selectIntersect)},difference:function(e,t){return h(e,t,a.selectDifference)},differenceRev:function(e,t){return h(e,t,a.selectDifferenceRev)},xor:function(e,t){return h(e,t,a.selectXor)}},"object"==typeof window&&(window.PolyBool=a),e.exports=a},function(e,t){e.exports=function(){var e,t=0,r=!1;function a(t,r){return e.list.push({type:t,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return a("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return a("div_seg",{seg:e,pt:t}),a("chop",{seg:e,pt:t})},statusRemove:function(e){return a("pop_seg",{seg:e})},segmentUpdate:function(e){return a("seg_update",{seg:e})},segmentNew:function(e,t){return a("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return a("rem_seg",{seg:e})},tempStatus:function(e,t,r){return a("temp_status",{seg:e,above:t,below:r})},rewind:function(e){return a("rewind",{seg:e})},status:function(e,t,r){return a("status",{seg:e,above:t,below:r})},vert:function(t){return t===r?e:(r=t,a("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),a("log",{txt:e})},reset:function(){return a("reset")},selected:function(e){return a("selected",{segs:e})},chainStart:function(e){return a("chain_start",{seg:e})},chainRemoveHead:function(e,t){return a("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return a("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return a("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return a("chain_match",{index:e})},chainClose:function(e){return a("chain_close",{index:e})},chainAddHead:function(e,t){return a("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return a("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return a("chain_con",{index1:e,index2:t})},chainReverse:function(e){return a("chain_rev",{index:e})},chainJoin:function(e,t){return a("chain_join",{index1:e,index2:t})},done:function(){return a("done")}}}},function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,r,a){var n=r[0],i=r[1],o=a[0],l=a[1],s=t[0];return(o-n)*(t[1]-i)-(l-i)*(s-n)>=-e},pointBetween:function(t,r,a){var n=t[1]-r[1],i=a[0]-r[0],o=t[0]-r[0],l=a[1]-r[1],s=o*i+n*l;return!(s<e||s-(i*i+l*l)>-e)},pointsSameX:function(t,r){return Math.abs(t[0]-r[0])<e},pointsSameY:function(t,r){return Math.abs(t[1]-r[1])<e},pointsSame:function(e,r){return t.pointsSameX(e,r)&&t.pointsSameY(e,r)},pointsCompare:function(e,r){return t.pointsSameX(e,r)?t.pointsSameY(e,r)?0:e[1]<r[1]?-1:1:e[0]<r[0]?-1:1},pointsCollinear:function(t,r,a){var n=t[0]-r[0],i=t[1]-r[1],o=r[0]-a[0],l=r[1]-a[1];return Math.abs(n*l-o*i)<e},linesIntersect:function(t,r,a,n){var i=r[0]-t[0],o=r[1]-t[1],l=n[0]-a[0],s=n[1]-a[1],c=i*s-o*l;if(Math.abs(c)<e)return!1;var d=t[0]-a[0],u=t[1]-a[1],h=(l*u-s*d)/c,f=(i*u-o*d)/c,p={alongA:0,alongB:0,pt:[t[0]+h*i,t[1]+h*o]};return p.alongA=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p.alongB=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p},pointInsideRegion:function(t,r){for(var a=t[0],n=t[1],i=r[r.length-1][0],o=r[r.length-1][1],l=!1,s=0;s<r.length;s++){var c=r[s][0],d=r[s][1];d-n>e!=o-n>e&&(i-c)*(n-d)/(o-d)+c-a>e&&(l=!l),i=c,o=d}return l}};return t}},function(e,t,r){var a=r(245);e.exports=function(e,t,r){function n(e,t,a){return{id:r?r.segmentId():-1,start:e,end:t,myFill:{above:a.myFill.above,below:a.myFill.below},otherFill:null}}var i=a.create();function o(e,r){i.insertBefore(e,function(a){return function(e,r,a,n,i,o){var l=t.pointsCompare(r,i);return 0!==l?l:t.pointsSame(a,o)?0:e!==n?e?1:-1:t.pointAboveOrOnLine(a,n?i:o,n?o:i)?1:-1}(e.isStart,e.pt,r,a.isStart,a.pt,a.other.pt)<0})}function l(e,t){var r=function(e,t){var r=a.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return o(r,e.end),r}(e,t);return function(e,t,r){var n=a.node({isStart:!1,pt:t.end,seg:t,primary:r,other:e,status:null});e.other=n,o(n,e.pt)}(r,e,t),r}function s(e,t){var a=n(t,e.seg.end,e.seg);return function(e,t){r&&r.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,o(e.other,e.pt)}(e,t),l(a,e.primary)}function c(n,o){var l=a.create();function c(e){return l.findTransition(function(r){var a,n,i,o,l,s;return a=e,n=r.ev,i=a.seg.start,o=a.seg.end,l=n.seg.start,s=n.seg.end,(t.pointsCollinear(i,l,s)?t.pointsCollinear(o,l,s)?1:t.pointAboveOrOnLine(o,l,s)?1:-1:t.pointAboveOrOnLine(i,l,s)?1:-1)>0})}function d(e,a){var n=e.seg,i=a.seg,o=n.start,l=n.end,c=i.start,d=i.end;r&&r.checkIntersection(n,i);var u=t.linesIntersect(o,l,c,d);if(!1===u){if(!t.pointsCollinear(o,l,c))return!1;if(t.pointsSame(o,d)||t.pointsSame(l,c))return!1;var h=t.pointsSame(o,c),f=t.pointsSame(l,d);if(h&&f)return a;var p=!h&&t.pointBetween(o,c,d),g=!f&&t.pointBetween(l,c,d);if(h)return g?s(a,l):s(e,d),a;p&&(f||(g?s(a,l):s(e,d)),s(a,o))}else 0===u.alongA&&(-1===u.alongB?s(e,c):0===u.alongB?s(e,u.pt):1===u.alongB&&s(e,d)),0===u.alongB&&(-1===u.alongA?s(a,o):0===u.alongA?s(a,u.pt):1===u.alongA&&s(a,l));return!1}for(var u=[];!i.isEmpty();){var h=i.getHead();if(r&&r.vert(h.pt[0]),h.isStart){r&&r.segmentNew(h.seg,h.primary);var f=c(h),p=f.before?f.before.ev:null,g=f.after?f.after.ev:null;function v(){if(p){var e=d(h,p);if(e)return e}return!!g&&d(h,g)}r&&r.tempStatus(h.seg,!!p&&p.seg,!!g&&g.seg);var m,y,x=v();if(x)e?(y=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below)&&(x.seg.myFill.above=!x.seg.myFill.above):x.seg.otherFill=h.seg.myFill,r&&r.segmentUpdate(x.seg),h.other.remove(),h.remove();if(i.getHead()!==h){r&&r.rewind(h.seg);continue}e?(y=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below,h.seg.myFill.below=g?g.seg.myFill.above:n,h.seg.myFill.above=y?!h.seg.myFill.below:h.seg.myFill.below):null===h.seg.otherFill&&(m=g?h.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:h.primary?o:n,h.seg.otherFill={above:m,below:m}),r&&r.status(h.seg,!!p&&p.seg,!!g&&g.seg),h.other.status=f.insert(a.node({ev:h}))}else{var b=h.status;if(null===b)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(b.prev)&&l.exists(b.next)&&d(b.prev.ev,b.next.ev),r&&r.statusRemove(b.ev.seg),b.remove(),!h.primary){var _=h.seg.myFill;h.seg.myFill=h.seg.otherFill,h.seg.otherFill=_}u.push(h.seg)}i.getHead().remove()}return r&&r.done(),u}return e?{addRegion:function(e){for(var a,n,i,o=e[e.length-1],s=0;s<e.length;s++){a=o,o=e[s];var c=t.pointsCompare(a,o);0!==c&&l((n=c<0?a:o,i=c<0?o:a,{id:r?r.segmentId():-1,start:n,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,r,a){return e.forEach(function(e){l(n(e.start,e.end,e),!0)}),r.forEach(function(e){l(n(e.start,e.end,e),!1)}),c(t,a)}}}},function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,r){for(var a=e.root,n=e.root.next;null!==n;){if(r(n))return t.prev=n.prev,t.next=n,n.prev.next=t,void(n.prev=t);a=n,n=n.next}a.next=t,t.prev=a,t.next=null},findTransition:function(t){for(var r=e.root,a=e.root.next;null!==a&&!t(a);)r=a,a=a.next;return{before:r===e.root?null:r,after:a,insert:function(e){return e.prev=r,e.next=a,r.next=e,null!==a&&(a.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},function(e,t){e.exports=function(e,t,r){var a=[],n=[];return e.forEach(function(e){var i=e.start,o=e.end;if(t.pointsSame(i,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,d=0;d<a.length;d++){var u=(v=a[d])[0],h=(v[1],v[v.length-1]);if(v[v.length-2],t.pointsSame(u,i)){if(A(d,!0,!0))break}else if(t.pointsSame(u,o)){if(A(d,!0,!1))break}else if(t.pointsSame(h,i)){if(A(d,!1,!0))break}else if(t.pointsSame(h,o)&&A(d,!1,!1))break}if(c===l)return a.push([i,o]),void(r&&r.chainNew(i,o));if(c===s){r&&r.chainMatch(l.index);var f=l.index,p=l.matches_pt1?o:i,g=l.matches_head,v=a[f],m=g?v[0]:v[v.length-1],y=g?v[1]:v[v.length-2],x=g?v[v.length-1]:v[0],b=g?v[v.length-2]:v[1];return t.pointsCollinear(y,m,p)&&(g?(r&&r.chainRemoveHead(l.index,p),v.shift()):(r&&r.chainRemoveTail(l.index,p),v.pop()),m=y),t.pointsSame(x,p)?(a.splice(f,1),t.pointsCollinear(b,x,m)&&(g?(r&&r.chainRemoveTail(l.index,m),v.pop()):(r&&r.chainRemoveHead(l.index,m),v.shift())),r&&r.chainClose(l.index),void n.push(v)):void(g?(r&&r.chainAddHead(l.index,p),v.unshift(p)):(r&&r.chainAddTail(l.index,p),v.push(p)))}var _=l.index,w=s.index;r&&r.chainConnect(_,w);var k=a[_].length<a[w].length;l.matches_head?s.matches_head?k?(T(_),M(_,w)):(T(w),M(w,_)):M(w,_):s.matches_head?M(_,w):k?(T(_),M(w,_)):(T(w),M(_,w))}function A(e,t,r){return c.index=e,c.matches_head=t,c.matches_pt1=r,c===l?(c=s,!1):(c=null,!0)}function T(e){r&&r.chainReverse(e),a[e].reverse()}function M(e,n){var i=a[e],o=a[n],l=i[i.length-1],s=i[i.length-2],c=o[0],d=o[1];t.pointsCollinear(s,l,c)&&(r&&r.chainRemoveTail(e,l),i.pop(),l=s),t.pointsCollinear(l,c,d)&&(r&&r.chainRemoveHead(n,c),o.shift()),r&&r.chainJoin(e,n),a[e]=i.concat(o),a.splice(n,1)}}),n}},function(e,t){function r(e,t,r){var a=[];return e.forEach(function(e){var n=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[n]&&a.push({id:r?r.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[n],below:2===t[n]},otherFill:null})}),r&&r.selected(a),a}var a={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=a},function(e,t){var r={toPolygon:function(e,t){function r(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function r(t){var r=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[r]})}for(var a=r(t[0]),n=1;n<t.length;n++)a=e.selectDifference(e.combine(a,r(t[n])));return a}if("Polygon"===t.type)return e.polygon(r(t.coordinates));if("MultiPolygon"===t.type){for(var a=e.segments({inverted:!1,regions:[]}),n=0;n<t.coordinates.length;n++)a=e.selectUnion(e.combine(a,r(t.coordinates[n])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,r){function a(e,r){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r)}function n(e){return{region:e,children:[]}}r=e.polygon(e.segments(r));var i=n(null);function o(e,t){for(var r=0;r<e.children.length;r++){if(a(t,(l=e.children[r]).region))return void o(l,t)}var i=n(t);for(r=0;r<e.children.length;r++){var l;a((l=e.children[r]).region,t)&&(i.children.push(l),e.children.splice(r,1),r--)}e.children.push(i)}for(var l=0;l<r.regions.length;l++){var s=r.regions[l];s.length<3||o(i,s)}function c(e,t){for(var r=0,a=e[e.length-1][0],n=e[e.length-1][1],i=[],o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];i.push([l,s]),r+=s*a-l*n,a=l,n=s}return r<0!==t&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var d=[];function u(e){var t=[c(e.region,!1)];d.push(t);for(var r=0;r<e.children.length;r++)t.push(h(e.children[r]))}function h(e){for(var t=0;t<e.children.length;t++)u(e.children[t]);return c(e.region,!0)}for(l=0;l<i.children.length;l++)u(i.children[l]);return d.length<=0?{type:"Polygon",coordinates:[]}:1==d.length?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};e.exports=r},function(e,t,r){"use strict";e.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}}},function(e,t,r){"use strict";var a=r(0),n=r(11),i=r(12),o=r(33),l=r(14),s=r(251),c=r(228),d=r(213).handleConstraintDefaults,u=r(229),h=r(27),f=h.id2name,p=h.name2id,g=r(4),v=g.traceIs,m=g.getComponentMethod;function y(e,t,r){Array.isArray(e[t])?e[t].push(r):e[t]=[r]}e.exports=function(e,t,r){var h,g,x={},b={},_={},w={},k={};for(h=0;h<r.length;h++){var A=r[h];if(v(A,"cartesian")||v(A,"gl2d")){var T,M;if(A.xaxis)y(x,T=f(A.xaxis),A);else if(A.xaxes)for(g=0;g<A.xaxes.length;g++)y(x,f(A.xaxes[g]),A);if(A.yaxis)y(x,M=f(A.yaxis),A);else if(A.yaxes)for(g=0;g<A.yaxes.length;g++)y(x,f(A.yaxes[g]),A);if(v(A,"carpet")&&("carpet"!==A.type||A._cheater)||T&&(_[T]=1),"carpet"===A.type&&A._cheater&&T&&(b[T]=1),v(A,"2dMap")&&(w[T]=1,w[M]=1),v(A,"oriented"))k["h"===A.orientation?M:T]=1}}var S=t._subplots,C=S.xaxis,L=S.yaxis,z=a.simpleMap(C,f),I=a.simpleMap(L,f),P=z.concat(I),O=n.background;C.length&&L.length&&(O=a.coerce(e,t,o,"plot_bgcolor"));var D,R,j,E,F=n.combine(O,t.paper_bgcolor);function B(e,t){return a.coerce(j,E,l,e,t)}function N(e,t){return a.coerce2(j,E,l,e,t)}function H(e){return"x"===e?L:C}var V={x:H("x"),y:H("y")},q=V.x.concat(V.y);function G(t,r){for(var a="x"===t?z:I,n=[],i=0;i<a.length;i++){var o=a[i];o===r||(e[o]||{}).overlaying||n.push(p(o))}return n}for(h=0;h<P.length;h++){R=(D=P[h]).charAt(0),a.isPlainObject(e[D])||(e[D]={}),j=e[D],E=i.newContainer(t,D,R+"axis");var X=x[D]||[];E._traceIndices=X.map(function(e){return e._expandedIndex}),E._annIndices=[],E._shapeIndices=[],E._imgIndices=[],E._subplotsWith=[],E._counterAxes=[],E._name=E._attr=D;var W=E._id=p(D),U=G(R,D),Z={letter:R,font:t.font,outerTicks:w[D],showGrid:!k[D],data:X,bgColor:F,calendar:t.calendar,automargin:!0,cheateronly:"x"===R&&b[D]&&!_[D],splomStash:((t._splomAxes||{})[R]||{})[W]};B("uirevision",t.uirevision),s(j,E,B,Z),c(j,E,B,Z,t);var Y=N("spikecolor"),Q=N("spikethickness"),J=N("spikedash"),$=N("spikemode"),K=N("spikesnap");B("showspikes",!!(Y||Q||J||$||K))||(delete E.spikecolor,delete E.spikethickness,delete E.spikedash,delete E.spikemode,delete E.spikesnap),u(j,E,B,{letter:R,counterAxes:V[R],overlayableAxes:U,grid:t.grid}),E._input=j}var ee=m("rangeslider","handleDefaults"),te=m("rangeselector","handleDefaults");for(h=0;h<z.length;h++)D=z[h],j=e[D],E=t[D],ee(e,t,D),"date"===E.type&&te(j,E,t,I,E.calendar),B("fixedrange");for(h=0;h<I.length;h++){D=I[h],j=e[D],E=t[D];var re=t[f(E.anchor)];B("fixedrange",m("rangeslider","isVisible")(re))}var ae=t._axisConstraintGroups=[],ne=t._axisMatchGroups=[];for(h=0;h<P.length;h++)R=(D=P[h]).charAt(0),j=e[D],E=t[D],d(j,E,B,q,t);for(h=0;h<ne.length;h++){var ie,oe=ne[h],le=null,se=null;for(ie in oe)(E=t[f(ie)]).matches||(le=E.range,se=E.autorange);if(null===le||null===se)for(ie in oe){le=(E=t[f(ie)]).range,se=E.autorange;break}for(ie in oe)(E=t[f(ie)]).matches&&(E.range=le.slice(),E.autorange=se),E._matchGroup=oe;if(ae.length)for(ie in oe)for(g=0;g<ae.length;g++){var ce=ae[g];for(var de in ce)ie===de&&(a.warn("Axis "+de+" is set with both a *scaleanchor* and *matches* constraint; ignoring the scale constraint."),delete ce[de],Object.keys(ce).length<2&&ae.splice(g,1))}}}},function(e,t,r){"use strict";var a=r(4).traceIs,n=r(84);function i(e){return{v:"x",h:"y"}[e.orientation||"v"]}function o(e,t){var r=i(e),n=a(e,"box-violin"),o=a(e._fullInput||{},"candlestick");return n&&!o&&t===r&&void 0===e[r]&&void 0===e[r+"0"]}e.exports=function(e,t,r,l){"-"===r("type",(l.splomStash||{}).type)&&(!function(e,t){if("-"!==e.type)return;var r=e._id,l=r.charAt(0);-1!==r.indexOf("scene")&&(r=l);var s=function(e,t,r){for(var a=0;a<e.length;a++){var n=e[a];if("splom"===n.type&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(o(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}(t,r,l);if(!s)return;if("histogram"===s.type&&l==={v:"y",h:"x"}[s.orientation||"v"])return void(e.type="linear");var c,d=l+"calendar",u=s[d],h={noMultiCategory:!a(s,"cartesian")||a(s,"noMultiCategory")};if(o(s,l)){var f=i(s),p=[];for(c=0;c<t.length;c++){var g=t[c];a(g,"box-violin")&&(g[l+"axis"]||l)===r&&(void 0!==g[f]?p.push(g[f][0]):void 0!==g.name?p.push(g.name):p.push("text"),g[d]!==u&&(u=void 0))}e.type=n(p,u,h)}else if("splom"===s.type){var v=s.dimensions,m=s._diag;for(c=0;c<v.length;c++){var y=v[c];if(y.visible&&(m[c][0]===r||m[c][1]===r)){e.type=n(y.values,u,h);break}}}else e.type=n(s[l]||[s[l+"0"]],u,h)}(t,l.data),"-"===t.type?t.type="linear":e.type=t.type)}},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(26),o=r(63);e.exports=function(e,t,r,l){var s=e._fullLayout;if(0!==t.length){var c,d,u,h;l&&(c=l());var f=a.ease(r.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(h),h=null,function(){for(var r={},a=0;a<t.length;a++){var i=t[a];i.xr0&&(r[i.plotinfo.xaxis._name+".range"]=i.xr0.slice()),i.yr0&&(r[i.plotinfo.yaxis._name+".range"]=i.yr0.slice())}return n.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)p(t[e].plotinfo)})}()}),d=Date.now(),h=window.requestAnimationFrame(function a(){u=Date.now();for(var i=Math.min(1,(u-d)/r.duration),o=f(i),l=0;l<t.length;l++)g(t[l],o);u-d>r.duration?(function(){for(var r={},a=0;a<t.length;a++){var i=t[a];i.xr1&&(r[i.plotinfo.xaxis._name+".range"]=i.xr1.slice()),i.yr1&&(r[i.plotinfo.yaxis._name+".range"]=i.yr1.slice())}c&&c(),n.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)p(t[e].plotinfo)})}(),h=window.cancelAnimationFrame(a)):h=window.requestAnimationFrame(a)}),Promise.resolve()}function p(e){var t=e.xaxis,r=e.yaxis;s._defs.select("#"+e.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),e.plot.call(i.setTranslate,t._offset,r._offset).call(i.setScale,1,1);var a=e.plot.selectAll(".scatterlayer .trace");a.selectAll(".point").call(i.setPointGroupScale,1,1),a.selectAll(".textpoint").call(i.setTextPointsScale,1,1),a.call(i.hideOutsideRangePoints,e)}function g(t,r){var a=t.plotinfo,n=a.xaxis,l=a.yaxis,s=t.xr0,c=t.xr1,d=n._length,u=t.yr0,h=t.yr1,f=l._length,p=!!c,g=!!h,v=[];if(p){var m=s[1]-s[0],y=c[1]-c[0];v[0]=(s[0]*(1-r)+r*c[0]-s[0])/(s[1]-s[0])*d,v[2]=d*(1-r+r*y/m),n.range[0]=s[0]*(1-r)+r*c[0],n.range[1]=s[1]*(1-r)+r*c[1]}else v[0]=0,v[2]=d;if(g){var x=u[1]-u[0],b=h[1]-h[0];v[1]=(u[1]*(1-r)+r*h[1]-u[1])/(u[0]-u[1])*f,v[3]=f*(1-r+r*b/x),l.range[0]=u[0]*(1-r)+r*h[0],l.range[1]=u[1]*(1-r)+r*h[1]}else v[1]=0,v[3]=f;o.drawOne(e,n,{skipTitle:!0}),o.drawOne(e,l,{skipTitle:!0}),o.redrawComponents(e,[n._id,l._id]);var _=p?d/v[2]:1,w=g?f/v[3]:1,k=p?v[0]:0,A=g?v[1]:0,T=p?v[0]/v[2]*d:0,M=g?v[1]/v[3]*f:0,S=n._offset-T,C=l._offset-M;a.clipRect.call(i.setTranslate,k,A).call(i.setScale,1/_,1/w),a.plot.call(i.setTranslate,S,C).call(i.setScale,_,w),i.setPointGroupScale(a.zoomScalePts,1/_,1/w),i.setTextPointsScale(a.zoomScaleTxt,1/_,1/w)}o.redrawComponents(e)}},function(e,t,r){"use strict";var a=r(0);t.formatPiePercent=function(e,t){var r=(100*e).toPrecision(3);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),a.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=e.toPrecision(10);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),a.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var a=e[t[r]];if(a||0===a)return a}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0}},,,,,,,,function(e,t,r){"use strict";var a=r(0),n=r(4);e.exports=function(e,t,r,i){var o,l=i("x"),s=i("y");if(n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],r),l){var c=a.minRowLength(l);s?o=Math.min(c,a.minRowLength(s)):(o=c,i("y0"),i("dy"))}else{if(!s)return 0;o=a.minRowLength(s),i("x0"),i("dx")}return t._length=o,o}},function(e,t,r){"use strict";var a=r(1),n=r(0),i=r(63),o=r(5).BADNUM,l=r(64),s=r(305),c=r(263),d=r(264);function u(e,t,r,a,n,o,s){var c=t._length,d=e._fullLayout,u=r._id,h=a._id,f=d._firstScatter[p(t)]===t.uid,v=(g(t,d,r,a)||{}).orientation,m=t.fill;r._minDtick=0,a._minDtick=0;var y={padded:!0},x={padded:!0};s&&(y.ppad=x.ppad=s);var b=c<2||n[0]!==n[c-1]||o[0]!==o[c-1];b&&("tozerox"===m||"tonextx"===m&&(f||"h"===v))?y.tozero=!0:(t.error_y||{}).visible||"tonexty"!==m&&"tozeroy"!==m&&(l.hasMarkers(t)||l.hasText(t))||(y.padded=!1,y.ppad=0),b&&("tozeroy"===m||"tonexty"===m&&(f||"v"===v))?x.tozero=!0:"tonextx"!==m&&"tozerox"!==m||(x.padded=!1),u&&(t._extremes[u]=i.findExtremes(r,n,y)),h&&(t._extremes[h]=i.findExtremes(a,o,x))}function h(e,t){if(l.hasMarkers(e)){var r,a=e.marker,o=1.6*(e.marker.sizeref||1);if(r="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},n.isArrayOrTypedArray(a.size)){var s={type:"linear"};i.setConvert(s);for(var c=s.makeCalcdata(e.marker,"size"),d=new Array(t),u=0;u<t;u++)d[u]=r(c[u]);return d}return r(a.size)}}function f(e,t){var r=p(t),a=e._firstScatter;a[r]||(a[r]=t.uid)}function p(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function g(e,t,r,a){var n=e.stackgroup;if(n){var i=t._scatterStackOpts[r._id+a._id][n],o="v"===i.orientation?a:r;return"linear"===o.type||"log"===o.type?i:void 0}}e.exports={calc:function(e,t){var r,l,p,v,m,y,x=e._fullLayout,b=i.getFromId(e,t.xaxis||"x"),_=i.getFromId(e,t.yaxis||"y"),w=b.makeCalcdata(t,"x"),k=_.makeCalcdata(t,"y"),A=t._length,T=new Array(A),M=t.ids,S=g(t,x,b,_),C=!1;f(x,t);var L,z="x",I="y";for(S?(n.pushUnique(S.traceIndices,t._expandedIndex),(r="v"===S.orientation)?(I="s",L="x"):(z="s",L="y"),m="interpolate"===S.stackgaps):u(e,t,b,_,w,k,h(t,A)),l=0;l<A;l++){var P=T[l]={},O=a(w[l]),D=a(k[l]);O&&D?(P[z]=w[l],P[I]=k[l]):S&&(r?O:D)?(P[L]=r?w[l]:k[l],P.gap=!0,m?(P.s=o,C=!0):P.s=0):P[z]=P[I]=o,M&&(P.id=String(M[l]))}if(c(T,t),s(e,t),d(T,t),S){for(l=0;l<T.length;)T[l][L]===o?T.splice(l,1):l++;if(n.sort(T,function(e,t){return e[L]-t[L]||e.i-t.i}),C){for(l=0;l<T.length-1&&T[l].gap;)l++;for((y=T[l].s)||(y=T[l].s=0),p=0;p<l;p++)T[p].s=y;for(v=T.length-1;v>l&&T[v].gap;)v--;for(y=T[v].s,p=T.length-1;p>v;p--)T[p].s=y;for(;l<v;)if(T[++l].gap){for(p=l+1;T[p].gap;)p++;for(var R=T[l-1][L],j=T[l-1].s,E=(T[p].s-j)/(T[p][L]-R);l<p;)T[l].s=j+(T[l][L]-R)*E,l++}}}return T},calcMarkerSize:h,calcAxisExpansion:u,setFirstScatter:f,getStackOpts:g}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(t.text,e,"tx"),a.mergeArray(t.hovertext,e,"htx"),a.mergeArray(t.customdata,e,"data"),a.mergeArray(t.textposition,e,"tp"),t.textfont&&(a.mergeArray(t.textfont.size,e,"ts"),a.mergeArray(t.textfont.color,e,"tc"),a.mergeArray(t.textfont.family,e,"tf"));var n=t.marker;if(n){a.mergeArray(n.size,e,"ms"),a.mergeArray(n.opacity,e,"mo"),a.mergeArray(n.symbol,e,"mx"),a.mergeArray(n.color,e,"mc");var i=n.line;n.line&&(a.mergeArray(i.color,e,"mlc"),a.mergeArray(i.width,e,"mlw"));var o=n.gradient;o&&"none"!==o.type&&(a.mergeArray(o.type,e,"mgt"),a.mergeArray(o.color,e,"mgc"))}}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t){a.isArrayOrTypedArray(t.selectedpoints)&&a.tagSelected(e,t)}},function(e,t,r){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},function(e,t,r){"use strict";var a=r(3),n=r(26),i=r(4);function o(e,t,r){n.pointStyle(e.selectAll("path.point"),t,r)}function l(e,t,r){n.textPointStyle(e.selectAll("text"),t,r)}e.exports={style:function(e,t){var r=t?t[0].node3:a.select(e).selectAll("g.trace.scatter");r.style("opacity",function(e){return e[0].trace.opacity}),r.selectAll("g.points").each(function(t){o(a.select(this),t.trace||t[0].trace,e)}),r.selectAll("g.text").each(function(t){l(a.select(this),t.trace||t[0].trace,e)}),r.selectAll("g.trace path.js-line").call(n.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(n.fillGroupStyle),i.getComponentMethod("errorbars","style")(r)},stylePoints:o,styleText:l,styleOnSelect:function(e,t){var r=t[0].node3,a=t[0].trace;a.selectedpoints?(n.selectedPointStyle(r.selectAll("path.point"),a),n.selectedTextStyle(r.selectAll("text"),a)):(o(r,a,e),l(r,a,e))}}},function(e,t,r){"use strict";var a=r(0);function n(e){return e||0===e}e.exports=function(e,t,r){var i=Array.isArray(r)?function(e){r.push(e)}:function(e){r.text=e},o=a.extractOption(e,t,"htx","hovertext");if(n(o))return i(o);var l=a.extractOption(e,t,"tx","text");return n(l)?i(l):void 0}},,,,,function(e,t,r){"use strict";var a=r(11),n=r(253).castOption;e.exports=function(e,t,r){var i=r.marker.line,o=n(i.color,t.pts)||a.defaultLine,l=n(i.width,t.pts)||0;e.style("stroke-width",l).call(a.fill,t.color).call(a.stroke,o)}},function(e,t,r){"use strict";var a=r(345),n=r(7),i=r(28),o=r(12).templatedArray;e.exports=o("annotation",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:n({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:a.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:a.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",role:"style",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,role:"style",editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is an absolute value on that axis,","like `x`, NOT a relative value."].join(" ")},ay:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is an absolute value on that axis,","like `y`, NOT a relative value."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],role:"info",editType:"calc",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],role:"info",editType:"calc",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:n({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",role:"info",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc",_deprecated:{ref:{valType:"string",role:"info",editType:"calc",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}})},function(e,t,r){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},function(e,t,r){"use strict";var a=r(6).extendFlat;t.attributes=function(e,t){e=e||{},t=t||{};var r={valType:"info_array",role:"info",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",i=e.trace?"trace ":"subplot ",o=t.description?" "+t.description:"",l={x:a({},r,{description:["Sets the horizontal domain of this ",n,i,"(in plot fraction).",o].join("")}),y:a({},r,{description:["Sets the vertical domain of this ",n,i,"(in plot fraction).",o].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",n,i,".",o].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",n,i,".",o].join("")}),l},t.defaults=function(e,t,r,a){var n=a&&a.x||[0,1],i=a&&a.y||[0,1],o=t.grid;if(o){var l=r("domain.column");void 0!==l&&(l<o.columns?n=o._domains.x[l]:delete e.domain.column);var s=r("domain.row");void 0!==s&&(s<o.rows?i=o._domains.y[s]:delete e.domain.row)}r("domain.x",n),r("domain.y",i)}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},t.getRedrawFunc=function(e){var t=e._fullLayout||{};if(!(!(t._has&&t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r))return function(){(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()})}}},function(e,t,r){"use strict";var a=r(3),n=r(0),i=r(26),o=r(11),l=r(46),s=/"/g,c=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function(e,t,r){var d,u=e._fullLayout,h=u._paper,f=u._toppaper,p=u.width,g=u.height;h.insert("rect",":first-child").call(i.setRect,0,0,p,g).call(o.fill,u.paper_bgcolor);var v=u._basePlotModules||[];for(d=0;d<v.length;d++){var m=v[d];m.toSVG&&m.toSVG(e)}if(f){var y=f.node().childNodes,x=Array.prototype.slice.call(y);for(d=0;d<x.length;d++){var b=x[d];b.childNodes.length&&h.node().appendChild(b)}}u._draggers&&u._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=a.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(s,"TOBESTRIPPED"))}else e.remove()}),h.selectAll(".point, .scatterpts, .legendfill>path, .legendlines>path, .cbfill").each(function(){var e=a.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(s,"TOBESTRIPPED"));var r=this.style.stroke;r&&-1!==r.indexOf("url(")&&e.style("stroke",r.replace(s,"TOBESTRIPPED"))}),"pdf"!==t&&"eps"!==t||h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(l.xmlns,"xmlns",l.svg),h.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===t&&r&&(h.attr("width",r*p),h.attr("height",r*g),h.attr("viewBox","0 0 "+p+" "+g));var _=(new window.XMLSerializer).serializeToString(h.node());return _=function(e){var t=a.select("body").append("div").style({display:"none"}).html(""),r=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()});return t.remove(),r}(_),_=(_=_.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(c,"'"),n.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},function(e,t,r){"use strict";var a=r(0),n=r(212).EventEmitter;e.exports=function(e){var t=e.emitter||new n,r=new Promise(function(n,i){var o=window.Image,l=e.svg,s=e.format||"png";if(a.isIE()&&"svg"!==s){var c=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return i(c),e.promise?r:t.emit("error",c)}var d=e.canvas,u=e.scale||1,h=u*(e.width||300),f=u*(e.height||150),p=d.getContext("2d"),g=new o,v="data:image/svg+xml,"+encodeURIComponent(l);d.width=h,d.height=f,g.onload=function(){var r;switch("svg"!==s&&p.drawImage(g,0,0,h,f),s){case"jpeg":r=d.toDataURL("image/jpeg");break;case"png":r=d.toDataURL("image/png");break;case"webp":r=d.toDataURL("image/webp");break;case"svg":r=v;break;default:var a="Image format is not jpeg, png, svg or webp.";if(i(new Error(a)),!e.promise)return t.emit("error",a)}n(r),e.promise||t.emit("success",r)},g.onerror=function(r){if(i(r),!e.promise)return t.emit("error",r)},g.src=v});return e.promise?r:t}},function(e,t,r){"use strict";var a=r(64);e.exports={hasLines:a.hasLines,hasMarkers:a.hasMarkers,hasText:a.hasText,isBubble:a.isBubble,attributes:r(70),supplyDefaults:r(297),crossTraceDefaults:r(304),calc:r(262).calc,crossTraceCalc:r(306),arraysToCalcdata:r(263),plot:r(307),colorbar:r(265),style:r(266).style,styleOnSelect:r(266).styleOnSelect,hoverPoints:r(310),selectPoints:r(312),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(231),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},function(e,t,r){"use strict";var a=r(0),n=r(4),i=r(70),o=r(82),l=r(64),s=r(261),c=r(298),d=r(299),u=r(300),h=r(301),f=r(302),p=r(303);e.exports=function(e,t,r,g){function v(r,n){return a.coerce(e,t,i,r,n)}var m=s(e,t,g,v);if(m||(t.visible=!1),t.visible){var y=c(e,t,g,v),x=!y&&m<o.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",x),l.hasLines(t)&&(u(e,t,r,g,v),h(e,t,v),v("connectgaps"),v("line.simplify")),l.hasMarkers(t)&&d(e,t,r,g,v,{gradient:!0}),l.hasText(t)&&f(e,t,g,v);var b=[];(l.hasMarkers(t)||l.hasText(t))&&(v("cliponaxis"),v("marker.maxdisplayed"),b.push("points")),v("fill",y?y.fillDflt:"none"),"none"!==t.fill&&(p(e,t,r,v),l.hasLines(t)||h(e,t,v));var _=(t.line||{}).color,w=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||b.push("fills"),v("hoveron",b.join("+")||"points"),"fills"!==t.hoveron&&v("hovertemplate");var k=n.getComponentMethod("errorbars","supplyDefaults");k(e,t,_||w||r,{axis:"y"}),k(e,t,_||w||r,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(t,v)}}},function(e,t,r){"use strict";var a=["orientation","groupnorm","stackgaps"];e.exports=function(e,t,r,n){var i=r._scatterStackOpts,o=n("stackgroup");if(o){var l=t.xaxis+t.yaxis,s=i[l];s||(s=i[l]={});var c=s[o],d=!1;c?c.traces.push(t):(c=s[o]={traceIndices:[],traces:[t]},d=!0);for(var u={orientation:t.x&&!t.y?"h":"v"},h=0;h<a.length;h++){var f=a[h],p=f+"Found";if(!c[p]){var g=void 0!==e[f],v="orientation"===f;if((g||d)&&(c[f]=n(f,u[f]),v&&(c.fillDflt="h"===c[f]?"tonextx":"tonexty"),g&&(c[p]=!0,!d&&(delete c.traces[0][f],v))))for(var m=0;m<c.traces.length-1;m++){var y=c.traces[m];y._input.fill!==y.fill&&(y.fill=c.fillDflt)}}}return c}}},function(e,t,r){"use strict";var a=r(11),n=r(45).hasColorscale,i=r(72),o=r(64);e.exports=function(e,t,r,l,s,c){var d=o.isBubble(e),u=(e.line||{}).color;(c=c||{},u&&(r=u),s("marker.symbol"),s("marker.opacity",d?.7:1),s("marker.size"),s("marker.color",r),n(e,"marker")&&i(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",u&&!Array.isArray(u)&&t.marker.color!==u?u:d?a.background:a.defaultLine),n(e,"marker.line")&&i(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",d?1:0)),d&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient)&&("none"!==s("marker.gradient.type")&&s("marker.gradient.color"))}},function(e,t,r){"use strict";var a=r(0).isArrayOrTypedArray,n=r(45).hasColorscale,i=r(72);e.exports=function(e,t,r,o,l,s){var c=(e.marker||{}).color;(l("line.color",r),n(e,"line"))?i(e,t,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!a(c)&&c||r);l("line.width"),(s||{}).noDash||l("line.dash")}},function(e,t,r){"use strict";e.exports=function(e,t,r){"spline"===r("line.shape")&&r("line.smoothing")}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t,r,n,i){i=i||{},n("textposition"),a.coerceFont(n,"textfont",r.font),i.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},function(e,t,r){"use strict";var a=r(11),n=r(0).isArrayOrTypedArray;e.exports=function(e,t,r,i){var o=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!n(l)?o=l:s&&!n(s)&&(o=s)}i("fillcolor",a.addOpacity((t.line||{}).color||o||r,.5))}},function(e,t,r){"use strict";e.exports=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("scatter"===r.type){var a=r.fill;if("none"!==a&&"toself"!==a&&(r.opacity=void 0,"tonexty"===a||"tonextx"===a))for(var n=t-1;n>=0;n--){var i=e[n];if("scatter"===i.type&&i.xaxis===r.xaxis&&i.yaxis===r.yaxis){i.opacity=void 0;break}}}}}},function(e,t,r){"use strict";var a=r(45).hasColorscale,n=r(81),i=r(64);e.exports=function(e,t){i.hasLines(t)&&a(t,"line")&&n(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(t)&&(a(t,"marker")&&n(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&n(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},function(e,t,r){"use strict";var a=r(262);function n(e,t,r,a,n,i,o){n[a]=!0;var l={i:null,gap:!0,s:0};if(l[o]=r,e.splice(t,0,l),t&&r===e[t-1][o]){var s=e[t-1];l.s=s.s,l.i=s.i,l.gap=s.gap}else i&&(l.s=function(e,t,r,a){var n=e[t-1],i=e[t+1];return i?n?n.s+(i.s-n.s)*(r-n[a])/(i[a]-n[a]):i.s:n.s}(e,t,r,o));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}e.exports=function(e,t){var r=t.xaxis,i=t.yaxis,o=r._id+i._id,l=e._fullLayout._scatterStackOpts[o];if(l){var s,c,d,u,h,f,p,g,v,m,y,x,b,_,w,k=e.calcdata;for(var A in l){var T=(m=l[A]).traceIndices;if(T.length){for(y="interpolate"===m.stackgaps,x=m.groupnorm,"v"===m.orientation?(b="x",_="y"):(b="y",_="x"),w=new Array(T.length),s=0;s<w.length;s++)w[s]=!1;f=k[T[0]];var M=new Array(f.length);for(s=0;s<f.length;s++)M[s]=f[s][b];for(s=1;s<T.length;s++){for(h=k[T[s]],c=d=0;c<h.length;c++){for(p=h[c][b];p>M[d]&&d<M.length;d++)n(h,c,M[d],s,w,y,b),c++;if(p!==M[d]){for(u=0;u<s;u++)n(k[T[u]],d,p,u,w,y,b);M.splice(d,0,p)}d++}for(;d<M.length;d++)n(h,c,M[d],s,w,y,b),c++}var S=M.length;for(c=0;c<f.length;c++){for(g=f[c][_]=f[c].s,s=1;s<T.length;s++)(h=k[T[s]])[0].trace._rawLength=h[0].trace._length,h[0].trace._length=S,g+=h[c].s,h[c][_]=g;if(x)for(v=("fraction"===x?g:g/100)||1,s=0;s<T.length;s++){var C=k[T[s]][c];C[_]/=v,C.sNorm=C.s/v}}for(s=0;s<T.length;s++){var L=(h=k[T[s]])[0].trace,z=a.calcMarkerSize(L,L._rawLength),I=Array.isArray(z);if(z&&w[s]||I){var P=z;for(z=new Array(S),c=0;c<S;c++)z[c]=h[c].gap?0:I?P[h[c].i]:P}var O=new Array(S),D=new Array(S);for(c=0;c<S;c++)O[c]=h[c].x,D[c]=h[c].y;a.calcAxisExpansion(e,L,r,i,O,D,z),h[0].t.orientation=m.orientation}}}}}},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(0),o=i.ensureSingle,l=i.identity,s=r(26),c=r(64),d=r(308),u=r(309),h=r(226).tester;function f(e,t,r,u,f,p,g){var v;!function(e,t,r,n,o){var l=r.xaxis,s=r.yaxis,d=a.extent(i.simpleMap(l.range,l.r2c)),u=a.extent(i.simpleMap(s.range,s.r2c)),h=n[0].trace;if(!c.hasMarkers(h))return;var f=h.marker.maxdisplayed;if(0===f)return;var p=n.filter(function(e){return e.x>=d[0]&&e.x<=d[1]&&e.y>=u[0]&&e.y<=u[1]}),g=Math.ceil(p.length/f),v=0;o.forEach(function(e,r){var a=e[0].trace;c.hasMarkers(a)&&a.marker.maxdisplayed>0&&r<t&&v++});var m=Math.round(v*g/3+Math.floor(v/3)*g/7.1);n.forEach(function(e){delete e.vis}),p.forEach(function(e,t){0===Math.round((t+m)%g)&&(e.vis=!0)})}(0,t,r,u,f);var m=!!g&&g.duration>0;function y(e){return m?e.transition():e}var x=r.xaxis,b=r.yaxis,_=u[0].trace,w=_.line,k=a.select(p),A=o(k,"g","errorbars"),T=o(k,"g","lines"),M=o(k,"g","points"),S=o(k,"g","text");if(n.getComponentMethod("errorbars","plot")(e,A,r,g),!0===_.visible){var C,L;y(k).style("opacity",_.opacity);var z=_.fill.charAt(_.fill.length-1);"x"!==z&&"y"!==z&&(z=""),r.isRangePlot||(u[0].node3=k);var I,P,O="",D=[],R=_._prevtrace;R&&(O=R._prevRevpath||"",L=R._nextFill,D=R._polygons);var j,E,F,B,N,H,V,q="",G="",X=[],W=i.noop;if(C=_._ownFill,c.hasLines(_)||"none"!==_.fill){for(L&&L.datum(u),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(j=s.steps(w.shape),E=s.steps(w.shape.split("").reverse().join(""))):j=E="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),w.smoothing):s.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},F=function(e){return E(e.reverse())},X=d(u,{xaxis:x,yaxis:b,connectGaps:_.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify,fill:_.fill}),V=_._polygons=new Array(X.length),v=0;v<X.length;v++)_._polygons[v]=h(X[v]);X.length&&(B=X[0][0],H=(N=X[X.length-1])[N.length-1]),W=function(e){return function(t){if(I=j(t),P=F(t),q?z?(q+="L"+I.substr(1),G=P+"L"+G.substr(1)):(q+="Z"+I,G=P+"Z"+G):(q=I,G=P),c.hasLines(_)&&t.length>1){var r=a.select(this);if(r.datum(u),e)y(r.style("opacity",0).attr("d",I).call(s.lineGroupStyle)).style("opacity",1);else{var n=y(r);n.attr("d",I),s.singleLineStyle(u,n)}}}}}var U=T.selectAll(".js-line").data(X);y(U.exit()).style("opacity",0).remove(),U.each(W(!1)),U.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(W(!0)),s.setClipUrl(U,r.layerClipId,e),X.length?(C?(C.datum(u),B&&H&&(z?("y"===z?B[1]=H[1]=b.c2p(0,!0):"x"===z&&(B[0]=H[0]=x.c2p(0,!0)),y(C).attr("d","M"+H+"L"+B+"L"+q.substr(1)).call(s.singleFillStyle)):y(C).attr("d",q+"Z").call(s.singleFillStyle))):L&&("tonext"===_.fill.substr(0,6)&&q&&O?("tonext"===_.fill?y(L).attr("d",q+"Z"+O+"Z").call(s.singleFillStyle):y(L).attr("d",q+"L"+O.substr(1)+"Z").call(s.singleFillStyle),_._polygons=_._polygons.concat(D)):(Y(L),_._polygons=null)),_._prevRevpath=G,_._prevPolygons=V):(C?Y(C):L&&Y(L),_._polygons=_._prevRevpath=_._prevPolygons=null),M.datum(u),S.datum(u),function(t,n,i){var o,d=i[0].trace,u=c.hasMarkers(d),h=c.hasText(d),f=ee(d),p=te,g=te;if(u||h){var v=l,_=d.stackgroup,w=_&&"infer zero"===e._fullLayout._scatterStackOpts[x._id+b._id][_].stackgaps;d.marker.maxdisplayed||d._needsCull?v=w?J:Q:_&&!w&&(v=$),u&&(p=v),h&&(g=v)}var k,A=(o=t.selectAll("path.point").data(p,f)).enter().append("path").classed("point",!0);m&&A.call(s.pointStyle,d,e).call(s.translatePoints,x,b).style("opacity",0).transition().style("opacity",1),o.order(),u&&(k=s.makePointStyleFns(d)),o.each(function(t){var n=a.select(this),i=y(n);s.translatePoint(t,i,x,b)?(s.singlePointStyle(t,i,d,k,e),r.layerClipId&&s.hideOutsideRangePoint(t,i,x,b,d.xcalendar,d.ycalendar),d.customdata&&n.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):i.remove()}),m?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=n.selectAll("g").data(g,f)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each(function(e){var t=a.select(this),n=y(t.select("text"));s.translatePoint(e,n,x,b)?r.layerClipId&&s.hideOutsideRangePoint(e,t,x,b,d.xcalendar,d.ycalendar):t.remove()}),o.selectAll("text").call(s.textPointStyle,d,e).each(function(e){var t=x.c2p(e.x),r=b.c2p(e.y);a.select(this).selectAll("tspan.line").each(function(){y(a.select(this)).attr({x:t,y:r})})}),o.exit().remove()}(M,S,u);var Z=!1===_.cliponaxis?null:r.layerClipId;s.setClipUrl(M,Z,e),s.setClipUrl(S,Z,e)}function Y(e){y(e).attr("d","M0,0Z")}function Q(e){return e.filter(function(e){return!e.gap&&e.vis})}function J(e){return e.filter(function(e){return e.vis})}function $(e){return e.filter(function(e){return!e.gap})}function K(e){return e.id}function ee(e){if(e.ids)return K}function te(){return!1}}e.exports=function(e,t,r,n,i,c){var d,h,p=!i,g=!!i&&i.duration>0,v=u(e,t,r);((d=n.selectAll("g.trace").data(v,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),d.order(),function(e,t,r){t.each(function(t){var n=o(a.select(this),"g","fills");s.setClipUrl(n,r.layerClipId,e);var i=t[0].trace,c=[];i._ownfill&&c.push("_ownFill"),i._nexttrace&&c.push("_nextFill");var d=n.selectAll("g").data(c,l);d.enter().append("g"),d.exit().each(function(e){i[e]=null}).remove(),d.order().each(function(e){i[e]=o(a.select(this),"path","js-fill")})})}(e,d,t),g)?(c&&(h=c()),a.transition().duration(i.duration).ease(i.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){n.selectAll("g.trace").each(function(r,a){f(e,a,t,r,v,this,i)})})):d.each(function(r,a){f(e,a,t,r,v,this,i)});p&&d.exit().remove(),n.selectAll("path:not([d])").remove()}},function(e,t,r){"use strict";var a=r(5),n=a.BADNUM,i=a.LOG_CLIP,o=i+.5,l=i-.5,s=r(0),c=s.segmentsIntersect,d=s.constrain,u=r(82);e.exports=function(e,t){var r,a,i,h,f,p,g,v,m,y,x,b,_,w,k,A,T,M,S=t.xaxis,C=t.yaxis,L="log"===S.type,z="log"===C.type,I=S._length,P=C._length,O=t.connectGaps,D=t.baseTolerance,R=t.shape,j="linear"===R,E=t.fill&&"none"!==t.fill,F=[],B=u.minTolerance,N=e.length,H=new Array(N),V=0;function q(t){var r=e[t];if(!r)return!1;var a=S.c2p(r.x),i=C.c2p(r.y);if(a===n){if(L&&(a=S.c2p(r.x,!0)),a===n)return!1;z&&i===n&&(a*=Math.abs(S._m*P*(S._m>0?o:l)/(C._m*I*(C._m>0?o:l)))),a*=1e3}if(i===n){if(z&&(i=C.c2p(r.y,!0)),i===n)return!1;i*=1e3}return[a,i]}function G(e,t,r,a){var n=r-e,i=a-t,o=.5-e,l=.5-t,s=n*n+i*i,c=n*o+i*l;if(c>0&&c<s){var d=o*i-l*n;if(d*d<s)return!0}}function X(e,t){var r=e[0]/I,a=e[1]/P,n=Math.max(0,-r,r-1,-a,a-1);return n&&void 0!==T&&G(r,a,T,M)&&(n=0),n&&t&&G(r,a,t[0]/I,t[1]/P)&&(n=0),(1+u.toleranceGrowth*n)*D}function W(e,t){var r=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(r*r+a*a)}var U,Z,Y,Q,J,$,K,ee=u.maxScreensAway,te=-I*ee,re=I*(1+ee),ae=-P*ee,ne=P*(1+ee),ie=[[te,ae,re,ae],[re,ae,re,ne],[re,ne,te,ne],[te,ne,te,ae]];function oe(e){if(e[0]<te||e[0]>re||e[1]<ae||e[1]>ne)return[d(e[0],te,re),d(e[1],ae,ne)]}function le(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===re)||(e[1]===t[1]&&(e[1]===ae||e[1]===ne)||void 0)}function se(e,t,r){return function(a,n){var i=oe(a),o=oe(n),l=[];if(i&&o&&le(i,o))return l;i&&l.push(i),o&&l.push(o);var c=2*s.constrain((a[e]+n[e])/2,t,r)-((i||a)[e]+(o||n)[e]);c&&((i&&o?c>0==i[e]>o[e]?i:o:i||o)[e]+=c);return l}}function ce(e){var t=e[0],r=e[1],a=t===H[V-1][0],n=r===H[V-1][1];if(!a||!n)if(V>1){var i=t===H[V-2][0],o=r===H[V-2][1];a&&(t===te||t===re)&&i?o?V--:H[V-1]=e:n&&(r===ae||r===ne)&&o?i?V--:H[V-1]=e:H[V++]=e}else H[V++]=e}function de(e){H[V-1][0]!==e[0]&&H[V-1][1]!==e[1]&&ce([Y,Q]),ce(e),J=null,Y=Q=0}function ue(e){if(T=e[0]/I,M=e[1]/P,U=e[0]<te?te:e[0]>re?re:0,Z=e[1]<ae?ae:e[1]>ne?ne:0,U||Z){if(V)if(J){var t=K(J,e);t.length>1&&(de(t[0]),H[V++]=t[1])}else $=K(H[V-1],e)[0],H[V++]=$;else H[V++]=[U||e[0],Z||e[1]];var r=H[V-1];U&&Z&&(r[0]!==U||r[1]!==Z)?(J&&(Y!==U&&Q!==Z?ce(Y&&Q?(a=J,i=(n=e)[0]-a[0],o=(n[1]-a[1])/i,(a[1]*n[0]-n[1]*a[0])/i>0?[o>0?te:re,ne]:[o>0?re:te,ae]):[Y||U,Q||Z]):Y&&Q&&ce([Y,Q])),ce([U,Z])):Y-U&&Q-Z&&ce([U||Y,Z||Q]),J=e,Y=U,Q=Z}else J&&de(K(J,e)[0]),H[V++]=e;var a,n,i,o}for("linear"===R||"spline"===R?K=function(e,t){for(var r=[],a=0,n=0;n<4;n++){var i=ie[n],o=c(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);o&&(!a||Math.abs(o.x-r[0][0])>1||Math.abs(o.y-r[0][1])>1)&&(o=[o.x,o.y],a&&W(o,e)<W(r[0],e)?r.unshift(o):r.push(o),a++)}return r}:"hv"===R||"vh"===R?K=function(e,t){var r=[],a=oe(e),n=oe(t);return a&&n&&le(a,n)?r:(a&&r.push(a),n&&r.push(n),r)}:"hvh"===R?K=se(0,te,re):"vhv"===R&&(K=se(1,ae,ne)),r=0;r<N;r++)if(a=q(r)){for(V=0,J=null,ue(a),r++;r<N;r++){if(!(h=q(r))){if(O)continue;break}if(j&&t.simplify){var he=q(r+1);if(y=W(h,a),E&&(0===V||V===N-1)||!(y<X(h,he)*B)){for(v=[(h[0]-a[0])/y,(h[1]-a[1])/y],f=a,x=y,b=w=k=0,g=!1,i=h,r++;r<e.length;r++){if(p=he,he=q(r+1),!p){if(O)continue;break}if(A=(m=[p[0]-a[0],p[1]-a[1]])[0]*v[1]-m[1]*v[0],w=Math.min(w,A),(k=Math.max(k,A))-w>X(p,he))break;i=p,(_=m[0]*v[0]+m[1]*v[1])>x?(x=_,h=p,g=!1):_<b&&(b=_,f=p,g=!0)}if(g?(ue(h),i!==f&&ue(f)):(f!==a&&ue(f),i!==h&&ue(h)),ue(i),r>=e.length||!p)break;ue(p),a=p}}else ue(h)}J&&ce([Y||J[0],Q||J[1]]),F.push(H.slice(0,V))}return F}},function(e,t,r){"use strict";var a={tonextx:1,tonexty:1,tonext:1};e.exports=function(e,t,r){var n,i,o,l,s,c={},d=!1,u=-1,h=0,f=-1;for(i=0;i<r.length;i++)(o=(n=r[i][0].trace).stackgroup||"")?o in c?s=c[o]:(s=c[o]=h,h++):n.fill in a&&f>=0?s=f:(s=f=h,h++),s<u&&(d=!0),n._groupIndex=u=s;var p=r.slice();d&&p.sort(function(e,t){var r=e[0].trace,a=t[0].trace;return r._groupIndex-a._groupIndex||r.index-a.index});var g={};for(i=0;i<p.length;i++)o=(n=p[i][0].trace).stackgroup||"",!0===n.visible?(n._nexttrace=null,n.fill in a&&(l=g[o],n._prevtrace=l||null,l&&(l._nexttrace=n)),n._ownfill=n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace),g[o]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return p}},function(e,t,r){"use strict";var a=r(0),n=r(200),i=r(4),o=r(311),l=r(11),s=r(267);e.exports=function(e,t,r,c){var d=e.cd,u=d[0].trace,h=e.xa,f=e.ya,p=h.c2p(t),g=f.c2p(r),v=[p,g],m=u.hoveron||"",y=-1!==u.mode.indexOf("markers")?3:.5;if(-1!==m.indexOf("points")){var x=function(e){var t=Math.max(y,e.mrc||0),r=h.c2p(e.x)-p,a=f.c2p(e.y)-g;return Math.max(Math.sqrt(r*r+a*a)-t,1-y/t)},b=n.getDistanceFunction(c,function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(h.c2p(e.x)-p);return a<t?r*a/t:a-t+r},function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(f.c2p(e.y)-g);return a<t?r*a/t:a-t+r},x);if(n.getClosest(d,b,e),!1!==e.index){var _=d[e.index],w=h.c2p(_.x,!0),k=f.c2p(_.y,!0),A=_.mrc||1;e.index=_.i;var T=d[0].t.orientation,M=T&&(_.sNorm||_.s),S="h"===T?M:_.x,C="v"===T?M:_.y;return a.extendFlat(e,{color:o(u,_),x0:w-A,x1:w+A,xLabelVal:S,y0:k-A,y1:k+A,yLabelVal:C,spikeDistance:x(_),hovertemplate:u.hovertemplate}),s(_,u,e),i.getComponentMethod("errorbars","hoverInfo")(_,u,e),[e]}}if(-1!==m.indexOf("fills")&&u._polygons){var L,z,I,P,O,D,R,j,E,F=u._polygons,B=[],N=!1,H=1/0,V=-1/0,q=1/0,G=-1/0;for(L=0;L<F.length;L++)(I=F[L]).contains(v)&&(N=!N,B.push(I),q=Math.min(q,I.ymin),G=Math.max(G,I.ymax));if(N){var X=((q=Math.max(q,0))+(G=Math.min(G,f._length)))/2;for(L=0;L<B.length;L++)for(P=B[L].pts,z=1;z<P.length;z++)(j=P[z-1][1])>X!=(E=P[z][1])>=X&&(D=P[z-1][0],R=P[z][0],E-j&&(O=D+(R-D)*(X-j)/(E-j),H=Math.min(H,O),V=Math.max(V,O)));H=Math.max(H,0),V=Math.min(V,h._length);var W=l.defaultLine;return l.opacity(u.fillcolor)?W=u.fillcolor:l.opacity((u.line||{}).color)&&(W=u.line.color),a.extendFlat(e,{distance:e.maxHoverDistance,x0:H,x1:V,y0:X,y1:X,color:W,hovertemplate:!1}),delete e.index,u.text&&!Array.isArray(u.text)?e.text=String(u.text):e.text=u.name,[e]}}}},function(e,t,r){"use strict";var a=r(11),n=r(64);e.exports=function(e,t){var r,i;if("lines"===e.mode)return(r=e.line.color)&&a.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(i=o&&a.opacity(o)?o:l&&a.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?a.opacity(i)<.3?a.addOpacity(i,.3):i:(r=(e.line||{}).color)&&a.opacity(r)&&n.hasLines(e)&&e.line.width?r:e.fillcolor}},function(e,t,r){"use strict";var a=r(64);e.exports=function(e,t){var r,n,i,o,l=e.cd,s=e.xaxis,c=e.yaxis,d=[],u=l[0].trace;if(!a.hasMarkers(u)&&!a.hasText(u))return[];if(!1===t)for(r=0;r<l.length;r++)l[r].selected=0;else for(r=0;r<l.length;r++)n=l[r],i=s.c2p(n.x),o=c.c2p(n.y),null!==n.i&&t.contains([i,o],!1,r,e)?(d.push({pointNumber:n.i,x:s.c2d(n.x),y:c.c2d(n.y)}),n.selected=1):n.selected=0;return d}},function(e,t,r){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(43),o=r(0),l=r(63),s=r(11),c=r(26),d=r(200),u=r(29),h=r(201),f=r(199),p=r(12).arrayEditor,g=r(392);function v(e,t){var r=e._fullLayout.annotations[t]||{},a=l.getFromId(e,r.xref),n=l.getFromId(e,r.yref);a&&a.setScale(),n&&n.setScale(),m(e,r,t,!1,a,n)}function m(e,t,r,i,l,v){var m,y,x=e._fullLayout,b=e._fullLayout._size,_=e._context.edits;i?(m="annotation-"+i,y=i+".annotations"):(m="annotation",y="annotations");var w=p(e.layout,y,t),k=w.modifyBase,A=w.modifyItem,T=w.getUpdateObj;x._infolayer.selectAll("."+m+'[data-index="'+r+'"]').remove();var M="clip"+x._uid+"_ann"+r;if(t._input&&!1!==t.visible){var S={x:{},y:{}},C=+t.textangle||0,L=x._infolayer.append("g").classed(m,!0).attr("data-index",String(r)).style("opacity",t.opacity),z=L.append("g").classed("annotation-text-g",!0),I=_[t.showarrow?"annotationTail":"annotationPosition"],P=t.captureevents||_.annotationText||I,O=z.append("g").style("pointer-events",P?"all":null).call(h,"pointer").on("click",function(){e._dragging=!1;var n={index:r,annotation:t._input,fullAnnotation:t,event:a.event};i&&(n.subplotId=i),e.emit("plotly_clickannotation",n)});t.hovertext&&O.on("mouseover",function(){var r=t.hoverlabel,a=r.font,n=this.getBoundingClientRect(),i=e.getBoundingClientRect();d.loneHover({x0:n.left-i.left,x1:n.right-i.left,y:(n.top+n.bottom)/2-i.top,text:t.hovertext,color:r.bgcolor,borderColor:r.bordercolor,fontFamily:a.family,fontSize:a.size,fontColor:a.color},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:e})}).on("mouseout",function(){d.loneUnhover(x._hoverlayer.node())});var D=t.borderwidth,R=t.borderpad,j=D+R,E=O.append("rect").attr("class","bg").style("stroke-width",D+"px").call(s.stroke,t.bordercolor).call(s.fill,t.bgcolor),F=t.width||t.height,B=x._topclips.selectAll("#"+M).data(F?[0]:[]);B.enter().append("clipPath").classed("annclip",!0).attr("id",M).append("rect"),B.exit().remove();var N=t.font,H=x.meta?o.templateString(t.text,{meta:x.meta}):t.text,V=O.append("text").classed("annotation-text",!0).text(H);_.annotationText?V.call(u.makeEditable,{delegate:O,gd:e}).call(q).on("edit",function(r){t.text=r,this.call(q),A("text",r),l&&l.autorange&&k(l._name+".autorange",!0),v&&v.autorange&&k(v._name+".autorange",!0),n.call("_guiRelayout",e,T())}):V.call(q)}else a.selectAll("#"+M).remove();function q(r){return r.call(c.font,N).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),u.convertToTspans(r,e,G),r}function G(){var r=V.selectAll("a");1===r.size()&&r.text()===V.text()&&O.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(E.node());var a=O.select(".annotation-text-math-group"),d=!a.empty(),p=c.bBox((d?a:V).node()),m=p.width,y=p.height,w=t.width||m,P=t.height||y,R=Math.round(w+2*j),N=Math.round(P+2*j);function H(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var q=!1,G=["x","y"],X=0;X<G.length;X++){var W,U,Z,Y,Q,J=G[X],$=t[J+"ref"]||J,K=t["a"+J+"ref"],ee={x:l,y:v}[J],te=(C+("x"===J?0:-90))*Math.PI/180,re=R*Math.cos(te),ae=N*Math.sin(te),ne=Math.abs(re)+Math.abs(ae),ie=t[J+"anchor"],oe=t[J+"shift"]*("x"===J?1:-1),le=S[J];if(ee){var se=ee.r2fraction(t[J]);(se<0||se>1)&&(K===$?((se=ee.r2fraction(t["a"+J]))<0||se>1)&&(q=!0):q=!0),W=ee._offset+ee.r2p(t[J]),Y=.5}else"x"===J?(Z=t[J],W=b.l+b.w*Z):(Z=1-t[J],W=b.t+b.h*Z),Y=t.showarrow?.5:Z;if(t.showarrow){le.head=W;var ce=t["a"+J];Q=re*H(.5,t.xanchor)-ae*H(.5,t.yanchor),K===$?(le.tail=ee._offset+ee.r2p(ce),U=Q):(le.tail=W+ce,U=Q+ce),le.text=le.tail+Q;var de=x["x"===J?"width":"height"];if("paper"===$&&(le.head=o.constrain(le.head,1,de-1)),"pixel"===K){var ue=-Math.max(le.tail-3,le.text),he=Math.min(le.tail+3,le.text)-de;ue>0?(le.tail+=ue,le.text+=ue):he>0&&(le.tail-=he,le.text-=he)}le.tail+=oe,le.head+=oe}else U=Q=ne*H(Y,ie),le.text=W+Q;le.text+=oe,Q+=oe,U+=oe,t["_"+J+"padplus"]=ne/2+U,t["_"+J+"padminus"]=ne/2-U,t["_"+J+"size"]=ne,t["_"+J+"shift"]=Q}if(e._dragging||!q){var fe=0,pe=0;if("left"!==t.align&&(fe=(w-m)*("center"===t.align?.5:1)),"top"!==t.valign&&(pe=(P-y)*("middle"===t.valign?.5:1)),d)a.select("svg").attr({x:j+fe-1,y:j+pe}).call(c.setClipUrl,F?M:null,e);else{var ge=j+pe-p.top,ve=j+fe-p.left;V.call(u.positionText,ve,ge).call(c.setClipUrl,F?M:null,e)}B.select("rect").call(c.setRect,j,j,w,P),E.call(c.setRect,D/2,D/2,R-D,N-D),O.call(c.setTranslate,Math.round(S.x.text-R/2),Math.round(S.y.text-N/2)),z.attr({transform:"rotate("+C+","+S.x.text+","+S.y.text+")"});var me,ye=function(r,a){L.selectAll(".annotation-arrow-g").remove();var d=S.x.head,u=S.y.head,h=S.x.tail+r,p=S.y.tail+a,m=S.x.text+r,y=S.y.text+a,x=o.rotationXYMatrix(C,m,y),w=o.apply2DTransform(x),M=o.apply2DTransform2(x),I=+E.attr("width"),P=+E.attr("height"),D=m-.5*I,R=D+I,j=y-.5*P,F=j+P,B=[[D,j,D,F],[D,F,R,F],[R,F,R,j],[R,j,D,j]].map(M);if(!B.reduce(function(e,t){return e^!!o.segmentsIntersect(d,u,d+1e6,u+1e6,t[0],t[1],t[2],t[3])},!1)){B.forEach(function(e){var t=o.segmentsIntersect(h,p,d,u,e[0],e[1],e[2],e[3]);t&&(h=t.x,p=t.y)});var N=t.arrowwidth,H=t.arrowcolor,V=t.arrowside,q=L.append("g").style({opacity:s.opacity(H)}).classed("annotation-arrow-g",!0),G=q.append("path").attr("d","M"+h+","+p+"L"+d+","+u).style("stroke-width",N+"px").call(s.stroke,s.rgb(H));if(g(G,V,t),_.annotationPosition&&G.node().parentNode&&!i){var X=d,W=u;if(t.standoff){var U=Math.sqrt(Math.pow(d-h,2)+Math.pow(u-p,2));X+=t.standoff*(h-d)/U,W+=t.standoff*(p-u)/U}var Z,Y,Q=q.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(h-X)+","+(p-W),transform:"translate("+X+","+W+")"}).style("stroke-width",N+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");f.init({element:Q.node(),gd:e,prepFn:function(){var e=c.getTranslate(O);Z=e.x,Y=e.y,l&&l.autorange&&k(l._name+".autorange",!0),v&&v.autorange&&k(v._name+".autorange",!0)},moveFn:function(e,r){var a=w(Z,Y),n=a[0]+e,i=a[1]+r;O.call(c.setTranslate,n,i),A("x",l?l.p2r(l.r2p(t.x)+e):t.x+e/b.w),A("y",v?v.p2r(v.r2p(t.y)+r):t.y-r/b.h),t.axref===t.xref&&A("ax",l.p2r(l.r2p(t.ax)+e)),t.ayref===t.yref&&A("ay",v.p2r(v.r2p(t.ay)+r)),q.attr("transform","translate("+e+","+r+")"),z.attr({transform:"rotate("+C+","+n+","+i+")"})},doneFn:function(){n.call("_guiRelayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};if(t.showarrow&&ye(0,0),I)f.init({element:O.node(),gd:e,prepFn:function(){me=z.attr("transform")},moveFn:function(e,r){var a="pointer";if(t.showarrow)t.axref===t.xref?A("ax",l.p2r(l.r2p(t.ax)+e)):A("ax",t.ax+e),t.ayref===t.yref?A("ay",v.p2r(v.r2p(t.ay)+r)):A("ay",t.ay+r),ye(e,r);else{if(i)return;var n,o;if(l)n=l.p2r(l.r2p(t.x)+e);else{var s=t._xsize/b.w,c=t.x+(t._xshift-t.xshift)/b.w-s/2;n=f.align(c+e/b.w,s,0,1,t.xanchor)}if(v)o=v.p2r(v.r2p(t.y)+r);else{var d=t._ysize/b.h,u=t.y-(t._yshift+t.yshift)/b.h-d/2;o=f.align(u-r/b.h,d,0,1,t.yanchor)}A("x",n),A("y",o),l&&v||(a=f.getCursor(l?.5:n,v?.5:o,t.xanchor,t.yanchor))}z.attr({transform:"translate("+e+","+r+")"+me}),h(O,a)},doneFn:function(){h(O),n.call("_guiRelayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}else O.remove()}}e.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var r=0;r<t.annotations.length;r++)t.annotations[r].visible&&v(e,r);return i.previousPromises(e)},drawOne:v,drawRaw:m}},function(e,t,r){"use strict";var a=r(4),n=r(0);e.exports=function(e){return function(t,r){var i=t[e];if(Array.isArray(i))for(var o=a.subplotsRegistry.cartesian,l=o.idRegex,s=r._subplots,c=s.xaxis,d=s.yaxis,u=s.cartesian,h=r._has("cartesian")||r._has("gl2d"),f=0;f<i.length;f++){var p=i[f];if(n.isPlainObject(p)){var g=p.xref,v=p.yref,m=l.x.test(g),y=l.y.test(v);if(m||y){h||n.pushUnique(r._basePlotModules,o);var x=!1;m&&-1===c.indexOf(g)&&(c.push(g),x=!0),y&&-1===d.indexOf(v)&&(d.push(v),x=!0),x&&m&&y&&u.push(g+v)}}}}}},function(e,t,r){"use strict";var a=r(273),n=r(34).overrideAll,i=r(12).templatedArray;e.exports=n(i("annotation",{visible:a.visible,x:{valType:"any",role:"info",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",role:"info",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",role:"info",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",role:"info",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:a.xanchor,xshift:a.xshift,yanchor:a.yanchor,yshift:a.yshift,text:a.text,textangle:a.textangle,font:a.font,width:a.width,height:a.height,opacity:a.opacity,align:a.align,valign:a.valign,bgcolor:a.bgcolor,bordercolor:a.bordercolor,borderpad:a.borderpad,borderwidth:a.borderwidth,showarrow:a.showarrow,arrowcolor:a.arrowcolor,arrowhead:a.arrowhead,startarrowhead:a.startarrowhead,arrowside:a.arrowside,arrowsize:a.arrowsize,startarrowsize:a.startarrowsize,arrowwidth:a.arrowwidth,standoff:a.standoff,startstandoff:a.startstandoff,hovertext:a.hovertext,hoverlabel:a.hoverlabel,captureevents:a.captureevents}),"calc","from-root")},function(e,t,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},function(e,t,r){"use strict";var a=r(317),n=r(0);t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.extractPathCoords=function(e,t){var r=[];return e.match(a.segmentRE).forEach(function(e){var i=t[e.charAt(0)].drawn;if(void 0!==i){var o=e.substr(1).match(a.paramRE);!o||o.length<i||r.push(n.cleanNumber(o[i]))}}),r},t.getDataToPixel=function(e,r,a){var n,i=e._fullLayout._size;if(r){var o=t.shapePositionToRange(r);n=function(e){return r._offset+r.r2p(o(e,!0))},"date"===r.type&&(n=t.decodeDate(n))}else n=a?function(e){return i.t+i.h*(1-e)}:function(e){return i.l+i.w*e};return n},t.getPixelToData=function(e,r,a){var n,i=e._fullLayout._size;if(r){var o=t.rangeToShapePosition(r);n=function(e){return o(r.p2r(e-r._offset))}}else n=a?function(e){return 1-(e-i.t)/i.h}:function(e){return(e-i.l)/i.w};return n},t.roundPositionForSharpStrokeRendering=function(e,t){var r=1===Math.round(t%2),a=Math.round(e);return r?a+.5:a}},function(e,t,r){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},function(e,t,r){"use strict";var a=r(30);e.exports={bgcolor:{valType:"color",dflt:a.background,role:"style",editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",editType:"plot",description:"Sets the border width of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}},function(e,t,r){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},function(e,t,r){"use strict";var a=r(7),n=r(30),i=(0,r(12).templatedArray)("button",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")});e.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:i,x:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:a({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:n.lightLine,role:"style",editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}},,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(3),n=r(1),i=r(215),o=r(0),l=o.nestedProperty,s=r(203),c=r(339),d=r(4),u=r(48),h=r(43),f=r(372),p=r(63),g=r(26),v=r(11),m=r(375),y=r(230).initInteractions,x=r(46),b=r(29),_=r(204).clearSelect,w=r(47).dfltConfig,k=r(378),A=r(380),T=r(210),M=r(34),S=r(28).AX_NAME_PATTERN,C=0,L=5;function z(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function I(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){o.error(e)}}function P(e,t){I(e,v.combine(t,"white"))}function O(e,t){if(!e._context){e._context=o.extendDeep({},w);var r=a.select("base");e._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var n,l,s,c=e._context;if(t){for(l=Object.keys(t),n=0;n<l.length;n++)"editable"!==(s=l[n])&&"edits"!==s&&s in c&&("setBackground"===s&&"opaque"===t[s]?c[s]=P:c[s]=t[s]);t.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio);var d=t.editable;if(void 0!==d)for(c.editable=d,l=Object.keys(c.edits),n=0;n<l.length;n++)c.edits[l[n]]=d;if(t.edits)for(l=Object.keys(t.edits),n=0;n<l.length;n++)(s=l[n])in c.edits&&(c.edits[s]=t.edits[s]);c._exportedPlot=t._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||i||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=I),c._hasZeroHeight=c._hasZeroHeight||0===e.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===e.clientWidth;var u=c.scrollZoom,h=c._scrollZoom={};if(!0===u)h.cartesian=1,h.gl3d=1,h.geo=1,h.mapbox=1;else if("string"==typeof u){var f=u.split("+");for(n=0;n<f.length;n++)h[f[n]]=1}else!1!==u&&(h.gl3d=1,h.geo=1,h.mapbox=1)}function D(e,t){var r,a,n=t+1,i=[];for(r=0;r<e.length;r++)(a=e[r])<0?i.push(n+a):i.push(a);return i}function R(e,t,r){var a,n;for(a=0;a<t.length;a++){if((n=t[a])!==parseInt(n,10))throw new Error("all values in "+r+" must be integers");if(n>=e.data.length||n<-e.data.length)throw new Error(r+" must be valid indices for gd.data.");if(t.indexOf(n,a+1)>-1||n>=0&&t.indexOf(-e.data.length+n)>-1||n<0&&t.indexOf(e.data.length+n)>-1)throw new Error("each index in "+r+" must be unique.")}}function j(e,t,r){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),R(e,t,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&R(e,r,"newIndices"),void 0!==r&&t.length!==r.length)throw new Error("current and new indices must be of equal length.")}function E(e,t,r,a,i){!function(e,t,r,a){var n=o.isPlainObject(a);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!o.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var i in R(e,r,"indices"),t){if(!Array.isArray(t[i])||t[i].length!==r.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(n&&(!(i in a)||!Array.isArray(a[i])||a[i].length!==t[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,r,a);for(var s=function(e,t,r,a){var i,s,c,d,u,h=o.isPlainObject(a),f=[];for(var p in Array.isArray(r)||(r=[r]),r=D(r,e.data.length-1),t)for(var g=0;g<r.length;g++){if(i=e.data[r[g]],s=(c=l(i,p)).get(),d=t[p][g],!o.isArrayOrTypedArray(d))throw new Error("attribute: "+p+" index: "+g+" must be an array");if(!o.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+p);if(s.constructor!==d.constructor)throw new Error("cannot extend array with an array of a different type: "+p);u=h?a[p][g]:a,n(u)||(u=-1),f.push({prop:c,target:s,insert:d,maxp:Math.floor(u)})}return f}(e,t,r,a),c={},d={},u=0;u<s.length;u++){var h=s[u].prop,f=s[u].maxp,p=i(s[u].target,s[u].insert,f);h.set(p[0]),Array.isArray(c[h.astr])||(c[h.astr]=[]),c[h.astr].push(p[1]),Array.isArray(d[h.astr])||(d[h.astr]=[]),d[h.astr].push(s[u].target.length)}return{update:c,maxPoints:d}}function F(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}function B(e,r,a,n){e=o.getGraphDiv(e),A.clearPromiseQueue(e);var i={};if("string"==typeof r)i[r]=a;else{if(!o.isPlainObject(r))return o.warn("Restyle fail.",r,a,n),Promise.reject();i=o.extendFlat({},r),void 0===n&&(n=a)}Object.keys(i).length&&(e.changed=!0);var l=A.coerceTraceIndices(e,n),s=q(e,i,l),d=s.flags;d.calc&&(e.calcdata=void 0),d.clearAxisTypes&&A.clearAxisTypes(e,l,{});var u=[];d.fullReplot?u.push(t.plot):(u.push(h.previousPromises),h.supplyDefaults(e),d.markerSize&&(h.doCalcdata(e),U(u)),d.style&&u.push(T.doTraceStyle),d.colorbars&&u.push(T.doColorBars),u.push(z)),u.push(h.rehover,h.redrag),c.add(e,B,[e,s.undoit,s.traces],B,[e,s.redoit,s.traces]);var f=o.syncOrAsync(u,e);return f&&f.then||(f=Promise.resolve()),f.then(function(){return e.emit("plotly_restyle",s.eventData),e})}function N(e){return void 0===e?null:e}function H(e,t){return t?function(t,r,a){var n=l(t,r),i=n.set;return n.set=function(t){V((a||"")+r,n.get(),t,e),i(t)},n}:l}function V(e,t,r,a){if(Array.isArray(t)||Array.isArray(r))for(var n=Array.isArray(t)?t:[],i=Array.isArray(r)?r:[],l=Math.max(n.length,i.length),s=0;s<l;s++)V(e+"["+s+"]",n[s],i[s],a);else if(o.isPlainObject(t)||o.isPlainObject(r)){var c=o.isPlainObject(t)?t:{},d=o.isPlainObject(r)?r:{},u=o.extendFlat({},c,d);for(var h in u)V(e+"."+h,c[h],d[h],a)}else void 0===a[e]&&(a[e]=N(t))}function q(e,t,r){var a,n=e._fullLayout,i=e._fullData,s=e.data,c=n._guiEditing,f=H(n._preGUI,c),g=o.extendDeepAll({},t);G(t);var v,m=M.traceFlags(),y={},x={};function b(){return r.map(function(){})}function _(e){var t=p.id2name(e);-1===v.indexOf(t)&&v.push(t)}function w(e){return"LAYOUT"+e+".autorange"}function k(e){return"LAYOUT"+e+".range"}function T(e){for(var t=e;t<i.length;t++)if(i[t]._input===s[e])return i[t]}function S(a,i,o){if(Array.isArray(a))a.forEach(function(e){S(e,i,o)});else if(!(a in t||A.hasParent(t,a))){var l;if("LAYOUT"===a.substr(0,6))l=f(e.layout,a.replace("LAYOUT",""));else{var d=r[o];l=H(n._tracePreGUI[T(d)._fullInput.uid],c)(s[d],a)}a in x||(x[a]=b()),void 0===x[a][o]&&(x[a][o]=N(l.get())),void 0!==i&&l.set(i)}}function C(e){return function(t){return i[t][e]}}function L(e){return function(t,a){return!1===t?i[r[a]][e]:null}}for(var z in t){if(A.hasParent(t,z))throw new Error("cannot set "+z+" and a parent attribute simultaneously");var I,P,O,D,R,j,E=t[z];if("autobinx"!==z&&"autobiny"!==z||(z=z.charAt(z.length-1)+"bins",E=Array.isArray(E)?E.map(L(z)):!1===E?r.map(C(z)):null),y[z]=E,"LAYOUT"!==z.substr(0,6)){for(x[z]=b(),a=0;a<r.length;a++){if(I=s[r[a]],P=T(r[a]),D=(O=H(n._tracePreGUI[P._fullInput.uid],c)(I,z)).get(),void 0!==(R=Array.isArray(E)?E[a%E.length]:E)){var F=O.parts[O.parts.length-1],B=z.substr(0,z.length-F.length-1),V=B?B+".":"",q=B?l(P,B).get():P;if((j=u.getTraceValObject(P,O.parts))&&j.impliedEdits&&null!==R)for(var X in j.impliedEdits)S(o.relativeAttr(z,X),j.impliedEdits[X],a);else if("thicknessmode"!==F&&"lenmode"!==F||D===R||"fraction"!==R&&"pixels"!==R||!q){if("type"===z&&"pie"===R!=("pie"===D)){var W="x",U="y";"bar"!==R&&"bar"!==D||"h"!==I.orientation||(W="y",U="x"),o.swapAttrs(I,["?","?src"],"labels",W),o.swapAttrs(I,["d?","?0"],"label",W),o.swapAttrs(I,["?","?src"],"values",U),"pie"===D?(l(I,"marker.color").set(l(I,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):d.traceIs(I,"cartesian")&&l(I,"marker.colors").set(l(I,"marker.color").get())}}else{var Z=n._size,Y=q.orient,Q="top"===Y||"bottom"===Y;if("thicknessmode"===F){var J=Q?Z.h:Z.w;S(V+"thickness",q.thickness*("fraction"===R?1/J:J),a)}else{var $=Q?Z.w:Z.h;S(V+"len",q.len*("fraction"===R?1/$:$),a)}}x[z][a]=N(D);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(z)){if("orientation"===z){O.set(R);var K=I.x&&!I.y?"h":"v";if((O.get()||K)===P.orientation)continue}else"orientationaxes"===z&&(I.orientation={v:"h",h:"v"}[P.orientation]);A.swapXYData(I),m.calc=m.clearAxisTypes=!0}else-1!==h.dataArrayContainers.indexOf(O.parts[0])?(A.manageArrayContainers(O,R,x),m.calc=!0):(j?j.arrayOk&&!d.traceIs(P,"regl")&&(o.isArrayOrTypedArray(R)||o.isArrayOrTypedArray(D))?m.calc=!0:M.update(m,j):m.calc=!0,O.set(R))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(z)&&p.swap(e,r),"orientationaxes"===z){var ee=l(e.layout,"hovermode");"x"===ee.get()?ee.set("y"):"y"===ee.get()&&ee.set("x")}if(-1!==["orientation","type"].indexOf(z)){for(v=[],a=0;a<r.length;a++){var te=s[r[a]];d.traceIs(te,"cartesian")&&(_(te.xaxis||"x"),_(te.yaxis||"y"))}S(v.map(w),!0,0),S(v.map(k),[0,1],0)}}else O=f(e.layout,z.replace("LAYOUT","")),x[z]=[N(O.get())],O.set(Array.isArray(E)?E[0]:E),m.calc=!0}return(m.calc||m.plot)&&(m.fullReplot=!0),{flags:m,undoit:x,redoit:y,traces:r,eventData:o.extendDeepNoArrays([],[g,r])}}function G(e){var t,r,a,n=o.counterRegex("axis",".title",!1,!1),i=/colorbar\.title$/,l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],a=e[r],"title"!==r&&!n.test(r)&&!i.test(r)||"string"!=typeof a&&"number"!=typeof a?r.indexOf("titlefont")>-1?s(r,r.replace("titlefont","title.font")):r.indexOf("titleposition")>-1?s(r,r.replace("titleposition","title.position")):r.indexOf("titleside")>-1?s(r,r.replace("titleside","title.side")):r.indexOf("titleoffset")>-1&&s(r,r.replace("titleoffset","title.offset")):s(r,r.replace("title","title.text"));function s(t,r){e[r]=e[t],delete e[t]}}function X(e,t,r){if(e=o.getGraphDiv(e),A.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var a={};if("string"==typeof t)a[t]=r;else{if(!o.isPlainObject(t))return o.warn("Relayout fail.",t,r),Promise.reject();a=o.extendFlat({},t)}Object.keys(a).length&&(e.changed=!0);var n=J(e,a),i=n.flags;i.calc&&(e.calcdata=void 0);var l=[h.previousPromises];i.layoutReplot?l.push(T.layoutReplot):Object.keys(a).length&&(W(e,i,n)||h.supplyDefaults(e),i.legend&&l.push(T.doLegend),i.layoutstyle&&l.push(T.layoutStyles),i.axrange&&U(l,n.rangesAltered),i.ticks&&l.push(T.doTicksRelayout),i.modebar&&l.push(T.doModeBar),i.camera&&l.push(T.doCamera),l.push(z)),l.push(h.rehover,h.redrag),c.add(e,X,[e,n.undoit],X,[e,n.redoit]);var s=o.syncOrAsync(l,e);return s&&s.then||(s=Promise.resolve(e)),s.then(function(){return e.emit("plotly_relayout",n.eventData),e})}function W(e,t,r){var a=e._fullLayout;if(!t.axrange)return!1;for(var n in t)if("axrange"!==n&&t[n])return!1;for(var i in r.rangesAltered){var o=p.id2name(i),l=e.layout[o],s=a[o];if(s.autorange=l.autorange,s.range=l.range.slice(),s.cleanRange(),s._matchGroup)for(var c in s._matchGroup)if(c!==i){var d=a[p.id2name(c)];d.autorange=s.autorange,d.range=s.range.slice(),d._input.range=s.range.slice()}}return!0}function U(e,t){var r=t?function(e){var r=[],a=!0;for(var n in t){var i=p.getFromId(e,n);if(r.push(n),i._matchGroup)for(var o in i._matchGroup)t[o]||r.push(o);i.automargin&&(a=!1)}return p.draw(e,r,{skipTitle:a})}:function(e){return p.draw(e,"redraw")};e.push(_,T.doAutoRangeAndConstraints,r,T.drawData,T.finalDraw)}var Z=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Y=/^[xyz]axis[0-9]*\.autorange$/,Q=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function J(e,t){var r,a,n,i=e.layout,s=e._fullLayout,c=s._guiEditing,h=H(s._preGUI,c),f=Object.keys(t),g=p.list(e),v=o.extendDeepAll({},t),m={};for(G(t),f=Object.keys(t),a=0;a<f.length;a++)if(0===f[a].indexOf("allaxes")){for(n=0;n<g.length;n++){var y=g[n]._id.substr(1),x=-1!==y.indexOf("scene")?y+".":"",b=f[a].replace("allaxes",x+g[n]._name);t[b]||(t[b]=t[f[a]])}delete t[f[a]]}var _=M.layoutFlags(),w={},T={};function C(e,r){if(Array.isArray(e))e.forEach(function(e){C(e,r)});else if(!(e in t||A.hasParent(t,e))){var a=h(i,e);e in T||(T[e]=N(a.get())),void 0!==r&&a.set(r)}}var L,z={};function I(e){var t=p.name2id(e.split(".")[0]);return z[t]=1,t}for(var P in t){if(A.hasParent(t,P))throw new Error("cannot set "+P+" and a parent attribute simultaneously");for(var O=h(i,P),D=t[P],R=O.parts.length-1;R>0&&"string"!=typeof O.parts[R];)R--;var j=O.parts[R],E=O.parts[R-1]+"."+j,F=O.parts.slice(0,R).join("."),B=l(e.layout,F).get(),V=l(s,F).get(),q=O.get();if(void 0!==D){w[P]=D,T[P]="reverse"===j?D:N(q);var X=u.getLayoutValObject(s,O.parts);if(X&&X.impliedEdits&&null!==D)for(var W in X.impliedEdits)C(o.relativeAttr(P,W),X.impliedEdits[W]);if(-1!==["width","height"].indexOf(P))if(D){C("autosize",null);var U="height"===P?"width":"height";C(U,s[U])}else s[P]=e._initialAutoSize[P];else if("autosize"===P)C("width",D?null:s.width),C("height",D?null:s.height);else if(E.match(Z))I(E),l(s,F+"._inputRange").set(null);else if(E.match(Y)){I(E),l(s,F+"._inputRange").set(null);var J=l(s,F).get();J._inputDomain&&(J._input.domain=J._inputDomain.slice())}else E.match(Q)&&l(s,F+"._inputDomain").set(null);if("type"===j){var K=B,ee="linear"===V.type&&"log"===D,te="log"===V.type&&"linear"===D;if(ee||te){if(K&&K.range)if(V.autorange)ee&&(K.range=K.range[1]>K.range[0]?[1,2]:[2,1]);else{var re=K.range[0],ae=K.range[1];ee?(re<=0&&ae<=0&&C(F+".autorange",!0),re<=0?re=ae/1e6:ae<=0&&(ae=re/1e6),C(F+".range[0]",Math.log(re)/Math.LN10),C(F+".range[1]",Math.log(ae)/Math.LN10)):(C(F+".range[0]",Math.pow(10,re)),C(F+".range[1]",Math.pow(10,ae)))}else C(F+".autorange",!0);Array.isArray(s._subplots.polar)&&s._subplots.polar.length&&s[O.parts[0]]&&"radialaxis"===O.parts[1]&&delete s[O.parts[0]]._subplot.viewInitial["radialaxis.range"],d.getComponentMethod("annotations","convertCoords")(e,V,D,C),d.getComponentMethod("images","convertCoords")(e,V,D,C)}else C(F+".autorange",!0),C(F+".range",null);l(s,F+"._inputRange").set(null)}else if(j.match(S)){var ne=l(s,P).get(),ie=(D||{}).type;ie&&"-"!==ie||(ie="linear"),d.getComponentMethod("annotations","convertCoords")(e,ne,ie,C),d.getComponentMethod("images","convertCoords")(e,ne,ie,C)}var oe=k.containerArrayMatch(P);if(oe){r=oe.array,a=oe.index;var le=oe.property,se=X||{editType:"calc"};""!==a&&""===le&&(k.isAddVal(D)?T[P]=null:k.isRemoveVal(D)?T[P]=(l(i,r).get()||[])[a]:o.warn("unrecognized full object value",t)),M.update(_,se),m[r]||(m[r]={});var ce=m[r][a];ce||(ce=m[r][a]={}),ce[le]=D,delete t[P]}else"reverse"===j?(B.range?B.range.reverse():(C(F+".autorange",!0),B.range=[1,0]),V.autorange?_.calc=!0:_.plot=!0):(s._has("scatter-like")&&s._has("regl")&&"dragmode"===P&&("lasso"===D||"select"===D)&&"lasso"!==q&&"select"!==q?_.plot=!0:s._has("gl2d")?_.plot=!0:X?M.update(_,X):_.calc=!0,O.set(D))}}for(r in m){k.applyContainerArrayChanges(e,h(i,r),m[r],_,h)||(_.plot=!0)}var de=s._axisConstraintGroups||[];for(L in z)for(a=0;a<de.length;a++){var ue=de[a];if(ue[L])for(var he in _.calc=!0,ue)z[he]||(p.getFromId(e,he)._constraintShrinkable=!0)}return($(e)||t.height||t.width)&&(_.plot=!0),(_.plot||_.calc)&&(_.layoutReplot=!0),{flags:_,rangesAltered:z,undoit:T,redoit:w,eventData:v}}function $(e){var t=e._fullLayout,r=t.width,a=t.height;return e.layout.autosize&&h.plotAutoSize(e,e.layout,t),t.width!==r||t.height!==a}function K(e,r,a,n){if(e=o.getGraphDiv(e),A.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);o.isPlainObject(r)||(r={}),o.isPlainObject(a)||(a={}),Object.keys(r).length&&(e.changed=!0),Object.keys(a).length&&(e.changed=!0);var i=A.coerceTraceIndices(e,n),l=q(e,o.extendFlat({},r),i),s=l.flags,d=J(e,o.extendFlat({},a)),u=d.flags;(s.calc||u.calc)&&(e.calcdata=void 0),s.clearAxisTypes&&A.clearAxisTypes(e,i,a);var f=[];if(s.fullReplot&&u.layoutReplot){var p=e.data,g=e.layout;e.data=void 0,e.layout=void 0,f.push(function(){return t.plot(e,p,g)})}else s.fullReplot?f.push(t.plot):u.layoutReplot?f.push(T.layoutReplot):(f.push(h.previousPromises),W(e,u,d)||h.supplyDefaults(e),s.style&&f.push(T.doTraceStyle),s.colorbars&&f.push(T.doColorBars),u.legend&&f.push(T.doLegend),u.layoutstyle&&f.push(T.layoutStyles),u.axrange&&U(f,d.rangesAltered),u.ticks&&f.push(T.doTicksRelayout),u.modebar&&f.push(T.doModeBar),u.camera&&f.push(T.doCamera),f.push(z));f.push(h.rehover,h.redrag),c.add(e,K,[e,l.undoit,d.undoit,l.traces],K,[e,l.redoit,d.redoit,l.traces]);var v=o.syncOrAsync(f,e);return v&&v.then||(v=Promise.resolve(e)),v.then(function(){return e.emit("plotly_update",{data:l.eventData,layout:d.eventData}),e})}function ee(e){return function(t){t._fullLayout._guiEditing=!0;var r=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,r}}var te=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],re=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ae(e,t){for(var r=0;r<t.length;r++){var a=t[r],n=e.match(a.pattern);if(n)return{head:n[1],attr:a.attr}}}function ne(e,t){var r=l(t,e).get();if(void 0!==r)return r;var a=e.split(".");for(a.pop();a.length>1;)if(a.pop(),void 0!==(r=l(t,a.join(".")+".uirevision").get()))return r;return t.uirevision}function ie(e,t){for(var r=0;r<t.length;r++)if(t[r]._fullInput.uid===e)return r;return-1}function oe(e,t,r){for(var a=0;a<t.length;a++)if(t[a].uid===e)return a;return!t[r]||t[r].uid?-1:r}function le(e,t){var r=o.isPlainObject(e),a=Array.isArray(e);return r||a?(r&&o.isPlainObject(t)||a&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function se(e,t,r,a){var n,i,s,c=a.getValObject,d=a.flags,u=a.immutable,h=a.inArray,f=a.arrayIndex;function p(){var e=n.editType;h&&-1!==e.indexOf("arraydraw")?o.pushUnique(d.arrays[h],f):(M.update(d,n),"none"!==e&&d.nChanges++,a.transition&&n.anim&&d.nChangesAnim++,(Z.test(s)||Y.test(s))&&(d.rangesAltered[r[0]]=1),Q.test(s)&&l(t,"_inputDomain").set(null),"datarevision"===i&&(d.newDataRevision=1))}function g(e){return"data_array"===e.valType||e.arrayOk}for(i in e){if(d.calc&&!a.transition)return;var v=e[i],m=t[i],y=r.concat(i);if(s=y.join("."),"_"!==i.charAt(0)&&"function"!=typeof v&&v!==m){if(("tick0"===i||"dtick"===i)&&"geo"!==r[0]){var x=t.tickmode;if("auto"===x||"array"===x||!x)continue}if(("range"!==i||!t.autorange)&&("zmin"!==i&&"zmax"!==i||"contourcarpet"!==t.type)&&(n=c(y))&&(!n._compareAsJSON||JSON.stringify(v)!==JSON.stringify(m))){var b,_=n.valType,w=g(n),k=Array.isArray(v),A=Array.isArray(m);if(k&&A){var T="_input_"+i,S=e[T],C=t[T];if(Array.isArray(S)&&S===C)continue}if(void 0===m)w&&k?d.calc=!0:p();else if(n._isLinkedToArray){var L=[],z=!1;h||(d.arrays[i]=L);var I=Math.min(v.length,m.length),P=Math.max(v.length,m.length);if(I!==P){if("arraydraw"!==n.editType){p();continue}z=!0}for(b=0;b<I;b++)se(v[b],m[b],y.concat(b),o.extendFlat({inArray:i,arrayIndex:b},a));if(z)for(b=I;b<P;b++)L.push(b)}else!_&&o.isPlainObject(v)?se(v,m,y,a):w?k&&A?(u&&(d.calc=!0),(u||a.newDataRevision)&&p()):k!==A?d.calc=!0:p():k&&A&&v.length===m.length&&String(v)===String(m)||p()}}}for(i in t)if(!(i in e||"_"===i.charAt(0)||"function"==typeof t[i])){if(g(n=c(r.concat(i)))&&Array.isArray(t[i]))return void(d.calc=!0);p()}}function ce(e){var t=a.select(e),r=e._fullLayout;if(r._container=t.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var n={};a.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),r._uid=o.randstr(n)}r._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var i=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=i.append("g").classed("imagelayer",!0),r._shapeLowerLayer=i.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var l=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=l.append("g").classed("imagelayer",!0),r._shapeUpperLayer=l.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}t.animate=function(e,t,r){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var a=e._transitionData;a._frameQueue||(a._frameQueue=[]);var n=(r=h.supplyAnimationDefaults(r)).transition,i=r.frame;function l(e){return Array.isArray(n)?e>=n.length?n[0]:n[e]:n}function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function c(e,t){var r=0;return function(){if(e&&++r===t)return e()}}return void 0===a._frameWaitingCnt&&(a._frameWaitingCnt=0),new Promise(function(i,d){function u(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var t=a._currentFrame=a._frameQueue.shift();if(t){var r=t.name?t.name.toString():null;e._fullLayout._currentFrame=r,a._lastFrameAt=Date.now(),a._timeToNext=t.frameOpts.duration,h.transition(e,t.frame.data,t.frame.layout,A.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:r,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}function f(){e.emit("plotly_animating"),a._lastFrameAt=-1/0,a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var t=function(){a._animationRaf=window.requestAnimationFrame(t),Date.now()-a._lastFrameAt>a._timeToNext&&u()};t()}var p,g,v=0;function m(e){return Array.isArray(n)?v>=n.length?e.transitionOpts=n[v]:e.transitionOpts=n[0]:e.transitionOpts=n,v++,e}var y=[],x=void 0===t||null===t,b=Array.isArray(t);if(x||b||!o.isPlainObject(t)){if(x||-1!==["string","number"].indexOf(typeof t))for(p=0;p<a._frames.length;p++)(g=a._frames[p])&&(x||String(g.group)===String(t))&&y.push({type:"byname",name:String(g.name),data:m({name:g.name})});else if(b)for(p=0;p<t.length;p++){var _=t[p];-1!==["number","string"].indexOf(typeof _)?(_=String(_),y.push({type:"byname",name:_,data:m({name:_})})):o.isPlainObject(_)&&y.push({type:"object",data:m(o.extendFlat({},_))})}}else y.push({type:"object",data:m(o.extendFlat({},t))});for(p=0;p<y.length;p++)if("byname"===(g=y[p]).type&&!a._frameHash[g.data.name])return o.warn('animate failure: frame not found: "'+g.data.name+'"'),void d();-1!==["next","immediate"].indexOf(r.mode)&&function(){if(0!==a._frameQueue.length){for(;a._frameQueue.length;){var t=a._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&y.reverse();var w=e._fullLayout._currentFrame;if(w&&r.fromcurrent){var k=-1;for(p=0;p<y.length;p++)if("byname"===(g=y[p]).type&&g.name===w){k=p;break}if(k>0&&k<y.length-1){var T=[];for(p=0;p<y.length;p++)g=y[p],("byname"!==y[p].type||p>k)&&T.push(g);y=T}}y.length>0?function(t){if(0!==t.length){for(var n=0;n<t.length;n++){var o;o="byname"===t[n].type?h.computeFrame(e,t[n].name):t[n].data;var u=s(n),p=l(n);p.duration=Math.min(p.duration,u.duration);var g={frame:o,name:t[n].name,frameOpts:u,transitionOpts:p};n===t.length-1&&(g.onComplete=c(i,2),g.onInterrupt=d),a._frameQueue.push(g)}"immediate"===r.mode&&(a._lastFrameAt=-1/0),a._animationRaf||f()}}(y):(e.emit("plotly_animated"),i())})},t.addFrames=function(e,t,r){if(e=o.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var a,n,i,l,s=e._transitionData._frames,d=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var u=s.length+2*t.length,f=[],p={};for(a=t.length-1;a>=0;a--)if(o.isPlainObject(t[a])){var g=t[a].name,v=(d[g]||p[g]||{}).name,m=t[a].name,y=d[v]||p[v];v&&m&&"number"==typeof m&&y&&C<L&&(C++,o.warn('addFrames: overwriting frame "'+(d[v]||p[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),C===L&&o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[g]={name:g},f.push({frame:h.supplyFrameDefaults(t[a]),index:r&&void 0!==r[a]&&null!==r[a]?r[a]:u+a})}f.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var x=[],b=[],_=s.length;for(a=f.length-1;a>=0;a--){if("number"==typeof(n=f[a].frame).name&&o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!n.name)for(;d[n.name="frame "+e._transitionData._counter++];);if(d[n.name]){for(i=0;i<s.length&&(s[i]||{}).name!==n.name;i++);x.push({type:"replace",index:i,value:n}),b.unshift({type:"replace",index:i,value:s[i]})}else l=Math.max(0,Math.min(f[a].index,_)),x.push({type:"insert",index:l,value:n}),b.unshift({type:"delete",index:l}),_++}var w=h.modifyFrames,k=h.modifyFrames,A=[e,b],T=[e,x];return c&&c.add(e,w,A,k,T),h.modifyFrames(e,x)},t.deleteFrames=function(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var r,a,n=e._transitionData._frames,i=[],l=[];if(!t)for(t=[],r=0;r<n.length;r++)t.push(r);for((t=t.slice(0)).sort(),r=t.length-1;r>=0;r--)a=t[r],i.push({type:"delete",index:a}),l.unshift({type:"insert",index:a,value:n[a]});var s=h.modifyFrames,d=h.modifyFrames,u=[e,l],f=[e,i];return c&&c.add(e,s,u,d,f),h.modifyFrames(e,i)},t.addTraces=function e(r,a,n){r=o.getGraphDiv(r);var i,l,s=[],d=t.deleteTraces,u=e,h=[r,s],f=[r,a];for(function(e,t,r){var a,n;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),a=0;a<t.length;a++)if("object"!=typeof(n=t[a])||Array.isArray(n)||null===n)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(r,a,n),Array.isArray(a)||(a=[a]),a=a.map(function(e){return o.extendFlat({},e)}),A.cleanData(a),i=0;i<a.length;i++)r.data.push(a[i]);for(i=0;i<a.length;i++)s.push(-a.length+i);if(void 0===n)return l=t.redraw(r),c.add(r,d,h,u,f),l;Array.isArray(n)||(n=[n]);try{j(r,s,n)}catch(e){throw r.data.splice(r.data.length-a.length,a.length),e}return c.startSequence(r),c.add(r,d,h,u,f),l=t.moveTraces(r,s,n),c.stopSequence(r),l},t.deleteTraces=function e(r,a){r=o.getGraphDiv(r);var n,i,l=[],s=t.addTraces,d=e,u=[r,l,a],h=[r,a];if(void 0===a)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(a)||(a=[a]),R(r,a,"indices"),(a=D(a,r.data.length-1)).sort(o.sorterDes),n=0;n<a.length;n+=1)i=r.data.splice(a[n],1)[0],l.push(i);var f=t.redraw(r);return c.add(r,s,u,d,h),f},t.extendTraces=function e(r,a,n,i){var l=E(r=o.getGraphDiv(r),a,n,i,function(e,t,r){var a,n;if(o.isTypedArray(e))if(r<0){var i=new e.constructor(0),l=F(e,t);r<0?(a=l,n=i):(a=i,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(s)),n.set(e),n.set(t.subarray(0,s),e.length)}else{var c=r-t.length,d=e.length-c;a.set(e.subarray(d)),a.set(t,c),n.set(e.subarray(0,d))}else a=e.concat(t),n=r>=0&&r<a.length?a.splice(0,a.length-r):[];return[a,n]}),s=t.redraw(r),d=[r,l.update,n,l.maxPoints];return c.add(r,t.prependTraces,d,e,arguments),s},t.moveTraces=function e(r,a,n){var i,l=[],s=[],d=e,u=e,h=[r=o.getGraphDiv(r),n,a],f=[r,a,n];if(j(r,a,n),a=Array.isArray(a)?a:[a],void 0===n)for(n=[],i=0;i<a.length;i++)n.push(-a.length+i);for(n=Array.isArray(n)?n:[n],a=D(a,r.data.length-1),n=D(n,r.data.length-1),i=0;i<r.data.length;i++)-1===a.indexOf(i)&&l.push(r.data[i]);for(i=0;i<a.length;i++)s.push({newIndex:n[i],trace:r.data[a[i]]});for(s.sort(function(e,t){return e.newIndex-t.newIndex}),i=0;i<s.length;i+=1)l.splice(s[i].newIndex,0,s[i].trace);r.data=l;var p=t.redraw(r);return c.add(r,d,h,u,f),p},t.prependTraces=function e(r,a,n,i){var l=E(r=o.getGraphDiv(r),a,n,i,function(e,t,r){var a,n;if(o.isTypedArray(e))if(r<=0){var i=new e.constructor(0),l=F(t,e);r<0?(a=l,n=i):(a=i,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(0,s)),n.set(t.subarray(s)),n.set(e,s)}else{var c=r-t.length;a.set(t),a.set(e.subarray(0,c),t.length),n.set(e.subarray(c))}else a=t.concat(e),n=r>=0&&r<a.length?a.splice(r,a.length):[];return[a,n]}),s=t.redraw(r),d=[r,l.update,n,l.maxPoints];return c.add(r,t.extendTraces,d,e,arguments),s},t.newPlot=function(e,r,a,n){return e=o.getGraphDiv(e),h.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),h.purge(e),t.plot(e,r,a,n)},t.plot=function(e,r,n,i){var l;if(e=o.getGraphDiv(e),s.init(e),o.isPlainObject(r)){var c=r;r=c.data,n=c.layout,i=c.config,l=c.frames}if(!1===s.triggerHandler(e,"plotly_beforeplot",[r,n,i]))return Promise.reject();r||n||o.isPlotDiv(e)||o.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),O(e,i),n||(n={}),a.select(e).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var u=0===(e.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(A.cleanData(r),u?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),e.layout&&!u||(e.layout=A.cleanLayout(n)),h.supplyDefaults(e);var v=e._fullLayout,x=v._has("cartesian");if(!v._has("polar")&&r&&r[0]&&r[0].r)return o.log("Legacy polar charts are deprecated!"),function(e,t,r){var n=a.select(e).selectAll(".plot-container").data([0]);n.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=n.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),t&&(e.data=t),r&&(e.layout=r),f.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=f.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();var l=e.framework.svg(),s=1,c=e._fullLayout.title?e._fullLayout.title.text:"";""!==c&&c||(s=0);var d=function(){this.call(b.convertToTspans,e)},u=l.select(".title-group text").call(d);if(e._context.edits.titleText){var p=o._(e,"Click to enter Plot title");c&&c!==p||(s=.2,u.attr({"data-unformatted":p}).text(p).style({opacity:s}).on("mouseover.opacity",function(){a.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){a.select(this).transition().duration(1e3).style("opacity",0)}));var g=function(){this.call(b.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:{text:t}}}),this.text(t).call(d),this.call(g)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(d)})};u.call(g)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),h.addLinks(e),Promise.resolve()}(e,r,n);v._replotting=!0,u&&ce(e),e.framework!==ce&&(e.framework=ce,ce(e)),g.initGradients(e),u&&p.saveShowSpikeInitial(e);var _=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;_&&h.doCalcdata(e);for(var w=0;w<e.calcdata.length;w++)e.calcdata[w][0].trace=e._fullData[w];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){h.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):o.clearResponsive(e);var k=JSON.stringify(v._size),M=0;function S(){var t,r,a,n=e.calcdata;for(h.clearAutoMarginIds(e),T.drawMarginPushers(e),p.allowAutoMargin(e),t=0;t<n.length;t++){var i=(a=(r=n[t])[0].trace)._module.colorbar;!0===a.visible&&i?m(e,r,i):h.autoMargin(e,"cb"+a.uid)}return h.doAutoMargin(e),h.previousPromises(e)}function C(){e._transitioning||(T.doAutoRangeAndConstraints(e),u&&p.saveRangeInitial(e),d.getComponentMethod("rangeslider","calcAutorange")(e))}var L=[h.previousPromises,function(){if(l)return t.addFrames(e,l)},function t(){for(var r=v._basePlotModules,a=0;a<r.length;a++)r[a].drawFramework&&r[a].drawFramework(e);if(!v._glcanvas&&v._has("gl")&&(v._glcanvas=v._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(e){return e.key}),v._glcanvas.enter().append("canvas").attr("class",function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),v._glcanvas){v._glcanvas.attr("width",v.width).attr("height",v.height);var n=v._glcanvas.data()[0].regl;if(n&&(Math.floor(v.width)!==n._gl.drawingBufferWidth||Math.floor(v.height)!==n._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!M)return o.log(i+" Clearing graph and plotting again."),h.cleanPlot([],{},e._fullData,v),h.supplyDefaults(e),v=e._fullLayout,h.doCalcdata(e),M++,t();o.error(i)}}return"h"===v.modebar.orientation?v._modebardiv.style("height",null).style("width","100%"):v._modebardiv.style("width",null).style("height",v.height+"px"),h.previousPromises(e)},S,function(){if(JSON.stringify(v._size)!==k)return o.syncOrAsync([S,T.layoutStyles],e)}];x&&L.push(function(){if(_)return o.syncOrAsync([d.getComponentMethod("shapes","calcAutorange"),d.getComponentMethod("annotations","calcAutorange"),C],e);C()}),L.push(T.layoutStyles),x&&L.push(function(){return p.draw(e,u?"":"redraw")}),L.push(T.drawData,T.finalDraw,y,h.addLinks,h.rehover,h.redrag,h.doAutoMargin,h.previousPromises);var I=o.syncOrAsync(L,e);return I&&I.then||(I=Promise.resolve()),I.then(function(){return z(e),e})},t.purge=function(e){var t=(e=o.getGraphDiv(e))._fullLayout||{},r=e._fullData||[];return h.cleanPlot([],{},r,t),h.purge(e),s.purge(e),t._container&&t._container.remove(),delete e._context,e},t.react=function(e,r,a,n){var i,s,c=(e=o.getGraphDiv(e))._fullData,f=e._fullLayout;if(o.isPlotDiv(e)&&c&&f){if(o.isPlainObject(r)){var p=r;r=p.data,a=p.layout,n=p.config,i=p.frames}var g=!1;if(n){var v=o.extendDeep({},e._context);e._context=void 0,O(e,n),g=function e(t,r){var a;for(a in t)if("_"!==a.charAt(0)){var n=t[a],i=r[a];if(n!==i)if(o.isPlainObject(n)&&o.isPlainObject(i)){if(e(n,i))return!0}else{if(!Array.isArray(n)||!Array.isArray(i))return!0;if(n.length!==i.length)return!0;for(var l=0;l<n.length;l++)if(n[l]!==i[l]){if(!o.isPlainObject(n[l])||!o.isPlainObject(i[l]))return!0;if(e(n[l],i[l]))return!0}}}}(v,e._context)}e.data=r||[],A.cleanData(e.data),e.layout=a||{},A.cleanLayout(e.layout),function(e,t,r,a){var n,i,s,c,d,u,h,f,p=a._preGUI,g=[],v={};for(n in p){if(d=ae(n,te)){if(i=d.attr||d.head+".uirevision",(c=(s=l(a,i).get())&&ne(i,t))&&c===s&&(null===(u=p[n])&&(u=void 0),le(f=(h=l(t,n)).get(),u))){void 0===f&&"autorange"===n.substr(n.length-9)&&g.push(n.substr(0,n.length-10)),h.set(N(l(a,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n);delete p[n],"range["===n.substr(n.length-8,6)&&(v[n.substr(0,n.length-9)]=1)}for(var m=0;m<g.length;m++){var y=g[m];if(v[y]){var x=l(t,y).get();x&&delete x.autorange}}var b=a._tracePreGUI;for(var _ in b){var w,k=b[_],A=null;for(n in k){if(!A){var T=ie(_,r);if(T<0){delete b[_];break}var M=oe(_,e,(w=r[T]._fullInput).index);if(M<0){delete b[_];break}A=e[M]}if(d=ae(n,re)){if(d.attr?c=(s=l(a,d.attr).get())&&ne(d.attr,t):(s=w.uirevision,void 0===(c=A.uirevision)&&(c=t.uirevision)),c&&c===s&&(null===(u=k[n])&&(u=void 0),le(f=(h=l(A,n)).get(),u))){h.set(N(l(w,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n+" in trace uid "+_);delete k[n]}}}(e.data,e.layout,c,f),h.supplyDefaults(e,{skipUpdateCalc:!0});var m=e._fullData,y=e._fullLayout,x=void 0===y.datarevision,b=y.transition,_=function(e,t,r,a,n){var i=M.layoutFlags();return i.arrays={},i.rangesAltered={},i.nChanges=0,i.nChangesAnim=0,se(t,r,[],{getValObject:function(e){return u.getLayoutValObject(r,e)},flags:i,immutable:a,transition:n,gd:e}),(i.plot||i.calc)&&(i.layoutReplot=!0),n&&i.nChanges&&i.nChangesAnim&&(i.anim=i.nChanges===i.nChangesAnim?"all":"some"),i}(e,f,y,x,b),w=_.newDataRevision,k=function(e,t,r,a,n,i){var o=t.length===r.length;if(!n&&!o)return{fullReplot:!0,calc:!0};var l,s,c=M.traceFlags();c.arrays={},c.nChanges=0,c.nChangesAnim=0;var d={getValObject:function(e){return u.getTraceValObject(s,e)},flags:c,immutable:a,transition:n,newDataRevision:i,gd:e},f={};for(l=0;l<t.length;l++)if(r[l]){if(s=r[l]._fullInput,h.hasMakesDataTransform(s)&&(s=r[l]),f[s.uid])continue;f[s.uid]=1,se(t[l]._fullInput,s,[],d)}return(c.calc||c.plot)&&(c.fullReplot=!0),n&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&o?"all":"some"),c}(e,c,m,x,b,w);$(e)&&(_.layoutReplot=!0),k.calc||_.calc?e.calcdata=void 0:h.supplyDefaultsUpdateCalc(e.calcdata,m);var S=[];if(i&&(e._transitionData={},h.createTransitionData(e),S.push(function(){return t.addFrames(e,i)})),y.transition&&!g&&(k.anim||_.anim))h.doCalcdata(e),T.doAutoRangeAndConstraints(e),S.push(function(){return h.transitionFromReact(e,k,_,f)});else if(k.fullReplot||_.layoutReplot||g)e._fullLayout._skipDefaults=!0,S.push(t.plot);else{for(var C in _.arrays){var L=_.arrays[C];if(L.length){var I=d.getComponentMethod(C,"drawOne");if(I!==o.noop)for(var P=0;P<L.length;P++)I(e,L[P]);else{var D=d.getComponentMethod(C,"draw");if(D===o.noop)throw new Error("cannot draw components: "+C);D(e)}}}S.push(h.previousPromises),k.style&&S.push(T.doTraceStyle),k.colorbars&&S.push(T.doColorBars),_.legend&&S.push(T.doLegend),_.layoutstyle&&S.push(T.layoutStyles),_.axrange&&U(S),_.ticks&&S.push(T.doTicksRelayout),_.modebar&&S.push(T.doModeBar),_.camera&&S.push(T.doCamera),S.push(z)}S.push(h.rehover,h.redrag),(s=o.syncOrAsync(S,e))&&s.then||(s=Promise.resolve(e))}else s=t.newPlot(e,r,a,n);return s.then(function(){return e.emit("plotly_react",{data:r,layout:a}),e})},t.redraw=function(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return A.cleanData(e.data),A.cleanLayout(e.layout),e.calcdata=void 0,t.plot(e).then(function(){return e.emit("plotly_redraw"),e})},t.relayout=X,t.restyle=B,t.setPlotConfig=function(e){return o.extendFlat(w,e)},t.update=K,t._guiRelayout=ee(X),t._guiRestyle=ee(B),t._guiUpdate=ee(K),t._storeDirectGUIEdit=function(e,t,r){for(var a in r)V(a,l(e,a).get(),r[a],t)}},function(e,t,r){"use strict";var a=r(0),n=r(47).dfltConfig;var i={add:function(e,t,r,a,i){var o,l;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},l=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(l,e.undoQueue.queue.length-l,o),e.undoQueue.index+=1):o=e.undoQueue.queue[l-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(r),o.redo.calls.push(a),o.redo.args.push(i)),e.undoQueue.queue.length>n.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.undo.calls.length;r++)i.plotDo(e,t.undo.calls[r],t.undo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.redo.calls.length;r++)i.plotDo(e,t.redo.calls[r],t.redo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}}};i.plotDo=function(e,t,r){e.autoplay=!0,r=function(e,t){for(var r,n=[],i=0;i<t.length;i++)r=t[i],n[i]=r===e?r:"object"==typeof r?Array.isArray(r)?a.extendDeep([],r):a.extendDeepAll({},r):r;return n}(e,r),t.apply(null,r)},e.exports=i},function(e,t,r){var a=r(3),n=r(0).extendDeepAll,i=r(20).MID_SHIFT,o=e.exports={version:"0.2.2"};o.Axis=function(){var e,t,r,l,s={data:[],layout:{}},c={},d={},u=a.dispatch("hover"),h={};return h.render=function(c){return function(c){t=c||t;var u=s.data,h=s.layout;("string"==typeof t||t.nodeName)&&(t=a.select(t)),t.datum(u).each(function(t,s){var c=t.slice();d={data:o.util.cloneJson(c),layout:o.util.cloneJson(h)};var u=0;c.forEach(function(e,t){e.color||(e.color=h.defaultColorRange[u],u=(u+1)%h.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:a.rgb(e.color).darker().toString()),d.data[t].color=e.color,d.data[t].strokeColor=e.strokeColor,d.data[t].strokeDash=e.strokeDash,d.data[t].strokeSize=e.strokeSize});var f=c.filter(function(e,t){var r=e.visible;return void 0===r||!0===r}),p=!1,g=f.map(function(e,t){return p=p||void 0!==e.groupId,e});if(p){var v=[],m=a.nest().key(function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"}).entries(g).map(function(e,t){if("unstacked"===e.key)return e.values;var r=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,a){e.yStack=[r],v.push(r),r=o.util.sumArrays(e.r,r)}),e.values});f=a.merge(m)}f.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var y=Math.min(h.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2;y=Math.max(10,y);var x,b=[h.margin.left+y,h.margin.top+y];x=p?[0,a.max(o.util.sumArrays(o.util.arrayLast(f).r[0],o.util.arrayLast(v)))]:a.extent(o.util.flattenArray(f.map(function(e,t){return e.r}))),h.radialAxis.domain!=o.DATAEXTENT&&(x[0]=0),r=a.scale.linear().domain(h.radialAxis.domain!=o.DATAEXTENT&&h.radialAxis.domain?h.radialAxis.domain:x).range([0,y]),d.layout.radialAxis.domain=r.domain();var _,w=o.util.flattenArray(f.map(function(e,t){return e.t})),k="string"==typeof w[0];k&&(w=o.util.deduplicate(w),_=w.slice(),w=a.range(w.length),f=f.map(function(e,t){var r=e;return e.t=[w],p&&(r.yStack=e.yStack),r}));var A=f.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===f.length,T=null===h.needsEndSpacing?k||!A:h.needsEndSpacing,M=h.angularAxis.domain&&h.angularAxis.domain!=o.DATAEXTENT&&!k&&h.angularAxis.domain[0]>=0?h.angularAxis.domain:a.extent(w),S=Math.abs(w[1]-w[0]);A&&!k&&(S=0);var C=M.slice();T&&k&&(C[1]+=S);var L=h.angularAxis.ticksCount||4;L>8&&(L=L/(L/8)+L%8),h.angularAxis.ticksStep&&(L=(C[1]-C[0])/L);var z=h.angularAxis.ticksStep||(C[1]-C[0])/(L*(h.minorTicks+1));_&&(z=Math.max(Math.round(z),1)),C[2]||(C[2]=z);var I=a.range.apply(this,C);if(I=I.map(function(e,t){return parseFloat(e.toPrecision(12))}),l=a.scale.linear().domain(C.slice(0,2)).range("clockwise"===h.direction?[0,360]:[360,0]),d.layout.angularAxis.domain=l.domain(),d.layout.angularAxis.endPadding=T?S:0,void 0===(e=a.select(this).select("svg.chart-root"))||e.empty()){var P=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),O=this.appendChild(this.ownerDocument.importNode(P.documentElement,!0));e=a.select(O)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var D,R=e.select(".chart-group"),j={fill:"none",stroke:h.tickColor},E={"font-size":h.font.size,"font-family":h.font.family,fill:h.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+h.font.outlineColor}).join(",")};if(h.showLegend){D=e.select(".legend-group").attr({transform:"translate("+[y,h.margin.top]+")"}).style({display:"block"});var F=f.map(function(e,t){var r=o.util.cloneJson(e);return r.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",r.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,r.color="LinePlot"===e.geometry?e.strokeColor:e.color,r});o.Legend().config({data:f.map(function(e,t){return e.name||"Element"+t}),legendConfig:n({},o.Legend.defaultConfig().legendConfig,{container:D,elements:F,reverseOrder:h.legend.reverseOrder})})();var B=D.node().getBBox();y=Math.min(h.width-B.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2,y=Math.max(10,y),b=[h.margin.left+y,h.margin.top+y],r.range([0,y]),d.layout.radialAxis.domain=r.domain(),D.attr("transform","translate("+[b[0]+y,b[1]-y]+")")}else D=e.select(".legend-group").style({display:"none"});e.attr({width:h.width,height:h.height}).style({opacity:h.opacity}),R.attr("transform","translate("+b+")").style({cursor:"crosshair"});var N=[(h.width-(h.margin.left+h.margin.right+2*y+(B?B.width:0)))/2,(h.height-(h.margin.top+h.margin.bottom+2*y))/2];if(N[0]=Math.max(0,N[0]),N[1]=Math.max(0,N[1]),e.select(".outer-group").attr("transform","translate("+N+")"),h.title&&h.title.text){var H=e.select("g.title-group text").style(E).text(h.title.text),V=H.node().getBBox();H.attr({x:b[0]-V.width/2,y:b[1]-y-20})}var q=e.select(".radial.axis-group");if(h.radialAxis.gridLinesVisible){var G=q.selectAll("circle.grid-circle").data(r.ticks(5));G.enter().append("circle").attr({class:"grid-circle"}).style(j),G.attr("r",r),G.exit().remove()}q.select("circle.outside-circle").attr({r:y}).style(j);var X=e.select("circle.background-circle").attr({r:y}).style({fill:h.backgroundColor,stroke:h.stroke});function W(e,t){return l(e)%360+h.orientation}if(h.radialAxis.visible){var U=a.svg.axis().scale(r).ticks(5).tickSize(5);q.call(U).attr({transform:"rotate("+h.radialAxis.orientation+")"}),q.selectAll(".domain").style(j),q.selectAll("g>text").text(function(e,t){return this.textContent+h.radialAxis.ticksSuffix}).style(E).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===h.radialAxis.tickOrientation?"rotate("+-h.radialAxis.orientation+") translate("+[0,E["font-size"]]+")":"translate("+[0,E["font-size"]]+")"}}),q.selectAll("g>line").style({stroke:"black"})}var Z=e.select(".angular.axis-group").selectAll("g.angular-tick").data(I),Y=Z.enter().append("g").classed("angular-tick",!0);Z.attr({transform:function(e,t){return"rotate("+W(e)+")"}}).style({display:h.angularAxis.visible?"block":"none"}),Z.exit().remove(),Y.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(h.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(h.minorTicks+1)==0)}).style(j),Y.selectAll(".minor").style({stroke:h.minorTickColor}),Z.select("line.grid-line").attr({x1:h.tickLength?y-h.tickLength:0,x2:y}).style({display:h.angularAxis.gridLinesVisible?"block":"none"}),Y.append("text").classed("axis-text",!0).style(E);var Q=Z.select("text.axis-text").attr({x:y+h.labelOffset,dy:i+"em",transform:function(e,t){var r=W(e),a=y+h.labelOffset,n=h.angularAxis.tickOrientation;return"horizontal"==n?"rotate("+-r+" "+a+" 0)":"radial"==n?r<270&&r>90?"rotate(180 "+a+" 0)":null:"rotate("+(r<=180&&r>0?-90:90)+" "+a+" 0)"}}).style({"text-anchor":"middle",display:h.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(h.minorTicks+1)!=0?"":_?_[e]+h.angularAxis.ticksSuffix:e+h.angularAxis.ticksSuffix}).style(E);h.angularAxis.rewriteTicks&&Q.text(function(e,t){return t%(h.minorTicks+1)!=0?"":h.angularAxis.rewriteTicks(this.textContent,t)});var J=a.max(R.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));D.attr({transform:"translate("+[y+J,h.margin.top]+")"});var $=e.select("g.geometry-group").selectAll("g").size()>0,K=e.select("g.geometry-group").selectAll("g.geometry").data(f);if(K.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),K.exit().remove(),f[0]||$){var ee=[];f.forEach(function(e,t){var a={};a.radialScale=r,a.angularScale=l,a.container=K.filter(function(e,r){return r==t}),a.geometry=e.geometry,a.orientation=h.orientation,a.direction=h.direction,a.index=t,ee.push({data:e,geometryConfig:a})});var te=[];a.nest().key(function(e,t){return void 0!==e.data.groupId||"unstacked"}).entries(ee).forEach(function(e,t){"unstacked"===e.key?te=te.concat(e.values.map(function(e,t){return[e]})):te.push(e.values)}),te.forEach(function(e,t){var r;r=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var a=e.map(function(e,t){return n(o[r].defaultConfig(),e)});o[r]().config(a)()})}var re,ae,ne=e.select(".guides-group"),ie=e.select(".tooltips-group"),oe=o.tooltipPanel().config({container:ie,fontSize:8})(),le=o.tooltipPanel().config({container:ie,fontSize:8})(),se=o.tooltipPanel().config({container:ie,hasTick:!0})();if(!k){var ce=ne.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});R.on("mousemove.angular-guide",function(e,t){var r=o.util.getMousePos(X).angle;ce.attr({x2:-y,transform:"rotate("+r+")"}).style({opacity:.5});var a=(r+180+360-h.orientation)%360;re=l.invert(a);var n=o.util.convertToCartesian(y+12,r+180);oe.text(o.util.round(re)).move([n[0]+b[0],n[1]+b[1]])}).on("mouseout.angular-guide",function(e,t){ne.select("line").style({opacity:0})})}var de=ne.select("circle").style({stroke:"grey",fill:"none"});R.on("mousemove.radial-guide",function(e,t){var a=o.util.getMousePos(X).radius;de.attr({r:a}).style({opacity:.5}),ae=r.invert(o.util.getMousePos(X).radius);var n=o.util.convertToCartesian(a,h.radialAxis.orientation);le.text(o.util.round(ae)).move([n[0]+b[0],n[1]+b[1]])}).on("mouseout.radial-guide",function(e,t){de.style({opacity:0}),se.hide(),oe.hide(),le.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,r){var n=a.select(this),i=this.style.fill,l="black",s=this.style.opacity||1;if(n.attr({"data-opacity":s}),i&&"none"!==i){n.attr({"data-fill":i}),l=a.hsl(i).darker().toString(),n.style({fill:l,opacity:1});var c={t:o.util.round(t[0]),r:o.util.round(t[1])};k&&(c.t=_[t[0]]);var d="t: "+c.t+", r: "+c.r,u=this.getBoundingClientRect(),h=e.node().getBoundingClientRect(),f=[u.left+u.width/2-N[0]-h.left,u.top+u.height/2-N[1]-h.top];se.config({color:l}).text(d),se.move(f)}else i=this.style.stroke||"black",n.attr({"data-stroke":i}),l=a.hsl(i).darker().toString(),n.style({stroke:l,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=a.event.which)return!1;a.select(this).attr("data-fill")&&se.show()}).on("mouseout.tooltip",function(e,t){se.hide();var r=a.select(this),n=r.attr("data-fill");n?r.style({fill:n,opacity:r.attr("data-opacity")}):r.style({stroke:r.attr("data-stroke"),opacity:r.attr("data-opacity")})})})}(c),this},h.config=function(e){if(!arguments.length)return s;var t=o.util.cloneJson(e);return t.data.forEach(function(e,t){s.data[t]||(s.data[t]={}),n(s.data[t],o.Axis.defaultConfig().data[0]),n(s.data[t],e)}),n(s.layout,o.Axis.defaultConfig().layout),n(s.layout,t.layout),this},h.getLiveConfig=function(){return d},h.getinputConfig=function(){return c},h.radialScale=function(e){return r},h.angularScale=function(e){return l},h.svg=function(){return e},a.rebind(h,u,"on"),h},o.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:a.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},o.util={},o.DATAEXTENT="dataExtent",o.AREA="AreaChart",o.LINE="LinePlot",o.DOT="DotPlot",o.BAR="BarChart",o.util._override=function(e,t){for(var r in e)r in t&&(t[r]=e[r])},o.util._extend=function(e,t){for(var r in e)t[r]=e[r]},o.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},o.util.dataFromEquation2=function(e,t){var r=t||6;return a.range(0,360+r,r).map(function(t,r){var a=t*Math.PI/180;return[t,e(a)]})},o.util.dataFromEquation=function(e,t,r){var n=t||6,i=[],o=[];a.range(0,360+n,n).forEach(function(t,r){var a=t*Math.PI/180,n=e(a);i.push(t),o.push(n)});var l={t:i,r:o};return r&&(l.name=r),l},o.util.ensureArray=function(e,t){if(void 0===e)return null;var r=[].concat(e);return a.range(t).map(function(e,t){return r[t]||r[0]})},o.util.fillArrays=function(e,t,r){return t.forEach(function(t,a){e[t]=o.util.ensureArray(e[t],r)}),e},o.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},o.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var r=t.shift();return e[r]&&(!t.length||objHasKeys(e[r],t))},o.util.sumArrays=function(e,t){return a.zip(e,t).map(function(e,t){return a.sum(e)})},o.util.arrayLast=function(e){return e[e.length-1]},o.util.arrayEqual=function(e,t){for(var r=Math.max(e.length,t.length,1);r-- >=0&&e[r]===t[r];);return-2===r},o.util.flattenArray=function(e){for(var t=[];!o.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},o.util.deduplicate=function(e){return e.filter(function(e,t,r){return r.indexOf(e)==t})},o.util.convertToCartesian=function(e,t){var r=t*Math.PI/180;return[e*Math.cos(r),e*Math.sin(r)]},o.util.round=function(e,t){var r=t||2,a=Math.pow(10,r);return Math.round(e*a)/a},o.util.getMousePos=function(e){var t=a.mouse(e.node()),r=t[0],n=t[1],i={};return i.x=r,i.y=n,i.pos=t,i.angle=180*(Math.atan2(n,r)+Math.PI)/Math.PI,i.radius=Math.sqrt(r*r+n*n),i},o.util.duplicatesCount=function(e){for(var t,r={},a={},n=0,i=e.length;n<i;n++)(t=e[n])in r?(r[t]++,a[t]=r[t]):r[t]=1;return a},o.util.duplicates=function(e){return Object.keys(o.util.duplicatesCount(e))},o.util.translator=function(e,t,r,a){if(a){var n=r.slice();r=t,t=n}var i=t.reduce(function(e,t){if(void 0!==e)return e[t]},e);void 0!==i&&(t.reduce(function(e,r,a){if(void 0!==e)return a===t.length-1&&delete e[r],e[r]},e),r.reduce(function(e,t,a){return void 0===e[t]&&(e[t]={}),a===r.length-1&&(e[t]=i),e[t]},e))},o.PolyChart=function(){var e=[o.PolyChart.defaultConfig()],t=a.dispatch("hover"),r={solid:"none",dash:[5,2],dot:[2,5]};function i(){var t=e[0].geometryConfig,n=t.container;"string"==typeof n&&(n=a.select(n)),n.datum(e).each(function(e,n){var i=!!e[0].data.yStack,o=e.map(function(e,t){return i?a.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):a.zip(e.data.t[0],e.data.r[0])}),l=t.angularScale,s=t.radialScale.domain()[0],c={bar:function(r,n,i){var o=e[i].data,s=t.radialScale(r[1])-t.radialScale(0),c=t.radialScale(r[2]||0),d=o.barWidth;a.select(this).attr({class:"mark bar",d:"M"+[[s+c,-d/2],[s+c,d/2],[c,d/2],[c,-d/2]].join("L")+"Z",transform:function(e,r){return"rotate("+(t.orientation+l(e[0]))+")"}})}};c.dot=function(r,n,i){var o=r[2]?[r[0],r[1]+r[2]]:r,l=a.svg.symbol().size(e[i].data.dotSize).type(e[i].data.dotType)(r,n);a.select(this).attr({class:"mark dot",d:l,transform:function(e,r){var a,n,i,l=(a=function(e,r){var a=t.radialScale(e[1]),n=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:a,t:n}}(o),n=a.r*Math.cos(a.t),i=a.r*Math.sin(a.t),{x:n,y:i});return"translate("+[l.x,l.y]+")"}})};var d=a.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});c.line=function(r,n,i){var l=r[2]?o[i].map(function(e,t){return[e[0],e[1]+e[2]]}):o[i];if(a.select(this).each(c.dot).style({opacity:function(t,r){return+e[i].data.dotVisible},fill:p.stroke(r,n,i)}).attr({class:"mark dot"}),!(n>0)){var s=a.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:d(l),transform:function(e,r){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return p.fill(r,n,i)},"fill-opacity":0,stroke:function(e,t){return p.stroke(r,n,i)},"stroke-width":function(e,t){return p["stroke-width"](r,n,i)},"stroke-dasharray":function(e,t){return p["stroke-dasharray"](r,n,i)},opacity:function(e,t){return p.opacity(r,n,i)},display:function(e,t){return p.display(r,n,i)}})}};var u=t.angularScale.range(),h=Math.abs(u[1]-u[0])/o[0].length*Math.PI/180,f=a.svg.arc().startAngle(function(e){return-h/2}).endAngle(function(e){return h/2}).innerRadius(function(e){return t.radialScale(s+(e[2]||0))}).outerRadius(function(e){return t.radialScale(s+(e[2]||0))+t.radialScale(e[1])});c.arc=function(e,r,n){a.select(this).attr({class:"mark arc",d:f,transform:function(e,r){return"rotate("+(t.orientation+l(e[0])+90)+")"}})};var p={fill:function(t,r,a){return e[a].data.color},stroke:function(t,r,a){return e[a].data.strokeColor},"stroke-width":function(t,r,a){return e[a].data.strokeSize+"px"},"stroke-dasharray":function(t,a,n){return r[e[n].data.strokeDash]},opacity:function(t,r,a){return e[a].data.opacity},display:function(t,r,a){return void 0===e[a].data.visible||e[a].data.visible?"block":"none"}},g=a.select(this).selectAll("g.layer").data(o);g.enter().append("g").attr({class:"layer"});var v=g.selectAll("path.mark").data(function(e,t){return e});v.enter().append("path").attr({class:"mark"}),v.style(p).each(c[t.geometryType]),v.exit().remove(),g.exit().remove()})}return i.config=function(t){return arguments.length?(t.forEach(function(t,r){e[r]||(e[r]={}),n(e[r],o.PolyChart.defaultConfig()),n(e[r],t)}),this):e},i.getColorScale=function(){},a.rebind(i,t,"on"),i},o.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:a.scale.category20()}}},o.BarChart=function(){return o.PolyChart()},o.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},o.AreaChart=function(){return o.PolyChart()},o.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},o.DotPlot=function(){return o.PolyChart()},o.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},o.LinePlot=function(){return o.PolyChart()},o.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},o.Legend=function(){var e=o.Legend.defaultConfig(),t=a.dispatch("hover");function r(){var t=e.legendConfig,i=e.data.map(function(e,r){return[].concat(e).map(function(e,a){var i=n({},t.elements[r]);return i.name=e,i.color=[].concat(t.elements[r].color)[a],i})}),o=a.merge(i);o=o.filter(function(e,r){return t.elements[r]&&(t.elements[r].visibleInLegend||void 0===t.elements[r].visibleInLegend)}),t.reverseOrder&&(o=o.reverse());var l=t.container;("string"==typeof l||l.nodeName)&&(l=a.select(l));var s=o.map(function(e,t){return e.color}),c=t.fontSize,d=null==t.isContinuous?"number"==typeof o[0]:t.isContinuous,u=d?t.height:c*o.length,h=l.classed("legend-group",!0).selectAll("svg").data([0]),f=h.enter().append("svg").attr({width:300,height:u+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});f.append("g").classed("legend-axis",!0),f.append("g").classed("legend-marks",!0);var p=a.range(o.length),g=a.scale[d?"linear":"ordinal"]().domain(p).range(s),v=a.scale[d?"linear":"ordinal"]().domain(p)[d?"range":"rangePoints"]([0,u]);if(d){var m=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);m.enter().append("stop"),m.attr({offset:function(e,t){return t/(s.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),h.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var y=h.select(".legend-marks").selectAll("path.legend-mark").data(o);y.enter().append("path").classed("legend-mark",!0),y.attr({transform:function(e,t){return"translate("+[c/2,v(t)+c/2]+")"},d:function(e,t){var r,n,i,o=e.symbol;return i=3*(n=c),"line"===(r=o)?"M"+[[-n/2,-n/12],[n/2,-n/12],[n/2,n/12],[-n/2,n/12]]+"Z":-1!=a.svg.symbolTypes.indexOf(r)?a.svg.symbol().type(r).size(i)():a.svg.symbol().type("square").size(i)()},fill:function(e,t){return g(t)}}),y.exit().remove()}var x=a.svg.axis().scale(v).orient("right"),b=h.select("g.legend-axis").attr({transform:"translate("+[d?t.colorBandWidth:c,c/2]+")"}).call(x);return b.selectAll(".domain").style({fill:"none",stroke:"none"}),b.selectAll("line").style({fill:"none",stroke:d?t.textColor:"none"}),b.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text(function(e,t){return o[t].name}),r}return r.config=function(t){return arguments.length?(n(e,t),this):e},a.rebind(r,t,"on"),r},o.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},o.tooltipPanel=function(){var e,t,r,i={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+o.tooltipPanel.uid++,s=10,c=function(){var a=(e=i.container.selectAll("g."+l).data([0])).enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return r=a.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=a.append("text").attr({dx:i.padding+s,dy:.3*+i.fontSize}),c};return c.text=function(n){var o=a.hsl(i.color).l,l=o>=.5?"#aaa":"white",d=o>=.5?"black":"white",u=n||"";t.style({fill:d,"font-size":i.fontSize+"px"}).text(u);var h=i.padding,f=t.node().getBBox(),p={fill:i.color,stroke:l,"stroke-width":"2px"},g=f.width+2*h+s,v=f.height+2*h;return r.attr({d:"M"+[[s,-v/2],[s,-v/4],[i.hasTick?0:s,0],[s,v/4],[s,v/2],[g,v/2],[g,-v/2]].join("L")+"Z"}).style(p),e.attr({transform:"translate("+[s,-v/2+2*h]+")"}),e.style({display:"block"}),c},c.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),c},c.hide=function(){if(e)return e.style({display:"none"}),c},c.show=function(){if(e)return e.style({display:"block"}),c},c.config=function(e){return n(i,e),c},c},o.tooltipPanel.uid=1,o.adapter={},o.adapter.plotly=function(){var e={convert:function(e,t){var r={};if(e.data&&(r.data=e.data.map(function(e,r){var a=n({},e);return[[a,["marker","color"],["color"]],[a,["marker","opacity"],["opacity"]],[a,["marker","line","color"],["strokeColor"]],[a,["marker","line","dash"],["strokeDash"]],[a,["marker","line","width"],["strokeSize"]],[a,["marker","symbol"],["dotType"]],[a,["marker","size"],["dotSize"]],[a,["marker","barWidth"],["barWidth"]],[a,["line","interpolation"],["lineInterpolation"]],[a,["showlegend"],["visibleInLegend"]]].forEach(function(e,r){o.util.translator.apply(null,e.concat(t))}),t||delete a.marker,t&&delete a.groupId,t?("LinePlot"===a.geometry?(a.type="scatter",!0===a.dotVisible?(delete a.dotVisible,a.mode="lines+markers"):a.mode="lines"):"DotPlot"===a.geometry?(a.type="scatter",a.mode="markers"):"AreaChart"===a.geometry?a.type="area":"BarChart"===a.geometry&&(a.type="bar"),delete a.geometry):("scatter"===a.type?"lines"===a.mode?a.geometry="LinePlot":"markers"===a.mode?a.geometry="DotPlot":"lines+markers"===a.mode&&(a.geometry="LinePlot",a.dotVisible=!0):"area"===a.type?a.geometry="AreaChart":"bar"===a.type&&(a.geometry="BarChart"),delete a.mode,delete a.type),a}),!t&&e.layout&&"stack"===e.layout.barmode)){var i=o.util.duplicates(r.data.map(function(e,t){return e.geometry}));r.data.forEach(function(e,t){var a=i.indexOf(e.geometry);-1!=a&&(r.data[t].groupId=a)})}if(e.layout){var l=n({},e.layout);if([[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(e,r){o.util.translator.apply(null,e.concat(t))}),t?(void 0!==l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&void 0!==l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&void 0!==l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&void 0!==l.margin.t){var s=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],d={};a.entries(l.margin).forEach(function(e,t){d[c[s.indexOf(e.key)]]=e.value}),l.margin=d}t&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),r.layout=l}return r}};return e}},function(e,t,r){"use strict";var a=r(1),n=r(338),i=r(0),o=r(293),l=r(294),s=r(295),c={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}},d=/^data:image\/\w+;base64,/;e.exports=function(e,t){var r,u,h,f;function p(e){return!(e in t)||i.validate(t[e],c[e])}if(t=t||{},i.isPlainObject(e)?(r=e.data||[],u=e.layout||{},h=e.config||{},f={}):(e=i.getGraphDiv(e),r=i.extendDeep([],e.data),u=i.extendDeep({},e.layout),h=e._context,f=e._fullLayout||{}),!p("width")&&null!==t.width||!p("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!p("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var g={};function v(e,r){return i.coerce(t,g,c,e,r)}var m=v("format"),y=v("width"),x=v("height"),b=v("scale"),_=v("setBackground"),w=v("imageDataOnly"),k=document.createElement("div");k.style.position="absolute",k.style.left="-5000px",document.body.appendChild(k);var A=i.extendFlat({},u);y?A.width=y:null===t.width&&a(f.width)&&(A.width=f.width),x?A.height=x:null===t.height&&a(f.height)&&(A.height=f.height);var T=i.extendFlat({},h,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),M=o.getRedrawFunc(k);function S(){return new Promise(function(e){setTimeout(e,o.getDelay(k._fullLayout))})}function C(){return new Promise(function(e,t){var r=l(k,m,b),a=k._fullLayout.width,o=k._fullLayout.height;if(n.purge(k),document.body.removeChild(k),"svg"===m)return e(w?r:"data:image/svg+xml,"+encodeURIComponent(r));var c=document.createElement("canvas");c.id=i.randstr(),s({format:m,width:a,height:o,scale:b,canvas:c,svg:r,promise:!0}).then(e).catch(t)})}return new Promise(function(e,t){n.plot(k,r,A,T).then(M).then(S).then(C).then(function(t){e(function(e){return w?e.replace(d,""):e}(t))}).catch(function(e){t(e)})})}},function(e,t,r){"use strict";var a=r(341),n=r(0),i=r(383);e.exports=function(e,t){var r;return n.isPlainObject(e)||(r=n.getGraphDiv(e)),(t=t||{}).format=t.format||"png",new Promise(function(o,l){r&&r._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),n.isIE()&&"svg"!==t.format&&l(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),r&&(r._snapshotInProgress=!0);var s=a(e,t),c=t.filename||e.fn||"newplot";c+="."+t.format,s.then(function(e){return r&&(r._snapshotInProgress=!1),i(e,c)}).then(function(e){o(e)}).catch(function(e){r&&(r._snapshotInProgress=!1),l(e)})})}},function(e,t,r){"use strict";var a=r(7),n=r(30);e.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:a({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",role:"style",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",editType:"legend",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",editType:"legend",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},editType:"legend"}},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(0),o=r(26),l=r(11),s=r(64),c=r(272),d=r(253).castOption,u=12,h=5,f=2,p=10,g=5;e.exports=function(e,t){var r=t._fullLayout.legend,v="constant"===r.itemsizing;function m(e,t,r,a){var n;if(e+1)n=e;else{if(!(t&&t.width>0))return 0;n=t.width}return v?a:Math.min(n,r)}e.each(function(e){var t=a.select(this),n=i.ensureSingle(t,"g","layers");n.style("opacity",e[0].trace.opacity);var o=r.valign,l=e[0].lineHeight,s=e[0].height;if("middle"!==o&&l&&s){var c={top:1,bottom:-1}[o]*(.5*(l-s+3));n.attr("transform","translate(0,"+c+")")}else n.attr("transform",null);n.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),n.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var d=n.selectAll("g.legendsymbols").data([e]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var t=e[0].trace,r=[];"waterfall"===t.type&&t.visible&&(r=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var n=a.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(r);n.enter().append("path").classed("legendwaterfall",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each(function(e){var r=a.select(this),n=t[e[0]].marker,i=m(void 0,n.line,g,f);r.attr("d",e[1]).style("stroke-width",i+"px").call(l.fill,n.color),i&&r.call(l.stroke,n.line.color)})}).each(function(e){var t=e[0].trace,r=t.marker||{},i=r.line||{},o=a.select(this).select("g.legendpoints").selectAll("path.legendbar").data(n.traceIs(t,"bar")?[e]:[]);o.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),o.exit().remove(),o.each(function(e){var t=a.select(this),n=e[0],o=m(n.mlw,r.line,g,f);t.style("stroke-width",o+"px").call(l.fill,n.mc||r.color),o&&l.stroke(t,n.mlc||i.color)})}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.traceIs(t,"box-violin")&&t.visible?[e]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.each(function(){var e=a.select(this),r=m(void 0,t.line,g,f);e.style("stroke-width",r+"px").call(l.fill,t.fillcolor),r&&l.stroke(e,t.line.color)})}).each(function(e){var t=e[0],r=t.trace,o=a.select(this).select("g.legendpoints").selectAll("path.legendpie").data(n.traceIs(r,"pie")&&r.visible?[e]:[]);if(o.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),o.exit().remove(),o.size()){var l=(r.marker||{}).line,s=m(d(l.width,t.pts),l,g,f),u=i.minExtend(r,{marker:{line:{width:s}}}),h=i.minExtend(t,{trace:u});c(o,h,u)}}).each(function(e){var r,n,l=e[0],c=l.trace,d=c.visible&&c.fill&&"none"!==c.fill,u=s.hasLines(c),f=c.contours,g=!1,v=!1;if(f){var y=f.coloring;"lines"===y?g=!0:u="none"===y||"heatmap"===y||f.showlines,"constraint"===f.type?d="="!==f._operation:"fill"!==y&&"heatmap"!==y||(v=!0)}var x=s.hasMarkers(c)||s.hasText(c)||!d&&!v?"M5,0":u||g?"M5,-2":"M5,-3",b=a.select(this),_=b.select(".legendfill").selectAll("path").data(d||v?[e]:[]);if(_.enter().append("path").classed("js-fill",!0),_.exit().remove(),_.attr("d",x+"h30v6h-30z").call(d?o.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+c.uid;o.gradient(e,t,r,"horizontalreversed",c.colorscale,"fill")}}),u||g){var w=m(void 0,c.line,p,h);n=i.minExtend(c,{line:{width:w}}),r=[i.minExtend(l,{trace:n})]}var k=b.select(".legendlines").selectAll("path").data(u||g?[r]:[]);k.enter().append("path").classed("js-line",!0),k.exit().remove(),k.attr("d",x+(g?"l30,0.0001":"h30")).call(u?o.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+c.uid;o.lineGroupStyle(e),o.gradient(e,t,r,"horizontalreversed",c.colorscale,"stroke")}})}).each(function(e){var r,n,l=e[0],c=l.trace,d=s.hasMarkers(c),p=s.hasText(c),g=s.hasLines(c);function m(e,t,r,a){var n=i.nestedProperty(c,e).get(),o=i.isArrayOrTypedArray(n)&&t?t(n):n;if(v&&o&&void 0!==a&&(o=a),r){if(o<r[0])return r[0];if(o>r[1])return r[1]}return o}function y(e){return e[0]}if(d||p||g){var x={},b={};if(d){x.mc=m("marker.color",y),x.mx=m("marker.symbol",y),x.mo=m("marker.opacity",i.mean,[.2,1]),x.mlc=m("marker.line.color",y),x.mlw=m("marker.line.width",i.mean,[0,5],f),b.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var _=m("marker.size",i.mean,[2,16],u);x.ms=_,b.marker.size=_}g&&(b.line={width:m("line.width",y,[0,10],h)}),p&&(x.tx="Aa",x.tp=m("textposition",y),x.ts=10,x.tc=m("textfont.color",y),x.tf=m("textfont.family",y)),r=[i.minExtend(l,x)],(n=i.minExtend(c,b)).selectedpoints=null}var w=a.select(this).select("g.legendpoints"),k=w.selectAll("path.scatterpts").data(d?r:[]);k.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),k.exit().remove(),k.call(o.pointStyle,n,t),d&&(r[0].mrc=3);var A=w.selectAll("g.pointtext").data(p?r:[]);A.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),A.exit().remove(),A.selectAll("text").call(o.textPointStyle,n,t)}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendcandle").data("candlestick"===t.type&&t.visible?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var n=a.select(this),i=t[r?"increasing":"decreasing"],o=m(void 0,i.line,g,f);n.style("stroke-width",o+"px").call(l.fill,i.fillcolor),o&&l.stroke(n,i.line.color)})}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendohlc").data("ohlc"===t.type&&t.visible?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var n=a.select(this),i=t[r?"increasing":"decreasing"],s=m(void 0,i.line,g,f);n.style("fill","none").call(o.dashLine,i.line.dash,s),s&&l.stroke(n,i.line.color)})})}},function(e,t,r){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},function(e,t,r){"use strict";var a=r(0),n=r(11);e.exports=function(e,t,r,i){i("opacity");var o=i("bgcolor"),l=i("bordercolor"),s=n.opacity(l);i("borderpad");var c=i("borderwidth"),d=i("showarrow");if(i("text",d?" ":r._dfltTitle.annotation),i("textangle"),a.coerceFont(i,"font",r.font),i("width"),i("align"),i("height")&&i("valign"),d){var u,h,f=i("arrowside");-1!==f.indexOf("end")&&(u=i("arrowhead"),h=i("arrowsize")),-1!==f.indexOf("start")&&(i("startarrowhead",u),i("startarrowsize",h)),i("arrowcolor",s?t.bordercolor:n.defaultLine),i("arrowwidth",2*(s&&c||1)),i("standoff"),i("startstandoff")}var p=i("hovertext"),g=r.hoverlabel||{};if(p){var v=i("hoverlabel.bgcolor",g.bgcolor||(n.opacity(o)?n.rgb(o):n.defaultLine)),m=i("hoverlabel.bordercolor",g.bordercolor||n.contrast(v));a.coerceFont(i,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||m})}i("captureevents",!!p)}},function(e,t,r){"use strict";var a=r(273),n=r(70).line,i=r(52).dash,o=r(6).extendFlat,l=r(12).templatedArray;e.exports=l("shape",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:o({},a.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate.","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",role:"info",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},yref:o({},a.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",role:"info",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},path:{valType:"string",role:"info",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:o({},n.color,{editType:"arraydraw"}),width:o({},n.width,{editType:"calc+arraydraw"}),dash:o({},i,{editType:"arraydraw"}),role:"info",editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",editType:"arraydraw",description:["Sets the color filling the shape's interior."].join(" ")},editType:"arraydraw"})},function(e,t,r){"use strict";var a=r(28),n=r(12).templatedArray;e.exports=n("image",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")},editType:"arraydraw"})},function(e,t,r){"use strict";var a=r(7),n=r(30),i=r(6).extendFlat,o=r(34).overrideAll,l=r(88),s=r(12).templatedArray,c=s("button",{visible:{valType:"boolean",role:"info",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});e.exports=o(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:i(l({editType:"arraydraw"}),{description:"Sets the padding around the buttons or dropdown menu."}),font:a({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:n.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root")},function(e,t,r){"use strict";var a=r(7),n=r(88),i=r(6).extendDeepAll,o=r(34).overrideAll,l=r(37),s=r(12).templatedArray,c=r(274),d=s("step",{visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});e.exports=o(s("slider",{visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:d,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:i(n({editType:"arraydraw"}),{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:l.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:a({description:"Sets the font of the current value label text."})},font:a({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:c.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:c.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:c.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:c.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:c.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root")},function(e,t,r){"use strict";e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",role:"style",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",role:"style",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"}},function(e,t,r){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},function(e,t,r){"use strict";e.exports={visible:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},copy_ystyle:{valType:"boolean",role:"style",editType:"plot"},copy_zstyle:{valType:"boolean",role:"style",editType:"style"},color:{valType:"color",role:"style",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc",_deprecated:{opacity:{valType:"number",role:"style",editType:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},function(e,t,r){"use strict";function a(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}e.exports=function(e){var t=e.type,r=e.symmetric;if("data"===t){var n=e.array||[];if(r)return function(e,t){var r=+n[t];return[r,r]};var i=e.arrayminus||[];return function(e,t){var r=+n[t],a=+i[t];return isNaN(r)&&isNaN(a)?[NaN,NaN]:[a||0,r||0]}}var o=a(t,e.value),l=a(t,e.valueminus);return r||void 0===e.valueminus?function(e){var t=o(e);return[t,t]}:function(e){return[l(e),o(e)]}}},function(e,t,r){"use strict";var a=r(0),n=a.extendFlat,i=a.extendDeep;function o(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}e.exports=function(e,t){var r;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var a,l=e.data,s=e.layout,c=i([],l),d=i({},s,o(t.tileClass)),u=e._context||{};if(t.width&&(d.width=t.width),t.height&&(d.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){d.annotations=[];var h=Object.keys(d);for(r=0;r<h.length;r++)a=h[r],["xaxis","yaxis","zaxis"].indexOf(a.slice(0,5))>-1&&(d[h[r]].title={text:""});for(r=0;r<c.length;r++){var f=c[r];f.showscale=!1,f.marker&&(f.marker.showscale=!1),"pie"===f.type&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(r=0;r<t.annotations.length;r++)d.annotations.push(t.annotations[r]);var p=Object.keys(d).filter(function(e){return e.match(/^scene\d*$/)});if(p.length){var g={};for("thumbnail"===t.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<p.length;r++){var v=d[p[r]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),n(v.xaxis,g),n(v.yaxis,g),n(v.zaxis,g),v._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var y={gd:m,td:m,layout:d,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return"transparent"!==t.setBackground&&(y.config.setBackground=t.setBackground||"opaque"),y.gd.defaultLayout=o(t.tileClass),y}},,,,,,,,,function(e,t,r){"use strict";e.exports=r(365)},function(e,t,r){"use strict";t.version="1.47.4",r(366).polyfill(),r(369),r(370)();for(var a=r(4),n=t.register=a.register,i=r(371),o=Object.keys(i),l=0;l<o.length;l++){var s=o[l];"_"!==s.charAt(0)&&(t[s]=i[s]),n({moduleType:"apiMethod",name:s,fn:i[s]})}n(r(296)),n([r(200),r(385),r(391),r(397),r(402),r(406),r(410),r(414),r(417),r(422),r(426),r(427),r(90)]),n([r(432),r(433)]),t.Icons=r(211),t.Plots=r(43),t.Fx=r(200),t.Snapshot=r(434),t.PlotSchema=r(48),t.Queue=r(339),t.d3=r(3)},function(e,t,r){(function(t,a){var n;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,l=void 0,s=function(e,t){g[i]=e,g[i+1]=t,2===(i+=2)&&(l?l(v):_())};var c="undefined"!=typeof window?window:void 0,d=c||{},u=d.MutationObserver||d.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(v,1)}}var g=new Array(1e3);function v(){for(var e=0;e<i;e+=2){(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0}i=0}var m,y,x,b,_=void 0;function w(e,t){var r=arguments,a=this,n=new this.constructor(T);void 0===n[A]&&V(n);var i,o=a._state;return o?(i=r[o-1],s(function(){return N(o,n,i,a._result)})):j(a,n,e,t),n}function k(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return P(t,e),t}h?_=function(){return t.nextTick(v)}:u?(y=0,x=new u(v),b=document.createTextNode(""),x.observe(b,{characterData:!0}),_=function(){b.data=y=++y%2}):f?((m=new MessageChannel).port1.onmessage=v,_=function(){return m.port2.postMessage(0)}):_=void 0===c?function(){try{var e=r(368);return o=e.runOnLoop||e.runOnContext,function(){o(v)}}catch(e){return p()}}():p();var A=Math.random().toString(36).substring(16);function T(){}var M=void 0,S=1,C=2,L=new F;function z(e){try{return e.then}catch(e){return L.error=e,L}}function I(t,r,a){r.constructor===t.constructor&&a===w&&r.constructor.resolve===k?function(e,t){t._state===S?D(e,t._result):t._state===C?R(e,t._result):j(t,void 0,function(t){return P(e,t)},function(t){return R(e,t)})}(t,r):a===L?R(t,L.error):void 0===a?D(t,r):e(a)?function(e,t,r){s(function(e){var a=!1,n=function(e,t,r,a){try{e.call(t,r,a)}catch(e){return e}}(r,t,function(r){a||(a=!0,t!==r?P(e,r):D(e,r))},function(t){a||(a=!0,R(e,t))},e._label);!a&&n&&(a=!0,R(e,n))},e)}(t,r,a):D(t,r)}function P(e,t){var r;e===t?R(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(r=t)||"object"==typeof r&&null!==r?I(e,t,z(t)):D(e,t)}function O(e){e._onerror&&e._onerror(e._result),E(e)}function D(e,t){e._state===M&&(e._result=t,e._state=S,0!==e._subscribers.length&&s(E,e))}function R(e,t){e._state===M&&(e._state=C,e._result=t,s(O,e))}function j(e,t,r,a){var n=e._subscribers,i=n.length;e._onerror=null,n[i]=t,n[i+S]=r,n[i+C]=a,0===i&&e._state&&s(E,e)}function E(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var a=void 0,n=void 0,i=e._result,o=0;o<t.length;o+=3)a=t[o],n=t[o+r],a?N(r,a,n,i):n(i);e._subscribers.length=0}}function F(){this.error=null}var B=new F;function N(t,r,a,n){var i=e(a),o=void 0,l=void 0,s=void 0,c=void 0;if(i){if((o=function(e,t){try{return e(t)}catch(e){return B.error=e,B}}(a,n))===B?(c=!0,l=o.error,o=null):s=!0,r===o)return void R(r,new TypeError("A promises callback cannot return that same promise."))}else o=n,s=!0;r._state!==M||(i&&s?P(r,o):c?R(r,l):t===S?D(r,o):t===C&&R(r,o))}var H=0;function V(e){e[A]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}function q(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[A]||V(this.promise),n(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&D(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}function G(e){this[A]=H++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof G?function(e,t){try{t(function(t){P(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function X(){var e=void 0;if(void 0!==a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=G}return q.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===M&&r<e;r++)this._eachEntry(t[r],r)},q.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,a=r.resolve;if(a===k){var n=z(e);if(n===w&&e._state!==M)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(r===G){var i=new r(T);I(i,e,n),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(a(e),t)},q.prototype._settledAt=function(e,t,r){var a=this.promise;a._state===M&&(this._remaining--,e===C?R(a,r):this._result[t]=r),0===this._remaining&&D(a,this._result)},q.prototype._willSettleAt=function(e,t){var r=this;j(e,void 0,function(e){return r._settledAt(S,t,e)},function(e){return r._settledAt(C,t,e)})},G.all=function(e){return new q(this,e).promise},G.race=function(e){var t=this;return n(e)?new t(function(r,a){for(var n=e.length,i=0;i<n;i++)t.resolve(e[i]).then(r,a)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},G.resolve=k,G.reject=function(e){var t=new this(T);return R(t,e),t},G._setScheduler=function(e){l=e},G._setAsap=function(e){s=e},G._asap=s,G.prototype={constructor:G,then:w,catch:function(e){return this.then(null,e)}},X(),G.polyfill=X,G.Promise=G,G},e.exports=n()}).call(t,r(367),r(15))},function(e,t){var r,a,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}}();var s,c=[],d=!1,u=-1;function h(){d&&s&&(d=!1,s.length?c=s.concat(c):u=-1,c.length&&f())}function f(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||d||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t){},function(e,t,r){"use strict";var a=r(0),n={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in n){var o=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");a.addStyleRule(o,n[i])}},function(e,t,r){"use strict";e.exports=function(){"undefined"!=typeof MathJax&&("local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()))}},function(e,t,r){"use strict";var a=r(338);t.plot=a.plot,t.newPlot=a.newPlot,t.restyle=a.restyle,t.relayout=a.relayout,t.redraw=a.redraw,t.update=a.update,t._guiRestyle=a._guiRestyle,t._guiRelayout=a._guiRelayout,t._guiUpdate=a._guiUpdate,t._storeDirectGUIEdit=a._storeDirectGUIEdit,t.react=a.react,t.extendTraces=a.extendTraces,t.prependTraces=a.prependTraces,t.addTraces=a.addTraces,t.deleteTraces=a.deleteTraces,t.moveTraces=a.moveTraces,t.purge=a.purge,t.addFrames=a.addFrames,t.deleteFrames=a.deleteFrames,t.animate=a.animate,t.setPlotConfig=a.setPlotConfig,t.toImage=r(341),t.validate=r(382),t.downloadImage=r(342);var n=r(384);t.makeTemplate=n.makeTemplate,t.validateTemplate=n.validateTemplate},function(e,t,r){"use strict";(e.exports=r(340)).manager=r(373)},function(e,t,r){"use strict";var a=r(3),n=r(0),i=r(11),o=r(340),l=r(374),s=n.extendDeepAll,c=e.exports={};c.framework=function(e){var t,r,n,i,d,u=new l;function h(r,l){return l&&(d=l),a.select(a.select(d).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?s(t,r):r,n||(n=o.Axis()),i=o.adapter.plotly().convert(t),n.config(i).render(d),e.data=t.data,e.layout=t.layout,c.fillLayout(e),t}return h.isPolar=!0,h.svg=function(){return n.svg()},h.getConfig=function(){return t},h.getLiveConfig=function(){return o.adapter.plotly().convert(n.getLiveConfig(),!0)},h.getLiveScales=function(){return{t:n.angularScale(),r:n.radialScale()}},h.setUndoPoint=function(){var e,a,n=this,i=o.util.cloneJson(t);e=i,a=r,u.add({undo:function(){a&&n(a)},redo:function(){n(e)}}),r=o.util.cloneJson(i)},h.undo=function(){u.undo()},h.redo=function(){u.redo()},h},c.fillLayout=function(e){var t=a.select(e).selectAll(".plot-container"),r=t.selectAll(".svg-container"),n=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:i.background,_container:t,_paperdiv:r,_paper:n};e._fullLayout=s(o,e.layout)}},function(e,t,r){"use strict";e.exports=function(){var e,t=[],r=-1,a=!1;function n(e,t){return e?(a=!0,e[t](),a=!1,this):this}return{add:function(e){return a?this:(t.splice(r+1,t.length-r),t.push(e),r=t.length-1,this)},setCallback:function(t){e=t},undo:function(){var a=t[r];return a?(n(a,"undo"),r-=1,e&&e(a.undo),this):this},redo:function(){var a=t[r+1];return a?(n(a,"redo"),r+=1,e&&e(a.redo),this):this},clear:function(){t=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[r-1]},getIndex:function(){return r}}}},function(e,t,r){"use strict";var a=r(376),n=r(45).flipScale;e.exports=function(e,t,r){if("function"==typeof r)return r(e,t);var i=t[0].trace,o="cb"+i.uid;r=Array.isArray(r)?r:[r];for(var l=0;l<r.length;l++){var s=r[l].container,c=s?i[s]:i;if(e._fullLayout._infolayer.selectAll("."+o).remove(),c&&c.showscale){var d=t[0].t.cb=a(e,o),u=c.reversescale?n(c.colorscale):c.colorscale;return void d.fillgradient(u).zrange([c[r[l].min],c[r[l].max]]).options(c.colorbar)()}}}},function(e,t,r){"use strict";var a=r(3),n=r(13),i=r(43),o=r(4),l=r(63),s=r(199),c=r(0),d=r(6).extendFlat,u=r(201),h=r(26),f=r(11),p=r(73),g=r(29),v=r(20),m=v.LINE_SPACING,y=v.FROM_TL,x=v.FROM_BR,b=r(228),_=r(229),w=r(14),k=r(49),A=r(377).cn;e.exports=function(e,t){var r={};for(var v in k)r[v]=null;function T(){var v=e._fullLayout,k=v._size;if("function"==typeof r.fillcolor||"function"==typeof r.line.color||r.fillgradient){var C,L,z=r.zrange||a.extent(("function"==typeof r.fillcolor?r.fillcolor:r.line.color).domain()),I=[],P=[],O="function"==typeof r.line.color?r.line.color:function(){return r.line.color},D="function"==typeof r.fillcolor?r.fillcolor:function(){return r.fillcolor},R=r.levels.end+r.levels.size/100,j=r.levels.size,E=1.001*z[0]-.001*z[1],F=1.001*z[1]-.001*z[0];for(L=0;L<1e5&&(C=r.levels.start+L*j,!(j>0?C>=R:C<=R));L++)C>E&&C<F&&I.push(C);if(r.fillgradient)P=[0];else if("function"==typeof r.fillcolor)if(r.filllevels)for(R=r.filllevels.end+r.filllevels.size/100,j=r.filllevels.size,L=0;L<1e5&&(C=r.filllevels.start+L*j,!(j>0?C>=R:C<=R));L++)C>z[0]&&C<z[1]&&P.push(C);else(P=I.map(function(e){return e-r.levels.size/2})).push(P[P.length-1]+r.levels.size);else r.fillcolor&&"string"==typeof r.fillcolor&&(P=[0]);r.levels.size<0&&(I.reverse(),P.reverse());var B,N=k.h,H=k.w,V=Math.round(r.thickness*("fraction"===r.thicknessmode?H:1)),q=V/k.w,G=Math.round(r.len*("fraction"===r.lenmode?N:1)),X=G/k.h,W=r.xpad/k.w,U=(r.borderwidth+r.outlinewidth)/2,Z=r.ypad/k.h,Y=Math.round(r.x*k.w+r.xpad),Q=r.x-q*({middle:.5,right:1}[r.xanchor]||0),J=r.y+X*(({top:-.5,bottom:.5}[r.yanchor]||0)-.5),$=Math.round(k.h*(1-J)),K=$-G,ee={type:"linear",range:z,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:"right",position:1},te={type:"linear",_id:"y"+t},re={letter:"y",font:v.font,noHover:!0,noTickson:!0,calendar:v.calendar};if(b(ee,te,ye,re,v),_(ee,te,ye,re),te.position=r.x+W+q,T.axis=te,-1!==["top","bottom"].indexOf(r.title.side)&&(te.title.side=r.title.side,te.titlex=r.x+W,te.titley=J+("top"===r.title.side?X-Z:Z)),r.line.color&&"auto"===r.tickmode){te.tickmode="linear",te.tick0=r.levels.start;var ae=r.levels.size,ne=c.constrain(($-K)/50,4,15)+1,ie=(z[1]-z[0])/((r.nticks||ne)*ae);if(ie>1){var oe=Math.pow(10,Math.floor(Math.log(ie)/Math.LN10));ae*=oe*c.roundUp(ie/oe,[2,5,10]),(Math.abs(r.levels.start)/r.levels.size+1e-6)%1<2e-6&&(te.tick0=0)}te.dtick=ae}te.domain=[J+Z,J+X-Z],te.setScale();var le=c.ensureSingle(v._infolayer,"g",t,function(e){e.classed(A.colorbar,!0).each(function(){var e=a.select(this);e.append("rect").classed(A.cbbg,!0),e.append("g").classed(A.cbfills,!0),e.append("g").classed(A.cblines,!0),e.append("g").classed(A.cbaxis,!0).classed(A.crisp,!0),e.append("g").classed(A.cbtitleunshift,!0).append("g").classed(A.cbtitle,!0),e.append("rect").classed(A.cboutline,!0),e.select(".cbtitle").datum(0)})});le.attr("transform","translate("+Math.round(k.l)+","+Math.round(k.t)+")");var se=le.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(k.l)+",-"+Math.round(k.t)+")"),ce=le.select(".cbaxis"),de=0;if(-1!==["top","bottom"].indexOf(r.title.side)){var ue,he=k.l+(r.x+W)*k.w,fe=te.title.font.size;ue="top"===r.title.side?(1-(J+X-Z))*k.h+k.t+3+.75*fe:(1-(J+Z))*k.h+k.t-3-.25*fe,xe(te._id+"title",{attributes:{x:he,y:ue,"text-anchor":"start"}})}var pe,ge,ve,me=c.syncOrAsync([i.previousPromises,function(){if(-1!==["top","bottom"].indexOf(r.title.side)){var i=le.select(".cbtitle"),o=i.select("text"),s=[-r.outlinewidth/2,r.outlinewidth/2],d=i.select(".h"+te._id+"title-math-group").node(),u=15.6;if(o.node()&&(u=parseInt(o.node().style.fontSize,10)*m),d?(de=h.bBox(d).height)>u&&(s[1]-=(de-u)/2):o.node()&&!o.classed(A.jsPlaceholder)&&(de=h.bBox(o.node()).height),de){if(de+=5,"top"===r.title.side)te.domain[1]-=de/k.h,s[1]*=-1;else{te.domain[0]+=de/k.h;var f=g.lineCount(o);s[1]+=(1-f)*u}i.attr("transform","translate("+s+")"),te.setScale()}}le.selectAll(".cbfills,.cblines").attr("transform","translate(0,"+Math.round(k.h*(1-te.domain[1]))+")"),ce.attr("transform","translate(0,"+Math.round(-k.t)+")");var p=le.select(".cbfills").selectAll("rect.cbfill").data(P);p.enter().append("rect").classed(A.cbfill,!0).style("stroke","none"),p.exit().remove();var y=z.map(te.c2p).map(Math.round).sort(function(e,t){return e-t});p.each(function(i,o){var l=[0===o?z[0]:(P[o]+P[o-1])/2,o===P.length-1?z[1]:(P[o]+P[o+1])/2].map(te.c2p).map(Math.round);l[1]=c.constrain(l[1]+(l[1]>l[0])?1:-1,y[0],y[1]);var s=a.select(this).attr({x:Y,width:Math.max(V,2),y:a.min(l),height:Math.max(a.max(l)-a.min(l),2)});if(r.fillgradient)h.gradient(s,e,t,"vertical",r.fillgradient,"fill");else{var d=D(i).replace("e-","");s.attr("fill",n(d).toHexString())}});var x=le.select(".cblines").selectAll("path.cbline").data(r.line.color&&r.line.width?I:[]);return x.enter().append("path").classed(A.cbline,!0),x.exit().remove(),x.each(function(e){a.select(this).attr("d","M"+Y+","+(Math.round(te.c2p(e))+r.line.width/2%1)+"h"+V).call(h.lineGroupStyle,r.line.width,O(e),r.line.dash)}),ce.selectAll("g."+te._id+"tick,path").remove(),c.syncOrAsync([function(){var t=Y+V+(r.outlinewidth||0)/2-("outside"===r.ticks?1:0),a=l.calcTicks(te),n=l.makeTransFn(te),i=l.getTickSigns(te)[2];return l.drawTicks(e,te,{vals:"inside"===te.ticks?l.clipEnds(te,a):a,layer:ce,path:l.makeTickPath(te,t,i),transFn:n}),l.drawLabels(e,te,{vals:a,layer:ce,transFn:n,labelFns:l.makeLabelFns(te,t)})},function(){if(-1===["top","bottom"].indexOf(r.title.side)){var t=te.title.font.size,n=te._offset+te._length/2,i=k.l+(te.position||0)*k.w+("right"===te.side?10+t*(te.showticklabels?1:.5):-10-t*(te.showticklabels?.5:0));xe("h"+te._id+"title",{avoid:{selection:a.select(e).selectAll("g."+te._id+"tick"),side:r.title.side,offsetLeft:k.l,offsetTop:0,maxShift:v.width},attributes:{x:i,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])},i.previousPromises,function(){var a=V+r.outlinewidth/2+h.bBox(ce.node()).width;if((B=se.select("text")).node()&&!B.classed(A.jsPlaceholder)){var n,o=se.select(".h"+te._id+"title-math-group").node();n=o&&-1!==["top","bottom"].indexOf(r.title.side)?h.bBox(o).width:h.bBox(se.node()).right-Y-k.l,a=Math.max(a,n)}var l=2*r.xpad+a+r.borderwidth+r.outlinewidth/2,s=$-K;le.select(".cbbg").attr({x:Y-r.xpad-(r.borderwidth+r.outlinewidth)/2,y:K-U,width:Math.max(l,2),height:Math.max(s+2*U,2)}).call(f.fill,r.bgcolor).call(f.stroke,r.bordercolor).style({"stroke-width":r.borderwidth}),le.selectAll(".cboutline").attr({x:Y,y:K+r.ypad+("top"===r.title.side?de:0),width:Math.max(V,2),height:Math.max(s-2*r.ypad-de,2)}).call(f.stroke,r.outlinecolor).style({fill:"None","stroke-width":r.outlinewidth});var c=({center:.5,right:1}[r.xanchor]||0)*l;le.attr("transform","translate("+(k.l-c)+","+k.t+")");var d={},u=y[r.yanchor],p=x[r.yanchor];"pixels"===r.lenmode?(d.y=r.y,d.t=s*u,d.b=s*p):(d.t=d.b=0,d.yt=r.y+r.len*u,d.yb=r.y-r.len*p);var g=y[r.xanchor],v=x[r.xanchor];if("pixels"===r.thicknessmode)d.x=r.x,d.l=l*g,d.r=l*v;else{var m=l-V;d.l=m*g,d.r=m*v,d.xl=r.x-r.thickness*g,d.xr=r.x+r.thickness*v}i.autoMargin(e,t,d)}],e);if(me&&me.then&&(e._promises||[]).push(me),e._context.edits.colorbarPosition)s.init({element:le.node(),gd:e,prepFn:function(){pe=le.attr("transform"),u(le)},moveFn:function(e,t){le.attr("transform",pe+" translate("+e+","+t+")"),ge=s.align(Q+e/k.w,q,0,1,r.xanchor),ve=s.align(J-t/k.h,X,0,1,r.yanchor);var a=s.getCursor(ge,ve,r.xanchor,r.yanchor);u(le,a)},doneFn:function(){if(u(le),void 0!==ge&&void 0!==ve){var t={};t[S("x")]=ge,t[S("y")]=ve,o.call("_guiRestyle",e,t,M().index)}}});return me}function ye(e,t){return c.coerce(ee,te,w,e,t)}function xe(t,r){var a={propContainer:te,propName:S("title"),traceIndex:M().index,placeholder:v._dfltTitle.colorbar,containerGroup:le.select(".cbtitle")},n="h"===t.charAt(0)?t.substr(1):"h"+t;le.selectAll("."+n+",."+n+"-math-group").remove(),p.draw(e,t,d(a,r||{}))}v._infolayer.selectAll("g."+t).remove()}function M(){for(var r=t.substr(2),a=0;a<e._fullData.length;a++){var n=e._fullData[a];if(n.uid===r)return n}}function S(e){var t="colorbar.",r=M()._module.colorbar.container;return r&&(t=r+"."+t),t+e}return r.fillcolor=null,r.line={color:null,width:null,dash:null},r.levels={start:null,end:null,size:null},r.filllevels=null,r.fillgradient=null,r.zrange=null,Object.keys(r).forEach(function(e){T[e]=function(t){return arguments.length?(r[e]=c.isPlainObject(r[e])?c.extendFlat(r[e],t):t,T):r[e]}}),T.options=function(e){for(var t in e)"function"==typeof T[t]&&T[t](e[t]);return T},T._opts=r,T}},function(e,t,r){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},function(e,t,r){"use strict";var a=r(23),n=r(51),i=r(22),o=r(92).sorterAsc,l=r(4);t.containerArrayMatch=r(379);var s=t.isAddVal=function(e){return"add"===e||a(e)},c=t.isRemoveVal=function(e){return null===e||"remove"===e};t.applyContainerArrayChanges=function(e,t,r,a,d){var u=t.astr,h=l.getComponentMethod(u,"supplyLayoutDefaults"),f=l.getComponentMethod(u,"draw"),p=l.getComponentMethod(u,"drawOne"),g=a.replot||a.recalc||h===n||f===n,v=e.layout,m=e._fullLayout;if(r[""]){Object.keys(r).length>1&&i.warn("Full array edits are incompatible with other edits",u);var y=r[""][""];if(c(y))t.set(null);else{if(!Array.isArray(y))return i.warn("Unrecognized full array edit value",u,y),!0;t.set(y)}return!g&&(h(v,m),f(e),!0)}var x,b,_,w,k,A,T,M,S=Object.keys(r).map(Number).sort(o),C=t.get(),L=C||[],z=d(m,u).get(),I=[],P=-1,O=L.length;for(x=0;x<S.length;x++)if(w=r[_=S[x]],k=Object.keys(w),A=w[""],T=s(A),_<0||_>L.length-(T?0:1))i.warn("index out of range",u,_);else if(void 0!==A)k.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,_),c(A)?I.push(_):T?("add"===A&&(A={}),L.splice(_,0,A),z&&z.splice(_,0,{})):i.warn("Unrecognized full object edit value",u,_,A),-1===P&&(P=_);else for(b=0;b<k.length;b++)M=u+"["+_+"].",d(L[_],k[b],M).set(w[k[b]]);for(x=I.length-1;x>=0;x--)L.splice(I[x],1),z&&z.splice(I[x],1);if(L.length?C||t.set(L):t.set(null),g)return!1;if(h(v,m),p!==n){var D;if(-1===P)D=S;else{for(O=Math.max(L.length,O),D=[],x=0;x<S.length&&!((_=S[x])>=P);x++)D.push(_);for(x=P;x<O;x++)D.push(x)}for(x=0;x<D.length;x++)p(e,D[x])}else f(e);return!0}},function(e,t,r){"use strict";var a=r(4);e.exports=function(e){for(var t,r,n=a.layoutArrayContainers,i=a.layoutArrayRegexes,o=e.split("[")[0],l=0;l<i.length;l++)if((r=e.match(i[l]))&&0===r.index){t=r[0];break}if(t||(t=n[n.indexOf(o)]),!t)return!1;var s=e.substr(t.length);return s?!!(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(r[1]),property:r[3]||""}:{array:t,index:"",property:""}}},function(e,t,r){"use strict";var a=r(1),n=r(381),i=r(4),o=r(0),l=r(43),s=r(27),c=r(11),d=s.cleanId,u=s.getFromTrace,h=i.traceIs;function f(e,t){var r=e[t],a=t.charAt(0);r&&"paper"!==r&&(e[t]=d(r,a))}function p(e){function t(t,r){var a=e[t],n=e.title&&e.title[r];a&&!n&&(e.title||(e.title={}),e.title[r]=e[t],delete e[t])}e&&("string"!=typeof e.title&&"number"!=typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function g(e){if(!o.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function v(e,t,r,a){if(r&&!a)return e;if(a&&!r)return t;if(!e.trim())return t;if(!t.trim())return e;var n,i=Math.min(e.length,t.length);for(n=0;n<i&&e.charAt(n)===t.charAt(n);n++);return e.substr(0,n).trim()}function m(e){var t="middle",r="center";return"string"==typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?r="left":-1!==e.indexOf("right")&&(r="right")),t+" "+r}function y(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}t.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&o.log("Clearing previous rejected promises from queue."),e._promises=[]},t.cleanLayout=function(e){var r,a;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var i=(l.subplotsRegistry.cartesian||{}).attrRegex,s=(l.subplotsRegistry.polar||{}).attrRegex,u=(l.subplotsRegistry.ternary||{}).attrRegex,h=(l.subplotsRegistry.gl3d||{}).attrRegex,g=Object.keys(e);for(r=0;r<g.length;r++){var v=g[r];if(i&&i.test(v)){var m=e[v];m.anchor&&"free"!==m.anchor&&(m.anchor=d(m.anchor)),m.overlaying&&(m.overlaying=d(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":!1===m.isdate&&!1===m.islog&&(m.type="linear")),"withzero"!==m.autorange&&"tozero"!==m.autorange||(m.autorange=!0,m.rangemode="tozero"),delete m.islog,delete m.isdate,delete m.categories,y(m,"domain")&&delete m.domain,void 0!==m.autotick&&(void 0===m.tickmode&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),p(m)}else if(s&&s.test(v)){p(e[v].radialaxis)}else if(u&&u.test(v)){var x=e[v];p(x.aaxis),p(x.baxis),p(x.caxis)}else if(h&&h.test(v)){var b=e[v],_=b.cameraposition;if(Array.isArray(_)&&4===_[0].length){var w=_[0],k=_[1],A=_[2],T=n([],w),M=[];for(a=0;a<3;++a)M[a]=k[a]+A*T[2+4*a];b.camera={eye:{x:M[0],y:M[1],z:M[2]},center:{x:k[0],y:k[1],z:k[2]},up:{x:0,y:0,z:1}},delete b.cameraposition}p(b.xaxis),p(b.yaxis),p(b.zaxis)}}var S=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<S;r++){var C=e.annotations[r];o.isPlainObject(C)&&(C.ref&&("paper"===C.ref?(C.xref="paper",C.yref="paper"):"data"===C.ref&&(C.xref="x",C.yref="y"),delete C.ref),f(C,"xref"),f(C,"yref"))}var L=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<L;r++){var z=e.shapes[r];o.isPlainObject(z)&&(f(z,"xref"),f(z,"yref"))}var I=e.legend;return I&&(I.x>3?(I.x=1.02,I.xanchor="left"):I.x<-2&&(I.x=-.02,I.xanchor="right"),I.y>3?(I.y=1.02,I.yanchor="bottom"):I.y<-2&&(I.y=-.02,I.yanchor="top")),p(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),c.clean(e),e.template&&e.template.layout&&t.cleanLayout(e.template.layout),e},t.cleanData=function(e){for(var r=0;r<e.length;r++){var a,n=e[r];if("histogramy"===n.type&&"xbins"in n&&!("ybins"in n)&&(n.ybins=n.xbins,delete n.xbins),n.error_y&&"opacity"in n.error_y){var s=c.defaults,u=n.error_y.color||(h(n,"bar")?c.defaultLine:s[r%s.length]);n.error_y.color=c.addOpacity(c.rgb(u),c.opacity(u)*n.error_y.opacity),delete n.error_y.opacity}if("bardir"in n&&("h"!==n.bardir||!h(n,"bar")&&"histogram"!==n.type.substr(0,9)||(n.orientation="h",t.swapXYData(n)),delete n.bardir),"histogramy"===n.type&&t.swapXYData(n),"histogramx"!==n.type&&"histogramy"!==n.type||(n.type="histogram"),"scl"in n&&!("colorscale"in n)&&(n.colorscale=n.scl,delete n.scl),"reversescl"in n&&!("reversescale"in n)&&(n.reversescale=n.reversescl,delete n.reversescl),n.xaxis&&(n.xaxis=d(n.xaxis,"x")),n.yaxis&&(n.yaxis=d(n.yaxis,"y")),h(n,"gl3d")&&n.scene&&(n.scene=l.subplotsRegistry.gl3d.cleanId(n.scene)),!h(n,"pie")&&!h(n,"bar")&&"waterfall"!==n.type)if(Array.isArray(n.textposition))for(a=0;a<n.textposition.length;a++)n.textposition[a]=m(n.textposition[a]);else n.textposition&&(n.textposition=m(n.textposition));var f=i.getModule(n);if(f&&f.colorbar){var x=f.colorbar.container,b=x?n[x]:n;b&&b.colorscale&&("YIGnBu"===b.colorscale&&(b.colorscale="YlGnBu"),"YIOrRd"===b.colorscale&&(b.colorscale="YlOrRd"))}if("surface"===n.type&&o.isPlainObject(n.contours)){var _=["x","y","z"];for(a=0;a<_.length;a++){var w=n.contours[_[a]];o.isPlainObject(w)&&(w.highlightColor&&(w.highlightcolor=w.highlightColor,delete w.highlightColor),w.highlightWidth&&(w.highlightwidth=w.highlightWidth,delete w.highlightWidth))}}if("candlestick"===n.type||"ohlc"===n.type){var k=!1!==(n.increasing||{}).showlegend,A=!1!==(n.decreasing||{}).showlegend,T=g(n.increasing),M=g(n.decreasing);if(!1!==T&&!1!==M){var S=v(T,M,k,A);S&&(n.name=S)}else!T&&!M||n.name||(n.name=T||M)}if(Array.isArray(n.transforms)){var C=n.transforms;for(a=0;a<C.length;a++){var L=C[a];if(o.isPlainObject(L))switch(L.type){case"filter":L.filtersrc&&(L.target=L.filtersrc,delete L.filtersrc),L.calendar&&(L.valuecalendar||(L.valuecalendar=L.calendar),delete L.calendar);break;case"groupby":if(L.styles=L.styles||L.style,L.styles&&!Array.isArray(L.styles)){var z=L.styles,I=Object.keys(z);L.styles=[];for(var P=0;P<I.length;P++)L.styles.push({target:I[P],value:z[I[P]]})}}}}y(n,"line")&&delete n.line,"marker"in n&&(y(n.marker,"line")&&delete n.marker.line,y(n,"marker")&&delete n.marker),c.clean(n),n.autobinx&&(delete n.autobinx,delete n.xbins),n.autobiny&&(delete n.autobiny,delete n.ybins),p(n),n.colorbar&&p(n.colorbar),n.marker&&n.marker.colorbar&&p(n.marker.colorbar),n.line&&n.line.colorbar&&p(n.line.colorbar),n.aaxis&&p(n.aaxis),n.baxis&&p(n.baxis)}},t.swapXYData=function(e){var t;if(o.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var r=e.error_y,a="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);o.swapAttrs(e,["error_?.copy_ystyle"]),a&&o.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var n=e.hoverinfo.split("+");for(t=0;t<n.length;t++)"x"===n[t]?n[t]="y":"y"===n[t]&&(n[t]="x");e.hoverinfo=n.join("+")}},t.coerceTraceIndices=function(e,t){if(a(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map(function(e,t){return t});if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)o.isIndex(t[n],e.data.length)?r.push(t[n]):o.warn("trace index (",t[n],") is not a number or is out of bounds");return r}return t},t.manageArrayContainers=function(e,t,r){var n=e.obj,i=e.parts,l=i.length,s=i[l-1],c=a(s);if(c&&null===t){var d=i.slice(0,l-1).join(".");o.nestedProperty(n,d).get().splice(s,1)}else c&&void 0===e.get()?(void 0===e.get()&&(r[e.astr]=null),e.set(t)):e.set(t)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function b(e){var t=e.search(x);if(t>0)return e.substr(0,t)}t.hasParent=function(e,t){for(var r=b(t);r;){if(r in e)return!0;r=b(r)}return!1};var _=["x","y","z"];t.clearAxisTypes=function(e,t,r){for(var a=0;a<t.length;a++)for(var n=e._fullData[a],i=0;i<3;i++){var l=u(e,n,_[i]);if(l&&"log"!==l.type){var s=l._name,c=l._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==r[c])continue;s=c+"."+s}var d=s+".type";void 0===r[s]&&void 0===r[d]&&o.nestedProperty(e.layout,d).set(null)}}}},function(e,t){e.exports=function(e,t){var r=t[0],a=t[1],n=t[2],i=t[3],o=r+r,l=a+a,s=n+n,c=r*o,d=a*o,u=a*l,h=n*o,f=n*l,p=n*s,g=i*o,v=i*l,m=i*s;return e[0]=1-u-p,e[1]=d+m,e[2]=h-v,e[3]=0,e[4]=d-m,e[5]=1-c-p,e[6]=f+g,e[7]=0,e[8]=h+v,e[9]=f-g,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t,r){"use strict";var a=r(0),n=r(43),i=r(48),o=r(47).dfltConfig,l=a.isPlainObject,s=Array.isArray,c=a.isArrayOrTypedArray;function d(e,t,r,n,i,o){o=o||[];for(var u=Object.keys(e),h=0;h<u.length;h++){var v=u[h];if("transforms"!==v){var m=o.slice();m.push(v);var y=e[v],x=t[v],b=g(r,v),_="info_array"===(b||{}).valType,w="colorscale"===(b||{}).valType,k=(b||{}).items;if(p(r,v))if(l(y)&&l(x))d(y,x,b,n,i,m);else if(_&&s(y)){y.length>x.length&&n.push(f("unused",i,m.concat(x.length)));var A,T,M,S,C,L=x.length,z=Array.isArray(k);if(z&&(L=Math.min(L,k.length)),2===b.dimensions)for(T=0;T<L;T++)if(s(y[T])){y[T].length>x[T].length&&n.push(f("unused",i,m.concat(T,x[T].length)));var I=x[T].length;for(A=0;A<(z?Math.min(I,k[T].length):I);A++)M=z?k[T][A]:k,S=y[T][A],C=x[T][A],a.validate(S,M)?C!==S&&C!==+S&&n.push(f("dynamic",i,m.concat(T,A),S,C)):n.push(f("value",i,m.concat(T,A),S))}else n.push(f("array",i,m.concat(T),y[T]));else for(T=0;T<L;T++)M=z?k[T]:k,S=y[T],C=x[T],a.validate(S,M)?C!==S&&C!==+S&&n.push(f("dynamic",i,m.concat(T),S,C)):n.push(f("value",i,m.concat(T),S))}else if(b.items&&!_&&s(y)){var P,O,D=k[Object.keys(k)[0]],R=[];for(P=0;P<x.length;P++){var j=x[P]._index||P;if((O=m.slice()).push(j),l(y[j])&&l(x[P])){R.push(j);var E=y[j],F=x[P];l(E)&&!1!==E.visible&&!1===F.visible?n.push(f("invisible",i,O)):d(E,F,D,n,i,O)}}for(P=0;P<y.length;P++)(O=m.slice()).push(P),l(y[P])?-1===R.indexOf(P)&&n.push(f("unused",i,O)):n.push(f("object",i,O,y[P]))}else!l(y)&&l(x)?n.push(f("object",i,m,y)):c(y)||!c(x)||_||w?v in t?a.validate(y,b)?"enumerated"===b.valType&&(b.coerceNumber&&y!==+x||y!==x)&&n.push(f("dynamic",i,m,y,x)):n.push(f("value",i,m,y)):n.push(f("unused",i,m,y)):n.push(f("array",i,m,y));else n.push(f("schema",i,m))}}return n}e.exports=function(e,t){var r,c,u=i.get(),h=[],p={_context:a.extendFlat({},o)};s(e)?(p.data=a.extendDeep([],e),r=e):(p.data=[],r=[],h.push(f("array","data"))),l(t)?(p.layout=a.extendDeep({},t),c=t):(p.layout={},c={},arguments.length>1&&h.push(f("object","layout"))),n.supplyDefaults(p);for(var g=p._fullData,v=r.length,m=0;m<v;m++){var y=r[m],x=["data",m];if(l(y)){var b=g[m],_=b.type,w=u.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===b.visible&&!1!==y.visible&&h.push(f("invisible",x)),d(y,b,w,h,x);var k=y.transforms,A=b.transforms;if(k){s(k)||h.push(f("array",x,["transforms"])),x.push("transforms");for(var T=0;T<k.length;T++){var M=["transforms",T],S=k[T].type;if(l(k[T])){var C=u.transforms[S]?u.transforms[S].attributes:{};C.type={valType:"enumerated",values:Object.keys(u.transforms)},d(k[T],A[T],C,h,x,M)}else h.push(f("object",x,M))}}}else h.push(f("object",x))}return d(c,p._fullLayout,function(e,t){for(var r=e.layout.layoutAttributes,n=0;n<t.length;n++){var i=t[n],o=e.traces[i.type],l=o.layoutAttributes;l&&(i.subplot?a.extendFlat(r[o.attributes.subplot.dflt],l):a.extendFlat(r,l))}return r}(u,g),h,"layout"),0===h.length?void 0:h};var u={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":h(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":h(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return h(e)+"key "+t+" is not part of the schema"},unused:function(e,t,r){var a=l(r)?"container":"key";return h(e)+a+" "+t+" did not get coerced"},dynamic:function(e,t,r,a){return[h(e)+"key",t,"(set to '"+r+"')","got reset to","'"+a+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?h(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,r){return[h(e)+"key "+t,"is set to an invalid value ("+r+")"].join(" ")}};function h(e){return s(e)?"In data trace "+e[1]+", ":"In "+e+", "}function f(e,t,r,n,i){var o,l;r=r||"",s(t)?(o=t[0],l=t[1]):(o=t,l=null);var c=function(e){if(!s(e))return String(e);for(var t="",r=0;r<e.length;r++){var a=e[r];"number"==typeof a?t=t.substr(0,t.length-1)+"["+a+"]":t+=a,r<e.length-1&&(t+=".")}return t}(r),d=u[e](t,c,n,i);return a.log(d),{code:e,container:o,trace:l,path:r,astr:c,msg:d}}function p(e,t){var r=m(t),a=r.keyMinusId,n=r.id;return!!(a in e&&e[a]._isSubplotObj&&n)||t in e}function g(e,t){return t in e?e[t]:e[m(t).keyMinusId]}var v=a.counterRegex("([a-z]+)");function m(e){var t=e.match(v);return{keyMinusId:t&&t[1],id:t&&t[2]}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=document.createElement("a"),a="download"in r,n=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(i,o){if("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&o(new Error("IE < 10 unsupported")),n&&(document.location.href="data:application/octet-stream"+e.slice(e.search(/[,;]/)),i(t)),t||(t="download"),a&&(r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),i(t)),"undefined"!=typeof navigator&&navigator.msSaveBlob){var l=e.split(/^data:image\/svg\+xml,/)[1],s=decodeURIComponent(l);navigator.msSaveBlob(new Blob([s]),t),i(t)}o(new Error("download error"))})}},function(e,t,r){"use strict";var a=r(0),n=a.isPlainObject,i=r(48),o=r(43),l=r(17),s=r(12),c=r(47).dfltConfig;function d(e,t){e=a.extendDeep({},e);var r,i,o=Object.keys(e).sort();function l(t,r,a){if(n(r)&&n(t))d(t,r);else if(Array.isArray(r)&&Array.isArray(t)){var o=s.arrayTemplater({_template:e},a);for(i=0;i<r.length;i++){var l=r[i],c=o.newItem(l)._template;c&&d(c,l)}var u=o.defaultItems();for(i=0;i<u.length;i++)r.push(u[i]._template);for(i=0;i<r.length;i++)delete r[i].templateitemname}}for(r=0;r<o.length;r++){var c=o[r],h=e[c];if(c in t?l(h,t[c],c):t[c]=h,u(c)===c)for(var f in t){var p=u(f);f===p||p!==c||f in e||l(h,t[f],c)}}}function u(e){return e.replace(/[0-9]+$/,"")}function h(e,t,r,i,o){var l=o&&r(o);for(var c in e){var d=e[c],p=f(e,c,i),g=f(e,c,o),v=r(g);if(!v){var m=u(c);m!==c&&(v=r(g=f(e,m,o)))}if((!l||l!==v)&&!(!v||v._noTemplating||"data_array"===v.valType||v.arrayOk&&Array.isArray(d)))if(!v.valType&&n(d))h(d,t,r,p,g);else if(v._isLinkedToArray&&Array.isArray(d))for(var y=!1,x=0,b={},_=0;_<d.length;_++){var w=d[_];if(n(w)){var k=w.name;if(k)b[k]||(h(w,t,r,f(d,x,p),f(d,x,g)),x++,b[k]=1);else if(!y){var A=f(e,s.arrayDefaultKey(c),i),T=f(d,x,p);h(w,t,r,T,f(d,x,g));var M=a.nestedProperty(t,T);a.nestedProperty(t,A).set(M.get()),M.set(null),y=!0}}}else{a.nestedProperty(t,p).set(d)}}}function f(e,t,r){return r?Array.isArray(e)?r+"["+t+"]":r+"."+t:t}function p(e){for(var t=0;t<e.length;t++)if(n(e[t]))return!0}function g(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}t.makeTemplate=function(e){e=a.isPlainObject(e)?e:a.getGraphDiv(e),e=a.extendDeep({_context:c},{data:e.data,layout:e.layout}),o.supplyDefaults(e);var t=e.data||[],r=e.layout||{};r._basePlotModules=e._fullLayout._basePlotModules,r._modules=e._fullLayout._modules;var s={data:{},layout:{}};t.forEach(function(e){var t={};h(e,t,function(e,t){return i.getTraceValObject(e,a.nestedProperty({},t).parts)}.bind(null,e));var r=a.coerce(e,{},l,"type"),n=s.data[r];n||(n=s.data[r]=[]),n.push(t)}),h(r,s.layout,function(e,t){return i.getLayoutValObject(e,a.nestedProperty({},t).parts)}.bind(null,r)),delete s.layout.template;var u=r.template;if(n(u)){var f,p,g,v,m,y,x=u.layout;n(x)&&d(x,s.layout);var b=u.data;if(n(b)){for(p in s.data)if(g=b[p],Array.isArray(g)){for(y=(m=s.data[p]).length,v=g.length,f=0;f<y;f++)d(g[f%v],m[f]);for(f=y;f<v;f++)m.push(a.extendDeep({},g[f]))}for(p in b)p in s.data||(s.data[p]=a.extendDeep([],b[p]))}}return s},t.validateTemplate=function(e,t){var r=a.extendDeep({},{_context:c,data:e.data,layout:e.layout}),i=r.layout||{};n(t)||(t=i.template||{});var l=t.layout,s=t.data,d=[];r.layout=i,r.layout.template=t,o.supplyDefaults(r);var h=r._fullLayout,v=r._fullData,m={};if(n(l)?(!function e(t,r){for(var a in t)if("_"!==a.charAt(0)&&n(t[a])){var i,o=u(a),l=[];for(i=0;i<r.length;i++)l.push(f(t,a,r[i])),o!==a&&l.push(f(t,o,r[i]));for(i=0;i<l.length;i++)m[l[i]]=1;e(t[a],l)}}(h,["layout"]),function e(t,r){for(var a in t)if(-1===a.indexOf("defaults")&&n(t[a])){var i=f(t,a,r);m[i]?e(t[a],i):d.push({code:"unused",path:i})}}(l,"layout")):d.push({code:"layout"}),n(s)){for(var y,x={},b=0;b<v.length;b++){var _=v[b];x[y=_.type]=(x[y]||0)+1,_._fullInput._template||d.push({code:"missing",index:_._fullInput.index,traceType:y})}for(y in s){var w=s[y].length,k=x[y]||0;w>k?d.push({code:"unused",traceType:y,templateCount:w,dataCount:k}):k>w&&d.push({code:"reused",traceType:y,templateCount:w,dataCount:k})}}else d.push({code:"data"});if(function e(t,r){for(var a in t)if("_"!==a.charAt(0)){var i=t[a],o=f(t,a,r);n(i)?(Array.isArray(t)&&!1===i._template&&i.templateitemname&&d.push({code:"missing",path:o,templateitemname:i.templateitemname}),e(i,o)):Array.isArray(i)&&p(i)&&e(i,o)}}({data:v,layout:h},""),d.length)return d.map(g)}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:r(343),supplyLayoutDefaults:r(386),draw:r(387),style:r(344)}},function(e,t,r){"use strict";var a=r(4),n=r(0),i=r(12),o=r(343),l=r(33),s=r(313);e.exports=function(e,t,r){for(var c,d,u,h,f=e.legend||{},p=0,g=!1,v="normal",m=0;m<r.length;m++){var y=r[m];y.visible&&((y.showlegend||y._dfltShowLegend)&&(p++,y.showlegend&&(g=!0,(a.traceIs(y,"pie")||!0===y._input.showlegend)&&p++)),(a.traceIs(y,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(y.fill))&&(v=s.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(v=s.isReversed({traceorder:v})?"reversed+grouped":"grouped"))}var x=n.coerce(e,t,l,"showlegend",g&&p>1);if(!1!==x||f.uirevision){var b=i.newContainer(t,"legend");if(w("uirevision",t.uirevision),!1!==x){if(w("bgcolor",t.paper_bgcolor),w("bordercolor"),w("borderwidth"),n.coerceFont(w,"font",t.font),w("orientation"),"h"===b.orientation){var _=e.xaxis;a.getComponentMethod("rangeslider","isVisible")(_)?(c=0,u="left",d=1.1,h="bottom"):(c=0,u="left",d=-.1,h="top")}w("traceorder",v),s.isGrouped(t.legend)&&w("tracegroupgap"),w("itemsizing"),w("x",c),w("xanchor",u),w("y",d),w("yanchor",h),w("valign"),n.noneOrAll(f,b,["x","y"])}}function w(e,t){return n.coerce(f,b,o,e,t)}}},function(e,t,r){"use strict";var a=r(3),n=r(0),i=r(43),o=r(4),l=r(203),s=r(199),c=r(26),d=r(11),u=r(29),h=r(388),f=r(389),p=r(32),g=r(20),v=g.LINE_SPACING,m=g.FROM_TL,y=g.FROM_BR,x=r(390),b=r(344),_=r(313),w=p.DBLCLICKDELAY;function k(e,t,r,a,n){var i=r.data()[0][0].trace,o={event:n,node:r.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(i._group&&(o.group=i._group),"pie"===i.type&&(o.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",o))if(1===a)t._clickTimeout=setTimeout(function(){h(r,e,a)},w);else if(2===a){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",o)&&h(r,e,a)}}function A(e,t,r){var a=e.data()[0][0],i=t._fullLayout,l=a.trace,s=o.traceIs(l,"pie"),d=l.index,h=t._context.edits.legendText&&!s,p=s?a.label:l.name;i.meta&&(p=n.templateString(p,{meta:i.meta}));var g=n.ensureSingle(e,"text","legendtext");function m(r){u.convertToTspans(r,t,function(){!function(e,t){var r=e.data()[0][0];if(!r.trace.showlegend)return void e.remove();var a,n,i=e.select("g[class*=math-group]"),o=i.node(),l=t._fullLayout.legend.font.size*v;if(o){var s=c.bBox(o);a=s.height,n=s.width,c.setTranslate(i,0,a/4)}else{var d=e.select(".legendtext"),h=u.lineCount(d),p=d.node();a=l*h,n=p?c.bBox(p).width:0;var g=l*(.3+(1-h)/2);u.positionText(d,f.textOffsetX,g)}r.lineHeight=l,r.height=Math.max(a,16)+3,r.width=n}(e,t)})}g.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,i.legend.font).text(h?T(p,r):p),u.positionText(g,f.textOffsetX,0),h?g.call(u.makeEditable,{gd:t,text:p}).call(m).on("edit",function(e){this.text(T(e,r)).call(m);var i=a.trace._fullInput||{},l={};if(o.hasTransform(i,"groupby")){var s=o.getTransformIndices(i,"groupby"),c=s[s.length-1],u=n.keyedContainer(i,"transforms["+c+"].styles","target","value.name");u.set(a.trace._group,e),l=u.constructUpdate()}else l.name=e;return o.call("_guiRestyle",t,l,d)}):m(g)}function T(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;for(var a=r-(e=e||"").length;a>0;a--)e+=" ";return e}function M(e,t){var r,i=1,o=n.ensureSingle(e,"rect","legendtoggle",function(e){e.style("cursor","pointer").attr("pointer-events","all").call(d.fill,"rgba(0,0,0,0)")});o.on("mousedown",function(){(r=(new Date).getTime())-t._legendMouseDownTime<w?i+=1:(i=1,t._legendMouseDownTime=r)}),o.on("mouseup",function(){if(!t._dragged&&!t._editing){var r=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>w&&(i=Math.max(i-1,1)),k(t,r,e,i,a.event)}})}function S(e,t,r){var i=e._fullLayout,o=i.legend,l=o.borderwidth,s=_.isGrouped(o),d=0;if(o._width=0,o._height=0,_.isVertical(o))s&&t.each(function(e,t){c.setTranslate(this,0,t*o.tracegroupgap)}),r.each(function(e){var t=e[0],r=t.height,a=t.width;c.setTranslate(this,l,5+l+o._height+r/2),o._height+=r,o._width=Math.max(o._width,a)}),o._width+=45+2*l,o._height+=10+2*l,s&&(o._height+=(o._lgroupsLength-1)*o.tracegroupgap),d=40;else if(s){var u,h=0,f=0,p=t.data(),g=0;for(u=0;u<p.length;u++){var v=p[u],m=v.map(function(e){return e[0].width}),y=n.aggNums(Math.max,null,m),x=v.reduce(function(e,t){return e+t[0].height},0);f=Math.max(f,y),h=Math.max(h,x),g=Math.max(g,v.length)}f+=5,f+=40;var b=[o._width],w=[],k=0;for(u=0;u<p.length;u++){i._size.w<l+o._width+5+f?(b[b.length-1]=b[0],o._width=f,k++):o._width+=f+l;var A=k*h;A+=k>0?o.tracegroupgap:0,w.push(A),b.push(o._width)}t.each(function(e,t){c.setTranslate(this,b[t],w[t])}),t.each(function(){var e=0;a.select(this).selectAll("g.traces").each(function(t){var r=t[0].height;c.setTranslate(this,0,5+l+e+r/2),e+=r})});var T=w[w.length-1]+h;o._height=10+2*l+T;var M=Math.max.apply(null,b);o._width=M+f+40,o._width+=2*l}else{var S=0,C=0,L=0,z=0,I=0;r.each(function(e){L=Math.max(40+e[0].width,L),I+=40+e[0].width+5});var P=i._size.w>l+I-5;r.each(function(e){var t=e[0],r=P?40+e[0].width:L;l+z+5+r>i._size.w&&(z=0,S+=C,o._height+=C,C=0),c.setTranslate(this,l+z,5+l+t.height/2+S),o._width+=5+r,z+=5+r,C=Math.max(t.height,C)}),P?o._height=C:o._height+=C,o._width+=2*l,o._height+=10+2*l}o._width=Math.ceil(o._width),o._height=Math.ceil(o._height);var O=e._context.edits.legendText||e._context.edits.legendPosition;r.each(function(e){var t=e[0],r=a.select(this).select(".legendtoggle");c.setRect(r,0,-t.height/2,(O?0:o._width)+d,t.height)})}function C(e){var t=e._fullLayout.legend,r="left";n.isRightAnchor(t)?r="right":n.isCenterAnchor(t)&&(r="center");var a="top";n.isBottomAnchor(t)?a="bottom":n.isMiddleAnchor(t)&&(a="middle"),i.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*m[r],r:t._width*y[r],b:t._height*y[a],t:t._height*m[a]})}e.exports=function(e){var t=e._fullLayout,r="legend"+t._uid;if(t._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var l=t.legend,u=t.showlegend&&x(e.calcdata,l),h=t.hiddenlabels||[];if(!t.showlegend||!u.length)return t._infolayer.selectAll(".legend").remove(),t._topdefs.select("#"+r).remove(),void i.autoMargin(e,"legend");for(var p=0,g=0;g<u.length;g++)for(var v=0;v<u[g].length;v++){var _=u[g][v][0],w=_.trace,T=o.traceIs(w,"pie")?_.label:w.name;p=Math.max(p,T&&T.length||0)}var L=!1,z=n.ensureSingle(t._infolayer,"g","legend",function(e){e.attr("pointer-events","all"),L=!0}),I=n.ensureSingleById(t._topdefs,"clipPath",r,function(e){e.append("rect")}),P=n.ensureSingle(z,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});P.call(d.stroke,l.bordercolor).call(d.fill,l.bgcolor).style("stroke-width",l.borderwidth+"px");var O=n.ensureSingle(z,"g","scrollbox"),D=n.ensureSingle(z,"rect","scrollbar",function(e){e.attr({rx:20,ry:3,width:0,height:0}).call(d.fill,"#808BA4")}),R=O.selectAll("g.groups").data(u);R.enter().append("g").attr("class","groups"),R.exit().remove();var j=R.selectAll("g.traces").data(n.identity);j.enter().append("g").attr("class","traces"),j.exit().remove(),j.style("opacity",function(e){var t=e[0].trace;return o.traceIs(t,"pie")?-1!==h.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){a.select(this).call(A,e,p)}).call(b,e).each(function(){a.select(this).call(M,e)}),n.syncOrAsync([i.previousPromises,function(){L&&(S(e,R,j),C(e));var d=t.width,u=t.height;S(e,R,j),l._height>u?function(e){var t=e._fullLayout.legend,r="left";n.isRightAnchor(t)?r="right":n.isCenterAnchor(t)&&(r="center");i.autoMargin(e,"legend",{x:t.x,y:.5,l:t._width*m[r],r:t._width*y[r],b:0,t:0})}(e):C(e);var h=t._size,p=h.l+h.w*l.x,g=h.t+h.h*(1-l.y);n.isRightAnchor(l)?p-=l._width:n.isCenterAnchor(l)&&(p-=l._width/2),n.isBottomAnchor(l)?g-=l._height:n.isMiddleAnchor(l)&&(g-=l._height/2);var v=l._width,x=h.w;v>x?(p=h.l,v=x):(p+v>d&&(p=d-v),p<0&&(p=0),v=Math.min(d-p,l._width));var b,_,w,A,T=l._height,M=h.h;if(T>M?(g=h.t,T=M):(g+T>u&&(g=u-T),g<0&&(g=0),T=Math.min(u-g,l._height)),c.setTranslate(z,p,g),D.on(".drag",null),z.on("wheel",null),l._height<=T||e._context.staticPlot)P.attr({width:v-l.borderwidth,height:T-l.borderwidth,x:l.borderwidth/2,y:l.borderwidth/2}),c.setTranslate(O,0,0),I.select("rect").attr({width:v-2*l.borderwidth,height:T-2*l.borderwidth,x:l.borderwidth,y:l.borderwidth}),c.setClipUrl(O,r,e),c.setRect(D,0,0,0,0),delete l._scrollY;else{var E,F,B=Math.max(f.scrollBarMinHeight,T*T/l._height),N=T-B-2*f.scrollBarMargin,H=l._height-T,V=N/H,q=Math.min(l._scrollY||0,H);P.attr({width:v-2*l.borderwidth+f.scrollBarWidth+f.scrollBarMargin,height:T-l.borderwidth,x:l.borderwidth/2,y:l.borderwidth/2}),I.select("rect").attr({width:v-2*l.borderwidth+f.scrollBarWidth+f.scrollBarMargin,height:T-2*l.borderwidth,x:l.borderwidth,y:l.borderwidth+q}),c.setClipUrl(O,r,e),X(q,B,V),z.on("wheel",function(){X(q=n.constrain(l._scrollY+a.event.deltaY/N*H,0,H),B,V),0!==q&&q!==H&&a.event.preventDefault()});var G=a.behavior.drag().on("dragstart",function(){E=a.event.sourceEvent.clientY,F=q}).on("drag",function(){var e=a.event.sourceEvent;2===e.buttons||e.ctrlKey||X(q=n.constrain((e.clientY-E)/V+F,0,H),B,V)});D.call(G)}function X(t,r,a){l._scrollY=e._fullLayout.legend._scrollY=t,c.setTranslate(O,0,-t),c.setRect(D,v,f.scrollBarMargin+t*a,f.scrollBarWidth,r),I.select("rect").attr({y:l.borderwidth+t})}e._context.edits.legendPosition&&(z.classed("cursor-move",!0),s.init({element:z.node(),gd:e,prepFn:function(){var e=c.getTranslate(z);w=e.x,A=e.y},moveFn:function(e,t){var r=w+e,a=A+t;c.setTranslate(z,r,a),b=s.align(r,0,h.l,h.l+h.w,l.xanchor),_=s.align(a,0,h.t+h.h,h.t,l.yanchor)},doneFn:function(){void 0!==b&&void 0!==_&&o.call("_guiRelayout",e,{"legend.x":b,"legend.y":_})},clickFn:function(r,a){var n=t._infolayer.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return a.clientX>=e.left&&a.clientX<=e.right&&a.clientY>=e.top&&a.clientY<=e.bottom});n.size()>0&&k(e,z,n,r,a)}}))}],e)}}},function(e,t,r){"use strict";var a=r(0),n=r(4),i=!0;e.exports=function(e,t,r){if(!t._dragged&&!t._editing){var o,l,s,c,d,u=t._fullLayout.hiddenlabels?t._fullLayout.hiddenlabels.slice():[],h=e.data()[0][0],f=t._fullData,p=h.trace,g=p.legendgroup,v={},m=[],y=[],x=[];if(1===r&&i&&t.data&&t._context.showTips?(a.notifier(a._(t,"Double-click on legend to isolate one trace"),"long"),i=!1):i=!1,n.traceIs(p,"pie")){var b=h.label,_=u.indexOf(b);1===r?-1===_?u.push(b):u.splice(_,1):2===r&&(u=[],t.calcdata[0].forEach(function(e){b!==e.label&&u.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===u.length&&-1===_&&(u=[])),n.call("_guiRelayout",t,"hiddenlabels",u)}else{var w,k=g&&g.length,A=[];if(k)for(o=0;o<f.length;o++)(w=f[o]).visible&&w.legendgroup===g&&A.push(o);if(1===r){var T;switch(p.visible){case!0:T="legendonly";break;case!1:T=!1;break;case"legendonly":T=!0}if(k)for(o=0;o<f.length;o++)!1!==f[o].visible&&f[o].legendgroup===g&&P(f[o],T);else P(p,T)}else if(2===r){var M,S,C=!0;for(o=0;o<f.length;o++)if(!(f[o]===p)&&!(M=k&&f[o].legendgroup===g)&&!0===f[o].visible&&!n.traceIs(f[o],"notLegendIsolatable")){C=!1;break}for(o=0;o<f.length;o++)if(!1!==f[o].visible&&!n.traceIs(f[o],"notLegendIsolatable"))switch(p.visible){case"legendonly":P(f[o],!0);break;case!0:S=!!C||"legendonly",M=f[o]===p||k&&f[o].legendgroup===g,P(f[o],!!M||S)}}for(o=0;o<y.length;o++)if(s=y[o]){var L=s.constructUpdate(),z=Object.keys(L);for(l=0;l<z.length;l++)c=z[l],(v[c]=v[c]||[])[x[o]]=L[c]}for(d=Object.keys(v),o=0;o<d.length;o++)for(c=d[o],l=0;l<m.length;l++)v[c].hasOwnProperty(l)||(v[c][l]=void 0);n.call("_guiRestyle",t,v,m)}}function I(e,t,r){var a=m.indexOf(e),n=v[t];return n||(n=v[t]=[]),-1===m.indexOf(e)&&(m.push(e),a=m.length-1),n[a]=r,a}function P(e,t){var r=e._fullInput;if(n.hasTransform(r,"groupby")){var i=y[r.index];if(!i){var o=n.getTransformIndices(r,"groupby"),l=o[o.length-1];i=a.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),y[r.index]=i}var s=i.get(e._group);void 0===s&&(s=!0),!1!==s&&i.set(e._group,t),x[r.index]=I(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&t;I(r.index,"visible",c)}}}},function(e,t,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,textOffsetX:40}},function(e,t,r){"use strict";var a=r(4),n=r(313);e.exports=function(e,t){var r,i,o={},l=[],s=!1,c={},d=0;function u(e,r){if(""!==e&&n.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,o[e]=[[r]]):o[e].push([r]);else{var a="~~i"+d;l.push(a),o[a]=[[r]],d++}}for(r=0;r<e.length;r++){var h=e[r],f=h[0],p=f.trace,g=p.legendgroup;if(p.visible&&p.showlegend)if(a.traceIs(p,"pie"))for(c[g]||(c[g]={}),i=0;i<h.length;i++){var v=h[i].label;c[g][v]||(u(g,{label:v,color:h[i].color,i:h[i].i,trace:p,pts:h[i].pts}),c[g][v]=!0)}else u(g,f)}if(!l.length)return[];var m,y,x=l.length;if(s&&n.isGrouped(t))for(y=new Array(x),r=0;r<x;r++)m=o[l[r]],y[r]=n.isReversed(t)?m.reverse():m;else{for(y=[new Array(x)],r=0;r<x;r++)m=o[l[r]][0],y[0][n.isReversed(t)?x-r-1:r]=m;x=1}return t._lgroupsLength=x,y}},function(e,t,r){"use strict";var a=r(314),n=r(393);e.exports={moduleType:"component",name:"annotations",layoutAttributes:r(273),supplyLayoutDefaults:r(394),includeBasePlot:r(315)("annotations"),calcAutorange:r(395),draw:a.draw,drawOne:a.drawOne,drawRaw:a.drawRaw,hasClickToShow:n.hasClickToShow,onClick:n.onClick,convertCoords:r(396)}},function(e,t,r){"use strict";var a=r(3),n=r(11),i=r(345);e.exports=function(e,t,r){var o,l,s,c,d=e.node(),u=i[r.arrowhead||0],h=i[r.startarrowhead||0],f=(r.arrowwidth||1)*(r.arrowsize||1),p=(r.arrowwidth||1)*(r.startarrowsize||1),g=t.indexOf("start")>=0,v=t.indexOf("end")>=0,m=u.backoff*f+r.standoff,y=h.backoff*p+r.startstandoff;if("line"===d.nodeName){o={x:+e.attr("x1"),y:+e.attr("y1")},l={x:+e.attr("x2"),y:+e.attr("y2")};var x=o.x-l.x,b=o.y-l.y;if(c=(s=Math.atan2(b,x))+Math.PI,m&&y&&m+y>Math.sqrt(x*x+b*b))return void I();if(m){if(m*m>x*x+b*b)return void I();var _=m*Math.cos(s),w=m*Math.sin(s);l.x+=_,l.y+=w,e.attr({x2:l.x,y2:l.y})}if(y){if(y*y>x*x+b*b)return void I();var k=y*Math.cos(s),A=y*Math.sin(s);o.x-=k,o.y-=A,e.attr({x1:o.x,y1:o.y})}}else if("path"===d.nodeName){var T=d.getTotalLength(),M="";if(T<m+y)return void I();var S=d.getPointAtLength(0),C=d.getPointAtLength(.1);s=Math.atan2(S.y-C.y,S.x-C.x),o=d.getPointAtLength(Math.min(y,T)),M="0px,"+y+"px,";var L=d.getPointAtLength(T),z=d.getPointAtLength(T-.1);c=Math.atan2(L.y-z.y,L.x-z.x),l=d.getPointAtLength(Math.max(0,T-m)),M+=T-(M?y+m:m)+"px,"+T+"px",e.style("stroke-dasharray",M)}function I(){e.style("stroke-dasharray","0px,100px")}function P(t,i,o,l){t.path&&(t.noRotate&&(o=0),a.select(d.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:"translate("+i.x+","+i.y+")"+(o?"rotate("+180*o/Math.PI+")":"")+"scale("+l+")"}).style({fill:n.rgb(r.arrowcolor),"stroke-width":0}))}g&&P(h,o,s,p),v&&P(u,l,c,f)}},function(e,t,r){"use strict";var a=r(0),n=r(4),i=r(12).arrayEditor;function o(e,t){var r,a,n,i,o,s,c,d=e._fullLayout.annotations,u=[],h=[],f=[],p=(t||[]).length;for(r=0;r<d.length;r++)if(i=(n=d[r]).clicktoshow){for(a=0;a<p;a++)if(s=(o=t[a]).xaxis,c=o.yaxis,s._id===n.xref&&c._id===n.yref&&s.d2r(o.x)===l(n._xclick,s)&&c.d2r(o.y)===l(n._yclick,c)){(n.visible?"onout"===i?h:f:u).push(r);break}a===p&&n.visible&&"onout"===i&&h.push(r)}return{on:u,off:h,explicitOff:f}}function l(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}e.exports={hasClickToShow:function(e,t){var r=o(e,t);return r.on.length>0||r.explicitOff.length>0},onClick:function(e,t){var r,l,s=o(e,t),c=s.on,d=s.off.concat(s.explicitOff),u={},h=e._fullLayout.annotations;if(!c.length&&!d.length)return;for(r=0;r<c.length;r++)(l=i(e.layout,"annotations",h[c[r]])).modifyItem("visible",!0),a.extendFlat(u,l.getUpdateObj());for(r=0;r<d.length;r++)(l=i(e.layout,"annotations",h[d[r]])).modifyItem("visible",!1),a.extendFlat(u,l.getUpdateObj());return n.call("update",e,{},u)}}},function(e,t,r){"use strict";var a=r(0),n=r(63),i=r(71),o=r(346),l=r(273);function s(e,t,r){function i(r,n){return a.coerce(e,t,l,r,n)}var s=i("visible"),c=i("clicktoshow");if(s||c){o(e,t,r,i);for(var d=t.showarrow,u=["x","y"],h=[-10,-30],f={_fullLayout:r},p=0;p<2;p++){var g=u[p],v=n.coerceRef(e,t,f,g,"","paper");if("paper"!==v)n.getFromId(f,v)._annIndices.push(t._index);if(n.coercePosition(t,f,i,v,g,.5),d){var m="a"+g,y=n.coerceRef(e,t,f,m,"pixel");"pixel"!==y&&y!==v&&(y=t[m]="pixel");var x="pixel"===y?h[p]:.4;n.coercePosition(t,f,i,y,m,x)}i(g+"anchor"),i(g+"shift")}if(a.noneOrAll(e,t,["x","y"]),d&&a.noneOrAll(e,t,["ax","ay"]),c){var b=i("xclick"),_=i("yclick");t._xclick=void 0===b?t.x:n.cleanPosition(b,f,t.xref),t._yclick=void 0===_?t.y:n.cleanPosition(_,f,t.yref)}}}e.exports=function(e,t){i(e,t,{name:"annotations",handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(0),n=r(63),i=r(314).draw;function o(e){var t=e._fullLayout;a.filterVisible(t.annotations).forEach(function(t){var r=n.getFromId(e,t.xref),a=n.getFromId(e,t.yref);t._extremes={},r&&l(t,r),a&&l(t,a)})}function l(e,t){var r,a=t._id,i=a.charAt(0),o=e[i],l=e["a"+i],s=e[i+"ref"],c=e["a"+i+"ref"],d=e["_"+i+"padplus"],u=e["_"+i+"padminus"],h={x:1,y:-1}[i]*e[i+"shift"],f=3*e.arrowsize*e.arrowwidth||0,p=f+h,g=f-h,v=3*e.startarrowsize*e.arrowwidth||0,m=v+h,y=v-h;if(c===s){var x=n.findExtremes(t,[t.r2c(o)],{ppadplus:p,ppadminus:g}),b=n.findExtremes(t,[t.r2c(l)],{ppadplus:Math.max(d,m),ppadminus:Math.max(u,y)});r={min:[x.min[0],b.min[0]],max:[x.max[0],b.max[0]]}}else m=l?m+l:m,y=l?y-l:y,r=n.findExtremes(t,[t.r2c(o)],{ppadplus:Math.max(d,p,m),ppadminus:Math.max(u,g,y)});e._extremes[a]=r}e.exports=function(e){var t=e._fullLayout;if(a.filterVisible(t.annotations).length&&e._fullData.length)return a.syncOrAsync([i,o],e)}},function(e,t,r){"use strict";var a=r(1),n=r(89);e.exports=function(e,t,r,i){t=t||{};var o="log"===r&&"linear"===t.type,l="linear"===r&&"log"===t.type;if(o||l)for(var s,c,d=e._fullLayout.annotations,u=t._id.charAt(0),h=0;h<d.length;h++)s=d[h],c="annotations["+h+"].",s[u+"ref"]===t._id&&f(u),s["a"+u+"ref"]===t._id&&f("a"+u);function f(e){var r=s[e],l=null;l=o?n(r,t.range):Math.pow(10,r),a(l)||(l=null),i(c+e,l)}}},function(e,t,r){"use strict";var a=r(4),n=r(0);e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(316)}}},layoutAttributes:r(316),handleDefaults:r(398),includeBasePlot:function(e,t){var r=a.subplotsRegistry.gl3d;if(!r)return;for(var i=r.attrRegex,o=Object.keys(e),l=0;l<o.length;l++){var s=o[l];i.test(s)&&(e[s].annotations||[]).length&&(n.pushUnique(t._basePlotModules,r),n.pushUnique(t._subplots.gl3d,s))}},convert:r(399),draw:r(400)}},function(e,t,r){"use strict";var a=r(0),n=r(63),i=r(71),o=r(346),l=r(316);function s(e,t,r,i){function s(r,n){return a.coerce(e,t,l,r,n)}function c(e){var a=e+"axis",i={_fullLayout:{}};return i._fullLayout[a]=r[a],n.coercePosition(t,i,s,e,e,.5)}s("visible")&&(o(e,t,i.fullLayout,s),c("x"),c("y"),c("z"),a.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",s("xanchor"),s("yanchor"),s("xshift"),s("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",s("ax",-10),s("ay",-30),a.noneOrAll(e,t,["ax","ay"])))}e.exports=function(e,t,r){i(e,t,{name:"annotations",handleItemDefaults:s,fullLayout:r.fullLayout})}},function(e,t,r){"use strict";var a=r(0),n=r(63);function i(e,t){var r=t.fullSceneLayout.domain,i=t.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},a.extendFlat(e._xa,o),n.setConvert(e._xa),e._xa._offset=i.l+r.x[0]*i.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*i.w*(r.x[1]-r.x[0])},e._ya={},a.extendFlat(e._ya,o),n.setConvert(e._ya),e._ya._offset=i.t+(1-r.y[1])*i.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*i.h*(r.y[1]-r.y[0])}}e.exports=function(e){for(var t=e.fullSceneLayout.annotations,r=0;r<t.length;r++)i(t[r],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},function(e,t,r){"use strict";var a=r(314).drawRaw,n=r(401),i=["x","y","z"];e.exports=function(e){for(var t=e.fullSceneLayout,r=e.dataScale,o=t.annotations,l=0;l<o.length;l++){for(var s=o[l],c=!1,d=0;d<3;d++){var u=i[d],h=s[u],f=t[u+"axis"].r2fraction(h);if(f<0||f>1){c=!0;break}}c?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+l+'"]').remove():(s._pdata=n(e.glplot.cameraParams,[t.xaxis.r2l(s.x)*r[0],t.yaxis.r2l(s.y)*r[1],t.zaxis.r2l(s.z)*r[2]]),a(e.graphDiv,s,l,e.id,s._xa,s._ya))}}},function(e,t,r){"use strict";function a(e,t){var r,a,n=[0,0,0,0];for(r=0;r<4;++r)for(a=0;a<4;++a)n[a]+=e[4*r+a]*t[r];return n}e.exports=function(e,t){return a(e.projection,a(e.view,a(e.model,[t[0],t[1],t[2],1])))}},function(e,t,r){"use strict";var a=r(403);e.exports={moduleType:"component",name:"shapes",layoutAttributes:r(347),supplyLayoutDefaults:r(404),includeBasePlot:r(315)("shapes"),calcAutorange:r(405),draw:a.draw,drawOne:a.drawOne}},function(e,t,r){"use strict";var a=r(4),n=r(0),i=r(63),o=r(11),l=r(26),s=r(12).arrayEditor,c=r(199),d=r(201),u=r(317),h=r(318);function f(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=e._fullLayout.shapes[t]||{};if(r._input&&!1!==r.visible)if("below"!==r.layer)m(e._fullLayout._shapeUpperLayer);else if("paper"===r.xref||"paper"===r.yref)m(e._fullLayout._shapeLowerLayer);else{var f=e._fullLayout._plots[r.xref+r.yref];if(f)m((f.mainplotinfo||f).shapelayer);else m(e._fullLayout._shapeLowerLayer)}function m(f){var m={"data-index":t,"fill-rule":"evenodd",d:g(e,r)},y=r.line.width?r.line.color:"rgba(0,0,0,0)",x=f.append("path").attr(m).style("opacity",r.opacity).call(o.stroke,y).call(o.fill,r.fillcolor).call(l.dashLine,r.line.dash,r.line.width);p(x,e,r),e._context.edits.shapePosition&&function(e,t,r,o,f){var m,y,x,b,_,w,k,A,T,M,S,C,L,z,I,P,O=10,D=10,R="pixel"===r.xsizemode,j="pixel"===r.ysizemode,E="line"===r.type,F="path"===r.type,B=s(e.layout,"shapes",r),N=B.modifyItem,H=i.getFromId(e,r.xref),V=i.getFromId(e,r.yref),q=h.getDataToPixel(e,H),G=h.getDataToPixel(e,V,!0),X=h.getPixelToData(e,H),W=h.getPixelToData(e,V,!0),U=E?function(){var e=Math.max(r.line.width,10),a=f.append("g").attr("data-index",o);a.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var n={"fill-opacity":"0"},i=e/2>10?e/2:10;return a.append("circle").attr({"data-line-point":"start-point",cx:R?q(r.xanchor)+r.x0:q(r.x0),cy:j?G(r.yanchor)-r.y0:G(r.y0),r:i}).style(n).classed("cursor-grab",!0),a.append("circle").attr({"data-line-point":"end-point",cx:R?q(r.xanchor)+r.x1:q(r.x1),cy:j?G(r.yanchor)-r.y1:G(r.y1),r:i}).style(n).classed("cursor-grab",!0),a}():t,Z={element:U.node(),gd:e,prepFn:function(a){R&&(_=q(r.xanchor));j&&(w=G(r.yanchor));"path"===r.type?I=r.path:(m=R?r.x0:q(r.x0),y=j?r.y0:G(r.y0),x=R?r.x1:q(r.x1),b=j?r.y1:G(r.y1));m<x?(T=m,L="x0",M=x,z="x1"):(T=x,L="x1",M=m,z="x0");!j&&y<b||j&&y>b?(k=y,S="y0",A=b,C="y1"):(k=b,S="y1",A=y,C="y0");Y(a),$(f,r),function(e,t,r){var a=t.xref,n=t.yref,o=i.getFromId(r,a),s=i.getFromId(r,n),c="";"paper"===a||o.autorange||(c+=a);"paper"===n||s.autorange||(c+=n);l.setClipUrl(e,c?"clip"+r._fullLayout._uid+c:null,r)}(t,r,e),Z.moveFn="move"===P?Q:J},doneFn:function(){d(t),K(f),p(t,e,r),a.call("_guiRelayout",e,B.getUpdateObj())},clickFn:function(){K(f)}};function Y(e){if(E)P="path"===e.target.tagName?"move":"start-point"===e.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=Z.element.getBoundingClientRect(),a=r.right-r.left,n=r.bottom-r.top,i=e.clientX-r.left,o=e.clientY-r.top,l=!F&&a>O&&n>D&&!e.shiftKey?c.getCursor(i/a,1-o/n):"move";d(t,l),P=l.split("-")[0]}}function Q(a,n){if("path"===r.type){var i=function(e){return e},o=i,l=i;R?N("xanchor",r.xanchor=X(_+a)):(o=function(e){return X(q(e)+a)},H&&"date"===H.type&&(o=h.encodeDate(o))),j?N("yanchor",r.yanchor=W(w+n)):(l=function(e){return W(G(e)+n)},V&&"date"===V.type&&(l=h.encodeDate(l))),N("path",r.path=v(I,o,l))}else R?N("xanchor",r.xanchor=X(_+a)):(N("x0",r.x0=X(m+a)),N("x1",r.x1=X(x+a))),j?N("yanchor",r.yanchor=W(w+n)):(N("y0",r.y0=W(y+n)),N("y1",r.y1=W(b+n)));t.attr("d",g(e,r)),$(f,r)}function J(a,n){if(F){var i=function(e){return e},o=i,l=i;R?N("xanchor",r.xanchor=X(_+a)):(o=function(e){return X(q(e)+a)},H&&"date"===H.type&&(o=h.encodeDate(o))),j?N("yanchor",r.yanchor=W(w+n)):(l=function(e){return W(G(e)+n)},V&&"date"===V.type&&(l=h.encodeDate(l))),N("path",r.path=v(I,o,l))}else if(E){if("resize-over-start-point"===P){var s=m+a,c=j?y-n:y+n;N("x0",r.x0=R?s:X(s)),N("y0",r.y0=j?c:W(c))}else if("resize-over-end-point"===P){var d=x+a,u=j?b-n:b+n;N("x1",r.x1=R?d:X(d)),N("y1",r.y1=j?u:W(u))}}else{var p=~P.indexOf("n")?k+n:k,B=~P.indexOf("s")?A+n:A,U=~P.indexOf("w")?T+a:T,Z=~P.indexOf("e")?M+a:M;~P.indexOf("n")&&j&&(p=k-n),~P.indexOf("s")&&j&&(B=A-n),(!j&&B-p>D||j&&p-B>D)&&(N(S,r[S]=j?p:W(p)),N(C,r[C]=j?B:W(B))),Z-U>O&&(N(L,r[L]=R?U:X(U)),N(z,r[z]=R?Z:X(Z)))}t.attr("d",g(e,r)),$(f,r)}function $(e,t){(R||j)&&function(){var r="path"!==t.type,a=e.selectAll(".visual-cue").data([0]);a.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var i=q(R?t.xanchor:n.midRange(r?[t.x0,t.x1]:h.extractPathCoords(t.path,u.paramIsX))),o=G(j?t.yanchor:n.midRange(r?[t.y0,t.y1]:h.extractPathCoords(t.path,u.paramIsY)));if(i=h.roundPositionForSharpStrokeRendering(i,1),o=h.roundPositionForSharpStrokeRendering(o,1),R&&j){var l="M"+(i-1-1)+","+(o-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";a.attr("d",l)}else if(R){var s="M"+(i-1-1)+","+(o-9-1)+"v18 h2 v-18 Z";a.attr("d",s)}else{var c="M"+(i-9-1)+","+(o-1-1)+"h18 v2 h-18 Z";a.attr("d",c)}}()}function K(e){e.selectAll(".visual-cue").remove()}c.init(Z),U.node().onmousemove=Y}(e,x,r,t,f)}}function p(e,t,r){var a=(r.xref+r.yref).replace(/paper/g,"");l.setClipUrl(e,a?"clip"+t._fullLayout._uid+a:null,t)}function g(e,t){var r,a,o,l,s,c,d,f,p=t.type,g=i.getFromId(e,t.xref),v=i.getFromId(e,t.yref),m=e._fullLayout._size;if(g?(r=h.shapePositionToRange(g),a=function(e){return g._offset+g.r2p(r(e,!0))}):a=function(e){return m.l+m.w*e},v?(o=h.shapePositionToRange(v),l=function(e){return v._offset+v.r2p(o(e,!0))}):l=function(e){return m.t+m.h*(1-e)},"path"===p)return g&&"date"===g.type&&(a=h.decodeDate(a)),v&&"date"===v.type&&(l=h.decodeDate(l)),function(e,t,r){var a=e.path,i=e.xsizemode,o=e.ysizemode,l=e.xanchor,s=e.yanchor;return a.replace(u.segmentRE,function(e){var a=0,c=e.charAt(0),d=u.paramIsX[c],h=u.paramIsY[c],f=u.numParams[c],p=e.substr(1).replace(u.paramRE,function(e){return d[a]?e="pixel"===i?t(l)+Number(e):t(e):h[a]&&(e="pixel"===o?r(s)-Number(e):r(e)),++a>f&&(e="X"),e});return a>f&&(p=p.replace(/[\s,]*X.*/,""),n.log("Ignoring extra params in segment "+e)),c+p})}(t,a,l);if("pixel"===t.xsizemode){var y=a(t.xanchor);s=y+t.x0,c=y+t.x1}else s=a(t.x0),c=a(t.x1);if("pixel"===t.ysizemode){var x=l(t.yanchor);d=x-t.y0,f=x-t.y1}else d=l(t.y0),f=l(t.y1);if("line"===p)return"M"+s+","+d+"L"+c+","+f;if("rect"===p)return"M"+s+","+d+"H"+c+"V"+f+"H"+s+"Z";var b=(s+c)/2,_=(d+f)/2,w=Math.abs(b-s),k=Math.abs(_-d),A="A"+w+","+k,T=b+w+","+_;return"M"+T+A+" 0 1,1 "+(b+","+(_-k))+A+" 0 0,1 "+T+"Z"}function v(e,t,r){return e.replace(u.segmentRE,function(e){var a=0,n=e.charAt(0),i=u.paramIsX[n],o=u.paramIsY[n],l=u.numParams[n];return n+e.substr(1).replace(u.paramRE,function(e){return a>=l?e:(i[a]?e=t(e):o[a]&&(e=r(e)),a++,e)})})}e.exports={draw:function(e){var t=e._fullLayout;for(var r in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var a=t._plots[r].shapelayer;a&&a.selectAll("path").remove()}for(var n=0;n<t.shapes.length;n++)t.shapes[n].visible&&f(e,n)},drawOne:f}},function(e,t,r){"use strict";var a=r(0),n=r(63),i=r(71),o=r(347),l=r(318);function s(e,t,r){function i(r,n){return a.coerce(e,t,o,r,n)}if(i("visible")){i("layer"),i("opacity"),i("fillcolor"),i("line.color"),i("line.width"),i("line.dash");for(var s=i("type",e.path?"path":"rect"),c=i("xsizemode"),d=i("ysizemode"),u=["x","y"],h=0;h<2;h++){var f,p,g,v=u[h],m=v+"anchor",y="x"===v?c:d,x={_fullLayout:r},b=n.coerceRef(e,t,x,v,"","paper");if("paper"!==b?((f=n.getFromId(x,b))._shapeIndices.push(t._index),g=l.rangeToShapePosition(f),p=l.shapePositionToRange(f)):p=g=a.identity,"path"!==s){var _=v+"0",w=v+"1",k=e[_],A=e[w];e[_]=p(e[_],!0),e[w]=p(e[w],!0),"pixel"===y?(i(_,0),i(w,10)):(n.coercePosition(t,x,i,b,_,.25),n.coercePosition(t,x,i,b,w,.75)),t[_]=g(t[_]),t[w]=g(t[w]),e[_]=k,e[w]=A}if("pixel"===y){var T=e[m];e[m]=p(e[m],!0),n.coercePosition(t,x,i,b,m,.25),t[m]=g(t[m]),e[m]=T}}"path"===s?i("path"):a.noneOrAll(e,t,["x0","x1","y0","y1"])}}e.exports=function(e,t){i(e,t,{name:"shapes",handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(0),n=r(63),i=r(317),o=r(318);function l(e){return c(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function s(e){return c(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function c(e,t,r,n,l,s){var c=e/2,d=s;if("pixel"===t){var u=l?o.extractPathCoords(l,s?i.paramIsY:i.paramIsX):[r,n],h=a.aggNums(Math.max,null,u),f=a.aggNums(Math.min,null,u),p=f<0?Math.abs(f)+c:c,g=h>0?h+c:c;return{ppad:c,ppadplus:d?p:g,ppadminus:d?g:p}}return{ppad:c}}function d(e,t,r,a,n){var l="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[l(t),l(r)];if(a){var s,c,d,u,h=1/0,f=-1/0,p=a.match(i.segmentRE);for("date"===e.type&&(l=o.decodeDate(l)),s=0;s<p.length;s++)void 0!==(c=n[p[s].charAt(0)].drawn)&&(!(d=p[s].substr(1).match(i.paramRE))||d.length<c||((u=l(d[c]))<h&&(h=u),u>f&&(f=u)));return f>=h?[h,f]:void 0}}e.exports=function(e){var t=e._fullLayout,r=a.filterVisible(t.shapes);if(r.length&&e._fullData.length)for(var o=0;o<r.length;o++){var c,u,h=r[o];if(h._extremes={},"paper"!==h.xref){var f="pixel"===h.xsizemode?h.xanchor:h.x0,p="pixel"===h.xsizemode?h.xanchor:h.x1;(u=d(c=n.getFromId(e,h.xref),f,p,h.path,i.paramIsX))&&(h._extremes[c._id]=n.findExtremes(c,u,l(h)))}if("paper"!==h.yref){var g="pixel"===h.ysizemode?h.yanchor:h.y0,v="pixel"===h.ysizemode?h.yanchor:h.y1;(u=d(c=n.getFromId(e,h.yref),g,v,h.path,i.paramIsY))&&(h._extremes[c._id]=n.findExtremes(c,u,s(h)))}}}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:r(348),supplyLayoutDefaults:r(407),includeBasePlot:r(315)("images"),draw:r(408),convertCoords:r(409)}},function(e,t,r){"use strict";var a=r(0),n=r(63),i=r(71),o=r(348);function l(e,t,r){function i(r,n){return a.coerce(e,t,o,r,n)}if(!i("visible",!!i("source")))return t;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var l={_fullLayout:r},s=["x","y"],c=0;c<2;c++){var d=s[c],u=n.coerceRef(e,t,l,d,"paper");if("paper"!==u)n.getFromId(l,u)._imgIndices.push(t._index);n.coercePosition(t,l,i,u,d,0)}return t}e.exports=function(e,t){i(e,t,{name:"images",handleItemDefaults:l})}},function(e,t,r){"use strict";var a=r(3),n=r(26),i=r(63),o=r(46);e.exports=function(e){var t,r,l=e._fullLayout,s=[],c={},d=[];for(r=0;r<l.images.length;r++){var u=l.images[r];if(u.visible)if("below"===u.layer&&"paper"!==u.xref&&"paper"!==u.yref){t=u.xref+u.yref;var h=l._plots[t];if(!h){d.push(u);continue}h.mainplot&&(t=h.mainplot.id),c[t]||(c[t]=[]),c[t].push(u)}else"above"===u.layer?s.push(u):d.push(u)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function p(t){var r=a.select(this);if(!this.img||this.img.src!==t.source){r.attr("xmlns",o.svg);var n=new Promise(function(e){var a=new Image;function n(){r.remove(),e()}this.img=a,a.setAttribute("crossOrigin","anonymous"),a.onerror=n,a.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var a=t.toDataURL("image/png");r.attr("xlink:href",a),e()},r.on("error",n),a.src=t.source}.bind(this));e._promises.push(n)}}function g(t){var r=a.select(this),o=i.getFromId(e,t.xref),s=i.getFromId(e,t.yref),c=l._size,d=o?Math.abs(o.l2p(t.sizex)-o.l2p(0)):t.sizex*c.w,u=s?Math.abs(s.l2p(t.sizey)-s.l2p(0)):t.sizey*c.h,h=d*f.x[t.xanchor].offset,p=u*f.y[t.yanchor].offset,g=f.x[t.xanchor].sizing+f.y[t.yanchor].sizing,v=(o?o.r2p(t.x)+o._offset:t.x*c.w+c.l)+h,m=(s?s.r2p(t.y)+s._offset:c.h-t.y*c.h+c.t)+p;switch(t.sizing){case"fill":g+=" slice";break;case"stretch":g="none"}r.attr({x:v,y:m,width:d,height:u,preserveAspectRatio:g,opacity:t.opacity});var y=(o?o._id:"")+(s?s._id:"");n.setClipUrl(r,y?"clip"+l._uid+y:null,e)}var v=l._imageLowerLayer.selectAll("image").data(d),m=l._imageUpperLayer.selectAll("image").data(s);v.enter().append("image"),m.enter().append("image"),v.exit().remove(),m.exit().remove(),v.each(function(e){p.bind(this)(e),g.bind(this)(e)}),m.each(function(e){p.bind(this)(e),g.bind(this)(e)});var y=Object.keys(l._plots);for(r=0;r<y.length;r++){t=y[r];var x=l._plots[t];if(x.imagelayer){var b=x.imagelayer.selectAll("image").data(c[t]||[]);b.enter().append("image"),b.exit().remove(),b.each(function(e){p.bind(this)(e),g.bind(this)(e)})}}}},function(e,t,r){"use strict";var a=r(1),n=r(89);e.exports=function(e,t,r,i){t=t||{};var o="log"===r&&"linear"===t.type,l="linear"===r&&"log"===t.type;if(o||l)for(var s,c,d=e._fullLayout.images,u=t._id.charAt(0),h=0;h<d.length;h++)if(c="images["+h+"].",(s=d[h])[u+"ref"]===t._id){var f=s[u],p=s["size"+u],g=null,v=null;if(o){g=n(f,t.range);var m=p/Math.pow(10,g)/2;v=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else v=(g=Math.pow(10,f))*(Math.pow(10,p/2)-Math.pow(10,-p/2));a(g)?a(v)||(v=null):(g=null,v=null),i(c+u,g),i(c+"size"+u,v)}}},function(e,t,r){"use strict";var a=r(319);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(349),supplyLayoutDefaults:r(411),draw:r(412)}},function(e,t,r){"use strict";var a=r(0),n=r(71),i=r(349),o=r(319).name,l=i.buttons;function s(e,t,r){function o(r,n){return a.coerce(e,t,i,r,n)}o("visible",n(e,t,{name:"buttons",handleItemDefaults:c}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),a.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),a.coerceFont(o,"font",r.font),o("bgcolor",r.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function c(e,t){function r(r,n){return a.coerce(e,t,l,r,n)}r("visible","skip"===e.method||Array.isArray(e.args))&&(r("method"),r("args"),r("label"),r("execute"))}e.exports=function(e,t){n(e,t,{name:o,handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(3),n=r(43),i=r(11),o=r(26),l=r(0),s=r(29),c=r(12).arrayEditor,d=r(20).LINE_SPACING,u=r(319),h=r(413);function f(e){return e._index}function p(e,t){return+e.attr(u.menuIndexAttrName)===t._index}function g(e,t,r,a,n,i,o,l){t.active=o,c(e.layout,u.name,t).applyUpdate("active",o),"buttons"===t.type?m(e,a,null,null,t):"dropdown"===t.type&&(n.attr(u.menuIndexAttrName,"-1"),v(e,a,n,i,t),l||m(e,a,n,i,t))}function v(e,t,r,a,n){var i=l.ensureSingle(t,"g",u.headerClassName,function(e){e.style("pointer-events","all")}),s=n._dims,c=n.active,d=n.buttons[c]||u.blankHeaderOpts,h={y:n.pad.t,yPad:0,x:n.pad.l,xPad:0,index:0},f={width:s.headerWidth,height:s.headerHeight};i.call(y,n,d,e).call(M,n,h,f),l.ensureSingle(t,"text",u.headerArrowClassName,function(e){e.classed("user-select-none",!0).attr("text-anchor","end").call(o.font,n.font).text(u.arrowSymbol[n.direction])}).attr({x:s.headerWidth-u.arrowOffsetX+n.pad.l,y:s.headerHeight/2+u.textOffsetY+n.pad.t}),i.on("click",function(){r.call(S,String(p(r,n)?-1:n._index)),m(e,t,r,a,n)}),i.on("mouseover",function(){i.call(w)}),i.on("mouseout",function(){i.call(k,n)}),o.setTranslate(t,s.lx,s.ly)}function m(e,t,r,i,o){r||(r=t).attr("pointer-events","all");var s=function(e){return-1==+e.attr(u.menuIndexAttrName)}(r)&&"buttons"!==o.type?[]:o.buttons,c="dropdown"===o.type?u.dropdownButtonClassName:u.buttonClassName,d=r.selectAll("g."+c).data(l.filterVisible(s)),h=d.enter().append("g").classed(c,!0),f=d.exit();"dropdown"===o.type?(h.attr("opacity","0").transition().attr("opacity","1"),f.transition().attr("opacity","0").remove()):f.remove();var p=0,v=0,m=o._dims,x=-1!==["up","down"].indexOf(o.direction);"dropdown"===o.type&&(x?v=m.headerHeight+u.gapButtonHeader:p=m.headerWidth+u.gapButtonHeader),"dropdown"===o.type&&"up"===o.direction&&(v=-u.gapButtonHeader+u.gapButton-m.openHeight),"dropdown"===o.type&&"left"===o.direction&&(p=-u.gapButtonHeader+u.gapButton-m.openWidth);var b={x:m.lx+p+o.pad.l,y:m.ly+v+o.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},A={l:b.x+o.borderwidth,t:b.y+o.borderwidth};d.each(function(l,s){var c=a.select(this);c.call(y,o,l,e).call(M,o,b),c.on("click",function(){a.event.defaultPrevented||(g(e,o,0,t,r,i,s),l.execute&&n.executeAPICommand(e,l.method,l.args),e.emit("plotly_buttonclicked",{menu:o,button:l,active:o.active}))}),c.on("mouseover",function(){c.call(w)}),c.on("mouseout",function(){c.call(k,o),d.call(_,o)})}),d.call(_,o),x?(A.w=Math.max(m.openWidth,m.headerWidth),A.h=b.y-A.t):(A.w=b.x-A.l,A.h=Math.max(m.openHeight,m.headerHeight)),A.direction=o.direction,i&&(d.size()?function(e,t,r,a,n,i){var o,l,s,c=n.direction,d="up"===c||"down"===c,h=n._dims,f=n.active;if(d)for(l=0,s=0;s<f;s++)l+=h.heights[s]+u.gapButton;else for(o=0,s=0;s<f;s++)o+=h.widths[s]+u.gapButton;a.enable(i,o,l),a.hbar&&a.hbar.attr("opacity","0").transition().attr("opacity","1");a.vbar&&a.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,i,o,A):function(e){var t=!!e.hbar,r=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()});r&&e.vbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()})}(i))}function y(e,t,r,a){e.call(x,t).call(b,t,r,a)}function x(e,t){l.ensureSingle(e,"rect",u.itemRectClassName,function(e){e.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function b(e,t,r,a){var n=l.ensureSingle(e,"text",u.itemTextClassName,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1})}),i=r.label,c=a._fullLayout.meta;c&&(i=l.templateString(i,{meta:c})),n.call(o.font,t.font).text(i).call(s.convertToTspans,a)}function _(e,t){var r=t.active;e.each(function(e,n){var o=a.select(this);n===r&&t.showactive&&o.select("rect."+u.itemRectClassName).call(i.fill,u.activeColor)})}function w(e){e.select("rect."+u.itemRectClassName).call(i.fill,u.hoverColor)}function k(e,t){e.select("rect."+u.itemRectClassName).call(i.fill,t.bgcolor)}function A(e,t){var r=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},i=o.tester.selectAll("g."+u.dropdownButtonClassName).data(l.filterVisible(t.buttons));i.enter().append("g").classed(u.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(t.direction);i.each(function(n,i){var l=a.select(this);l.call(y,t,n,e);var h=l.select("."+u.itemTextClassName),f=h.node()&&o.bBox(h.node()).width,p=Math.max(f+u.textPadX,u.minWidth),g=t.font.size*d,v=s.lineCount(h),m=Math.max(g*v,u.minHeight)+u.textOffsetY;m=Math.ceil(m),p=Math.ceil(p),r.widths[i]=p,r.heights[i]=m,r.height1=Math.max(r.height1,m),r.width1=Math.max(r.width1,p),c?(r.totalWidth=Math.max(r.totalWidth,p),r.openWidth=r.totalWidth,r.totalHeight+=m+u.gapButton,r.openHeight+=m+u.gapButton):(r.totalWidth+=p+u.gapButton,r.openWidth+=p+u.gapButton,r.totalHeight=Math.max(r.totalHeight,m),r.openHeight=r.totalHeight)}),c?r.totalHeight-=u.gapButton:r.totalWidth-=u.gapButton,r.headerWidth=r.width1+u.arrowPadX,r.headerHeight=r.height1,"dropdown"===t.type&&(c?(r.width1+=u.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=u.arrowPadX),i.remove();var h=r.totalWidth+t.pad.l+t.pad.r,f=r.totalHeight+t.pad.t+t.pad.b,p=e._fullLayout._size;r.lx=p.l+p.w*t.x,r.ly=p.t+p.h*(1-t.y);var g="left";l.isRightAnchor(t)&&(r.lx-=h,g="right"),l.isCenterAnchor(t)&&(r.lx-=h/2,g="center");var v="top";l.isBottomAnchor(t)&&(r.ly-=f,v="bottom"),l.isMiddleAnchor(t)&&(r.ly-=f/2,v="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),n.autoMargin(e,T(t),{x:t.x,y:t.y,l:h*({right:1,center:.5}[g]||0),r:h*({left:1,center:.5}[g]||0),b:f*({top:1,middle:.5}[v]||0),t:f*({bottom:1,middle:.5}[v]||0)})}function T(e){return u.autoMarginIdRoot+e._index}function M(e,t,r,a){a=a||{};var n=e.select("."+u.itemRectClassName),i=e.select("."+u.itemTextClassName),l=t.borderwidth,c=r.index,h=t._dims;o.setTranslate(e,l+r.x,l+r.y);var f=-1!==["up","down"].indexOf(t.direction),p=a.height||(f?h.heights[c]:h.height1);n.attr({x:0,y:0,width:a.width||(f?h.width1:h.widths[c]),height:p});var g=t.font.size*d,v=(s.lineCount(i)-1)*g/2;s.positionText(i,u.textOffsetX,p/2-v+u.textOffsetY),f?r.y+=h.heights[c]+r.yPad:r.x+=h.widths[c]+r.xPad,r.index++}function S(e,t){e.attr(u.menuIndexAttrName,t||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}e.exports=function(e){var t=e._fullLayout,r=l.filterVisible(t[u.name]);function i(t){n.autoMargin(e,T(t))}var o=t._menulayer.selectAll("g."+u.containerClassName).data(r.length>0?[0]:[]);if(o.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){a.select(this).selectAll("g."+u.headerGroupClassName).each(i)}).remove(),0!==r.length){var s=o.selectAll("g."+u.headerGroupClassName).data(r,f);s.enter().append("g").classed(u.headerGroupClassName,!0);for(var c=l.ensureSingle(o,"g",u.dropdownButtonGroupClassName,function(e){e.style("pointer-events","all")}),d=0;d<r.length;d++){var y=r[d];A(e,y)}var x="updatemenus"+t._uid,b=new h(e,c,x);s.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(S)),s.exit().each(function(e){c.call(S),i(e)}).remove(),s.each(function(t){var r=a.select(this),i="dropdown"===t.type?c:null;n.manageCommandObserver(e,t,t.buttons,function(a){g(e,t,t.buttons[a.index],r,i,b,a.index,!0)}),"dropdown"===t.type?(v(e,r,c,b,t),p(c,t)&&m(e,r,c,b,t)):m(e,r,null,null,t)})}}},function(e,t,r){"use strict";e.exports=l;var a=r(3),n=r(11),i=r(26),o=r(0);function l(e,t,r){this.gd=e,this.container=t,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(e,t,r){var o=this.gd._fullLayout,s=o.width,c=o.height;this.position=e;var d,u,h,f,p=this.position.l,g=this.position.w,v=this.position.t,m=this.position.h,y=this.position.direction,x="down"===y,b="left"===y,_="up"===y,w=g,k=m;x||b||"right"===y||_||(this.position.direction="down",x=!0),x||_?(u=(d=p)+w,x?(h=v,k=(f=Math.min(h+k,c))-h):k=(f=v+k)-(h=Math.max(f-k,0))):(f=(h=v)+k,b?w=(u=p+w)-(d=Math.max(u-w,0)):(d=p,w=(u=Math.min(d+w,s))-d)),this._box={l:d,t:h,w:w,h:k};var A=g>w,T=l.barLength+2*l.barPad,M=l.barWidth+2*l.barPad,S=p,C=v+m;C+M>c&&(C=c-M);var L=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-horizontal",!0).call(n.fill,l.barColor),A?(this.hbar=L.attr({rx:l.barRadius,ry:l.barRadius,x:S,y:C,width:T,height:M}),this._hbarXMin=S+T/2,this._hbarTranslateMax=w-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=m>k,I=l.barWidth+2*l.barPad,P=l.barLength+2*l.barPad,O=p+g,D=v;O+I>s&&(O=s-I);var R=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(n.fill,l.barColor),z?(this.vbar=R.attr({rx:l.barRadius,ry:l.barRadius,x:O,y:D,width:I,height:P}),this._vbarYMin=D+P/2,this._vbarTranslateMax=k-P):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var j=this.id,E=d-.5,F=z?u+I+.5:u+.5,B=h-.5,N=A?f+M+.5:f+.5,H=o._topdefs.selectAll("#"+j).data(A||z?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",j).append("rect"),A||z?(this._clipRect=H.select("rect").attr({x:Math.floor(E),y:Math.floor(B),width:Math.ceil(F)-Math.floor(E),height:Math.ceil(N)-Math.floor(B)}),this.container.call(i.setClipUrl,j,this.gd),this.bg.attr({x:p,y:v,width:g,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),A||z){var V=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var q=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(q),z&&this.vbar.on(".drag",null).call(q)}this.setTranslate(t,r)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=a.event.dx),this.vbar&&(t-=a.event.dy),this.setTranslate(e,t)},l.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=a.event.deltaY),this.vbar&&(t+=a.event.deltaY),this.setTranslate(e,t)},l.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var r=e+this._hbarXMin,n=r+this._hbarTranslateMax;e=(o.constrain(a.event.x,r,n)-r)/(n-r)*(this.position.w-this._box.w)}if(this.vbar){var i=t+this._vbarYMin,l=i+this._vbarTranslateMax;t=(o.constrain(a.event.y,i,l)-i)/(l-i)*(this.position.h-this._box.h)}this.setTranslate(e,t)},l.prototype.setTranslate=function(e,t){var r=this.position.w-this._box.w,a=this.position.h-this._box.h;if(e=o.constrain(e||0,0,r),t=o.constrain(t||0,0,a),this.translateX=e,this.translateY=t,this.container.call(i.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=e/r;this.hbar.call(i.setTranslate,e+n*this._hbarTranslateMax,t)}if(this.vbar){var l=t/a;this.vbar.call(i.setTranslate,e,t+l*this._vbarTranslateMax)}}},function(e,t,r){"use strict";var a=r(274);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(350),supplyLayoutDefaults:r(415),draw:r(416)}},function(e,t,r){"use strict";var a=r(0),n=r(71),i=r(350),o=r(274).name,l=i.steps;function s(e,t,r){function o(r,n){return a.coerce(e,t,i,r,n)}for(var l=n(e,t,{name:"steps",handleItemDefaults:c}),s=0,d=0;d<l.length;d++)l[d].visible&&s++;if(s<2?t.visible=!1:o("visible")){t._stepCount=s;var u=t._visibleSteps=a.filterVisible(l);(l[o("active")]||{}).visible||(t.active=u[0]._index),o("x"),o("y"),a.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),a.coerceFont(o,"font",r.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),a.coerceFont(o,"currentvalue.font",t.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function c(e,t){function r(r,n){return a.coerce(e,t,l,r,n)}("skip"===e.method||Array.isArray(e.args)?r("visible"):t.visible=!1)&&(r("method"),r("args"),r("value",r("label","step-"+t._index)),r("execute"))}e.exports=function(e,t){n(e,t,{name:o,handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(3),n=r(43),i=r(11),o=r(26),l=r(0),s=r(29),c=r(12).arrayEditor,d=r(274),u=r(20),h=u.LINE_SPACING,f=u.FROM_TL,p=u.FROM_BR;function g(e){return d.autoMarginIdRoot+e._index}function v(e){return e._index}function m(e,t){var r=o.tester.selectAll("g."+d.labelGroupClass).data(t._visibleSteps);r.enter().append("g").classed(d.labelGroupClass,!0);var i=0,c=0;r.each(function(e){var r=b(a.select(this),{step:e},t).node();if(r){var n=o.bBox(r);c=Math.max(c,n.height),i=Math.max(i,n.width)}}),r.remove();var u=t._dims={};u.inputAreaWidth=Math.max(d.railWidth,d.gripHeight);var h=e._fullLayout._size;u.lx=h.l+h.w*t.x,u.ly=h.t+h.h*(1-t.y),"fraction"===t.lenmode?u.outerLength=Math.round(h.w*t.len):u.outerLength=t.len,u.inputAreaStart=0,u.inputAreaLength=Math.round(u.outerLength-t.pad.l-t.pad.r);var v=(u.inputAreaLength-2*d.stepInset)/(t._stepCount-1),m=i+d.labelPadding;if(u.labelStride=Math.max(1,Math.ceil(m/v)),u.labelHeight=c,u.currentValueMaxWidth=0,u.currentValueHeight=0,u.currentValueTotalHeight=0,u.currentValueMaxLines=1,t.currentvalue.visible){var x=o.tester.append("g");r.each(function(e){var r=y(x,t,e.label),a=r.node()&&o.bBox(r.node())||{width:0,height:0},n=s.lineCount(r);u.currentValueMaxWidth=Math.max(u.currentValueMaxWidth,Math.ceil(a.width)),u.currentValueHeight=Math.max(u.currentValueHeight,Math.ceil(a.height)),u.currentValueMaxLines=Math.max(u.currentValueMaxLines,n)}),u.currentValueTotalHeight=u.currentValueHeight+t.currentvalue.offset,x.remove()}u.height=u.currentValueTotalHeight+d.tickOffset+t.ticklen+d.labelOffset+u.labelHeight+t.pad.t+t.pad.b;var _="left";l.isRightAnchor(t)&&(u.lx-=u.outerLength,_="right"),l.isCenterAnchor(t)&&(u.lx-=u.outerLength/2,_="center");var w="top";l.isBottomAnchor(t)&&(u.ly-=u.height,w="bottom"),l.isMiddleAnchor(t)&&(u.ly-=u.height/2,w="middle"),u.outerLength=Math.ceil(u.outerLength),u.height=Math.ceil(u.height),u.lx=Math.round(u.lx),u.ly=Math.round(u.ly);var k={y:t.y,b:u.height*p[w],t:u.height*f[w]};"fraction"===t.lenmode?(k.l=0,k.xl=t.x-t.len*f[_],k.r=0,k.xr=t.x+t.len*p[_]):(k.x=t.x,k.l=u.outerLength*f[_],k.r=u.outerLength*p[_]),n.autoMargin(e,g(t),k)}function y(e,t,r){if(t.currentvalue.visible){var a,n,i=t._dims;switch(t.currentvalue.xanchor){case"right":a=i.inputAreaLength-d.currentValueInset-i.currentValueMaxWidth,n="left";break;case"center":a=.5*i.inputAreaLength,n="middle";break;default:a=d.currentValueInset,n="left"}var c=l.ensureSingle(e,"text",d.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":n,"data-notex":1})}),u=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof r)u+=r;else{var f=t.steps[t.active].label,p=t._gd._fullLayout.meta;p&&(f=l.templateString(f,{meta:p})),u+=f}t.currentvalue.suffix&&(u+=t.currentvalue.suffix),c.call(o.font,t.currentvalue.font).text(u).call(s.convertToTspans,t._gd);var g=s.lineCount(c),v=(i.currentValueMaxLines+1-g)*t.currentvalue.font.size*h;return s.positionText(c,a,v),c}}function x(e,t,r){l.ensureSingle(e,"rect",d.gripRectClass,function(a){a.call(A,t,e,r).style("pointer-events","all")}).attr({width:d.gripWidth,height:d.gripHeight,rx:d.gripRadius,ry:d.gripRadius}).call(i.stroke,r.bordercolor).call(i.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function b(e,t,r){var a=l.ensureSingle(e,"text",d.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1})}),n=t.step.label,i=r._gd._fullLayout.meta;return i&&(n=l.templateString(n,{meta:i})),a.call(o.font,r.font).text(n).call(s.convertToTspans,r._gd),a}function _(e,t){var r=l.ensureSingle(e,"g",d.labelsClass),n=t._dims,i=r.selectAll("g."+d.labelGroupClass).data(n.labelSteps);i.enter().append("g").classed(d.labelGroupClass,!0),i.exit().remove(),i.each(function(e){var r=a.select(this);r.call(b,e,t),o.setTranslate(r,S(t,e.fraction),d.tickOffset+t.ticklen+t.font.size*h+d.labelOffset+n.currentValueTotalHeight)})}function w(e,t,r,a,n){var i=Math.round(a*(r._stepCount-1)),o=r._visibleSteps[i]._index;o!==r.active&&k(e,t,r,o,!0,n)}function k(e,t,r,a,i,o){var l=r.active;r.active=a,c(e.layout,d.name,r).applyUpdate("active",a);var s=r.steps[r.active];t.call(M,r,o),t.call(y,r),e.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:i,previousActive:l}),s&&s.method&&i&&(t._nextMethod?(t._nextMethod.step=s,t._nextMethod.doCallback=i,t._nextMethod.doTransition=o):(t._nextMethod={step:s,doCallback:i,doTransition:o},t._nextMethodRaf=window.requestAnimationFrame(function(){var r=t._nextMethod.step;r.method&&(r.execute&&n.executeAPICommand(e,r.method,r.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function A(e,t,r){var n=r.node(),o=a.select(t);function l(){return r.data()[0]}e.on("mousedown",function(){var e=l();t.emit("plotly_sliderstart",{slider:e});var s=r.select("."+d.gripRectClass);a.event.stopPropagation(),a.event.preventDefault(),s.call(i.fill,e.activebgcolor);var c=C(e,a.mouse(n)[0]);w(t,r,e,c,!0),e._dragging=!0,o.on("mousemove",function(){var e=l(),i=C(e,a.mouse(n)[0]);w(t,r,e,i,!1)}),o.on("mouseup",function(){var e=l();e._dragging=!1,s.call(i.fill,e.bgcolor),o.on("mouseup",null),o.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function T(e,t){var r=e.selectAll("rect."+d.tickRectClass).data(t._visibleSteps),n=t._dims;r.enter().append("rect").classed(d.tickRectClass,!0),r.exit().remove(),r.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),r.each(function(e,r){var l=r%n.labelStride==0,s=a.select(this);s.attr({height:l?t.ticklen:t.minorticklen}).call(i.fill,t.tickcolor),o.setTranslate(s,S(t,r/(t._stepCount-1))-.5*t.tickwidth,(l?d.tickOffset:d.minorTickOffset)+n.currentValueTotalHeight)})}function M(e,t,r){for(var a=e.select("rect."+d.gripRectClass),n=0,i=0;i<t._stepCount;i++)if(t._visibleSteps[i]._index===t.active){n=i;break}var o=S(t,n/(t._stepCount-1));if(!t._invokingCommand){var l=a;r&&t.transition.duration>0&&(l=l.transition().duration(t.transition.duration).ease(t.transition.easing)),l.attr("transform","translate("+(o-.5*d.gripWidth)+","+t._dims.currentValueTotalHeight+")")}}function S(e,t){var r=e._dims;return r.inputAreaStart+d.stepInset+(r.inputAreaLength-2*d.stepInset)*Math.min(1,Math.max(0,t))}function C(e,t){var r=e._dims;return Math.min(1,Math.max(0,(t-d.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*d.stepInset-2*r.inputAreaStart)))}function L(e,t,r){var a=r._dims,n=l.ensureSingle(e,"rect",d.railTouchRectClass,function(a){a.call(A,t,e,r).style("pointer-events","all")});n.attr({width:a.inputAreaLength,height:Math.max(a.inputAreaWidth,d.tickOffset+r.ticklen+a.labelHeight)}).call(i.fill,r.bgcolor).attr("opacity",0),o.setTranslate(n,0,a.currentValueTotalHeight)}function z(e,t){var r=t._dims,a=r.inputAreaLength-2*d.railInset,n=l.ensureSingle(e,"rect",d.railRectClass);n.attr({width:a,height:d.railWidth,rx:d.railRadius,ry:d.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),o.setTranslate(n,d.railInset,.5*(r.inputAreaWidth-d.railWidth)+r.currentValueTotalHeight)}e.exports=function(e){var t=e._fullLayout,r=function(e,t){for(var r=e[d.name],a=[],n=0;n<r.length;n++){var i=r[n];i.visible&&(i._gd=t,a.push(i))}return a}(t,e),i=t._infolayer.selectAll("g."+d.containerClassName).data(r.length>0?[0]:[]);function l(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),n.autoMargin(e,g(t))}if(i.enter().append("g").classed(d.containerClassName,!0).style("cursor","ew-resize"),i.exit().each(function(){a.select(this).selectAll("g."+d.groupClassName).each(l)}).remove(),0!==r.length){var s=i.selectAll("g."+d.groupClassName).data(r,v);s.enter().append("g").classed(d.groupClassName,!0),s.exit().each(l).remove();for(var c=0;c<r.length;c++){var u=r[c];m(e,u)}s.each(function(t){var r=a.select(this);!function(e){var t=e._dims;t.labelSteps=[];for(var r=e._stepCount,a=0;a<r;a+=t.labelStride)t.labelSteps.push({fraction:a/(r-1),step:e._visibleSteps[a]})}(t),n.manageCommandObserver(e,t,t._visibleSteps,function(t){var a=r.data()[0];a.active!==t.index&&(a._dragging||k(e,r,a,t.index,!1,!0))}),function(e,t,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index);t.call(y,r).call(z,r).call(_,r).call(T,r).call(L,e,r).call(x,e,r);var a=r._dims;o.setTranslate(t,a.lx+r.pad.l,a.ly+r.pad.t),t.call(M,r,!1),t.call(y,r)}(e,a.select(this),t)})}}},function(e,t,r){"use strict";var a=r(0),n=r(320),i=r(351),o=r(418);e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:a.extendFlat({},n,{yaxis:i})}}},layoutAttributes:r(320),handleDefaults:r(419),calcAutorange:r(420),draw:r(421),isVisible:o.isVisible,makeData:o.makeData,autoMarginOpts:o.autoMarginOpts}},function(e,t,r){"use strict";var a=r(27),n=r(321),i=n.name;function o(e){var t=e&&e[i];return t&&t.visible}t.isVisible=o,t.makeData=function(e){var t=a.list({_fullLayout:e},"x",!0),r=e.margin,n=[];if(!e._has("gl2d"))for(var l=0;l<t.length;l++){var s=t[l];if(o(s)){n.push(s);var c=s[i];c._id=i+s._id,c._height=(e.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}e._rangeSliderData=n},t.autoMarginOpts=function(e,t){for(var r=t[i],o=1/0,l=t._counterAxes,s=0;s<l.length;s++){var c=l[s],d=a.getFromId(e,c);o=Math.min(o,d.domain[0])}r._oppBottom=o;var u="bottom"===t.side&&t._boundingBox.height||0;return r._tickHeight=u,{x:0,y:o,l:0,r:0,t:0,b:r._height+e._fullLayout.margin.b+u,pad:n.extraPad+2*r._offsetShift}}},function(e,t,r){"use strict";var a=r(0),n=r(12),i=r(27),o=r(320),l=r(351);e.exports=function(e,t,r){var s=e[r],c=t[r];if(s.rangeslider||t._requestRangeslider[c._id]){a.isPlainObject(s.rangeslider)||(s.rangeslider={});var d,u,h=s.rangeslider,f=n.newContainer(c,"rangeslider");if(_("visible")){_("bgcolor",t.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!c.isValidRange(h.range)),_("range");var p=t._subplots;if(p)for(var g=p.cartesian.filter(function(e){return e.substr(0,e.indexOf("y"))===i.name2id(r)}).map(function(e){return e.substr(e.indexOf("y"),e.length)}),v=a.simpleMap(g,i.id2name),m=0;m<v.length;m++){var y=v[m];d=h[y]||{},u=n.newContainer(f,y,"yaxis");var x,b=t[y];d.range&&b.isValidRange(d.range)&&(x="fixed"),"match"!==w("rangemode",x)&&w("range",b.range.slice())}f._input=h}}function _(e,t){return a.coerce(h,f,o,e,t)}function w(e,t){return a.coerce(d,u,l,e,t)}}},function(e,t,r){"use strict";var a=r(27).list,n=r(67).getAutoRange,i=r(321);e.exports=function(e){for(var t=a(e,"x",!0),r=0;r<t.length;r++){var o=t[r],l=o[i.name];l&&l.visible&&l.autorange&&(l._input.autorange=!0,l._input.range=l.range=n(e,o))}}},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(43),o=r(0),l=r(26),s=r(11),c=r(73),d=r(231),u=r(27),h=r(199),f=r(201),p=r(321);function g(e,t,r,a){var n=o.ensureSingle(e,"rect",p.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),i=a.borderwidth%2==0?a.borderwidth:a.borderwidth-1,s=-a._offsetShift,c=l.crispRound(t,a.borderwidth);n.attr({width:a._width+i,height:a._height+i,transform:"translate("+s+","+s+")",fill:a.bgcolor,stroke:a.bordercolor,"stroke-width":c})}function v(e,t,r,a){var n=t._fullLayout;o.ensureSingleById(n._topdefs,"clipPath",a._clipId,function(e){e.append("rect").attr({x:0,y:0})}).select("rect").attr({width:a._width,height:a._height})}function m(e,t,r,n){var s,c=t.calcdata,h=e.selectAll("g."+p.rangePlotClassName).data(r._subplotsWith,o.identity);h.enter().append("g").attr("class",function(e){return p.rangePlotClassName+" "+e}).call(l.setClipUrl,n._clipId,t),h.order(),h.exit().remove(),h.each(function(e,o){var l=a.select(this),h=0===o,f=u.getFromId(t,e,"y"),p=f._name,g=n[p],v={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:n.range.slice(),calendar:r.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};v.layout[p]={type:f.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():f.range.slice(),calendar:f.calendar},i.supplyDefaults(v);var m=v._fullLayout.xaxis,y=v._fullLayout[p];m.clearCalc(),m.setScale(),y.clearCalc(),y.setScale();var x={id:e,plotgroup:l,xaxis:m,yaxis:y,isRangePlot:!0};h?s=x:(x.mainplot="xy",x.mainplotinfo=s),d.rangePlot(t,x,function(e,t){for(var r=[],a=0;a<e.length;a++){var n=e[a],i=n[0].trace;i.xaxis+i.yaxis===t&&r.push(n)}return r}(c,e))})}function y(e,t,r,a,n){(o.ensureSingle(e,"rect",p.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",a._height).call(s.fill,p.maskColor),o.ensureSingle(e,"rect",p.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",a._height).call(s.fill,p.maskColor),"match"!==n.rangemode)&&(o.ensureSingle(e,"rect",p.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",a._width).call(s.fill,p.maskOppAxisColor),o.ensureSingle(e,"rect",p.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",a._width).style("border-top",p.maskOppBorder).call(s.fill,p.maskOppAxisColor))}function x(e,t,r,a){t._context.staticPlot||o.ensureSingle(e,"rect",p.slideBoxClassName,function(e){e.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:a._height,fill:p.slideBoxFill})}function b(e,t,r,a){var n=o.ensureSingle(e,"g",p.grabberMinClassName),i=o.ensureSingle(e,"g",p.grabberMaxClassName),l={x:0,width:p.handleWidth,rx:p.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},c={y:Math.round(a._height/4),height:Math.round(a._height/2)};if(o.ensureSingle(n,"rect",p.handleMinClassName,function(e){e.attr(l)}).attr(c),o.ensureSingle(i,"rect",p.handleMaxClassName,function(e){e.attr(l)}).attr(c),!t._context.staticPlot){var d={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:p.grabAreaCursor};o.ensureSingle(n,"rect",p.grabAreaMinClassName,function(e){e.attr(d)}).attr("height",a._height),o.ensureSingle(i,"rect",p.grabAreaMaxClassName,function(e){e.attr(d)}).attr("height",a._height)}}e.exports=function(e){for(var t=e._fullLayout,r=t._rangeSliderData,i=0;i<r.length;i++){var l=r[i][p.name];l._clipId=l._id+"-"+t._uid}var s=t._infolayer.selectAll("g."+p.containerClassName).data(r,function(e){return e._name});s.exit().each(function(e){var r=e[p.name];t._topdefs.select("#"+r._clipId).remove()}).remove(),0!==r.length&&(s.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),s.each(function(r){var i=a.select(this),l=r[p.name],s=t[u.id2name(r.anchor)],d=l[u.id2name(r.anchor)];if(l.range){var _,w=o.simpleMap(l.range,r.r2l),k=o.simpleMap(r.range,r.r2l);_=k[0]<k[1]?[Math.min(w[0],k[0]),Math.max(w[1],k[1])]:[Math.max(w[0],k[0]),Math.min(w[1],k[1])],l.range=l._input.range=o.simpleMap(_,r.l2r)}r.cleanRange("rangeslider.range");var A=t.margin,T=t._size,M=r.domain,S=l._tickHeight,C=l._oppBottom;l._width=T.w*(M[1]-M[0]);var L=Math.round(A.l+T.w*M[0]),z=Math.round(T.t+T.h*(1-C)+S+l._offsetShift+p.extraPad);i.attr("transform","translate("+L+","+z+")");var I=r.r2l(l.range[0]),P=r.r2l(l.range[1]),O=P-I;if(l.p2d=function(e){return e/l._width*O+I},l.d2p=function(e){return(e-I)/O*l._width},l._rl=[I,P],"match"!==d.rangemode){var D=s.r2l(d.range[0]),R=s.r2l(d.range[1])-D;l.d2pOppAxis=function(e){return(e-D)/R*l._height}}i.call(g,e,r,l).call(v,e,r,l).call(m,e,r,l).call(y,e,r,l,d).call(x,e,r,l).call(b,e,r,l),function(e,t,r,i){var l=e.select("rect."+p.slideBoxClassName).node(),s=e.select("rect."+p.grabAreaMinClassName).node(),c=e.select("rect."+p.grabAreaMaxClassName).node();e.on("mousedown",function(){var d=a.event,u=d.target,p=d.clientX,g=p-e.node().getBoundingClientRect().left,v=i.d2p(r._rl[0]),m=i.d2p(r._rl[1]),y=h.coverSlip();function x(e){var d,h,x,b=+e.clientX-p;switch(u){case l:x="ew-resize",d=v+b,h=m+b;break;case s:x="col-resize",d=v+b,h=m;break;case c:x="col-resize",d=v,h=m+b;break;default:x="ew-resize",d=g,h=g+b}if(h<d){var _=h;h=d,d=_}i._pixelMin=d,i._pixelMax=h,f(a.select(y),x),function(e,t,r,a){function i(e){return r.l2r(o.constrain(e,a._rl[0],a._rl[1]))}var l=i(a.p2d(a._pixelMin)),s=i(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){n.call("_guiRelayout",t,r._name+".range",[l,s])})}(0,t,r,i)}y.addEventListener("mousemove",x),y.addEventListener("mouseup",function e(){y.removeEventListener("mousemove",x);y.removeEventListener("mouseup",e);o.removeElement(y)})})}(i,e,r,l),function(e,t,r,a,n,i){var l=p.handleWidth/2;function s(e){return o.constrain(e,0,a._width)}function c(e){return o.constrain(e,0,a._height)}function d(e){return o.constrain(e,-l,a._width+l)}var u=s(a.d2p(r._rl[0])),h=s(a.d2p(r._rl[1]));if(e.select("rect."+p.slideBoxClassName).attr("x",u).attr("width",h-u),e.select("rect."+p.maskMinClassName).attr("width",u),e.select("rect."+p.maskMaxClassName).attr("x",h).attr("width",a._width-h),"match"!==i.rangemode){var f=a._height-c(a.d2pOppAxis(n._rl[1])),g=a._height-c(a.d2pOppAxis(n._rl[0]));e.select("rect."+p.maskMinOppAxisClassName).attr("x",u).attr("height",f).attr("width",h-u),e.select("rect."+p.maskMaxOppAxisClassName).attr("x",u).attr("y",g).attr("height",a._height-g).attr("width",h-u),e.select("rect."+p.slideBoxClassName).attr("y",f).attr("height",g-f)}var v=Math.round(d(u-l))-.5,m=Math.round(d(h-l))+.5;e.select("g."+p.grabberMinClassName).attr("transform","translate("+v+",0.5)"),e.select("g."+p.grabberMaxClassName).attr("transform","translate("+m+",0.5)")}(i,0,r,l,s,d),"bottom"===r.side&&c.draw(e,r._id+"title",{propContainer:r,propName:r._name+".title",placeholder:t._dfltTitle.x,attributes:{x:r._offset+r._length/2,y:z+l._height+l._offsetShift+10+1.5*r.title.font.size,"text-anchor":"middle"}})}))}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(322)}}},layoutAttributes:r(322),handleDefaults:r(423),draw:r(424)}},function(e,t,r){"use strict";var a=r(0),n=r(11),i=r(12),o=r(71),l=r(322),s=r(352);function c(e,t,r,n){var i=n.calendar;function o(r,n){return a.coerce(e,t,l.buttons,r,n)}if(o("visible")){var s=o("step");"all"!==s&&(!i||"gregorian"===i||"month"!==s&&"year"!==s?o("stepmode"):t.stepmode="backward",o("count")),o("label")}}e.exports=function(e,t,r,d,u){var h=e.rangeselector||{},f=i.newContainer(t,"rangeselector");function p(e,t){return a.coerce(h,f,l,e,t)}if(p("visible",o(h,f,{name:"buttons",handleItemDefaults:c,calendar:u}).length>0)){var g=function(e,t,r){for(var a=r.filter(function(r){return t[r].anchor===e._id}),n=0,i=0;i<a.length;i++){var o=t[a[i]].domain;o&&(n=Math.max(o[1],n))}return[e.domain[0],n+s.yPad]}(t,r,d);p("x",g[0]),p("y",g[1]),a.noneOrAll(e,t,["x","y"]),p("xanchor"),p("yanchor"),a.coerceFont(p,"font",r.font);var v=p("bgcolor");p("activecolor",n.contrast(v,s.lightAmount,s.darkAmount)),p("bordercolor"),p("borderwidth")}}},function(e,t,r){"use strict";var a=r(3),n=r(4),i=r(43),o=r(11),l=r(26),s=r(0),c=r(29),d=r(27),u=r(20),h=u.LINE_SPACING,f=u.FROM_TL,p=u.FROM_BR,g=r(352),v=r(425);function m(e){return e._id}function y(e,t,r){var a=s.ensureSingle(e,"rect","selector-rect",function(e){e.attr("shape-rendering","crispEdges")});a.attr({rx:g.rx,ry:g.ry}),a.call(o.stroke,t.bordercolor).call(o.fill,function(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}(t,r)).style("stroke-width",t.borderwidth+"px")}function x(e,t,r,a){s.ensureSingle(e,"text","selector-text",function(e){e.classed("user-select-none",!0).attr("text-anchor","middle")}).call(l.font,t.font).text(function(e,t){if(e.label)return t?s.templateString(e.label,{meta:t}):e.label;return"all"===e.step?"all":e.count+e.step.charAt(0)}(r,a._fullLayout.meta)).call(function(e){c.convertToTspans(e,a)})}e.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(function(e){for(var t=d.list(e,"x",!0),r=[],a=0;a<t.length;a++){var n=t[a];n.rangeselector&&n.rangeselector.visible&&r.push(n)}return r}(e),m);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each(function(t){var r=a.select(this),o=t,d=o.rangeselector,u=r.selectAll("g.button").data(s.filterVisible(d.buttons));u.enter().append("g").classed("button",!0),u.exit().remove(),u.each(function(t){var r=a.select(this),i=v(o,t);t._isActive=function(e,t,r){if("all"===t.step)return!0===e.autorange;var a=Object.keys(r);return e.range[0]===r[a[0]]&&e.range[1]===r[a[1]]}(o,t,i),r.call(y,d,t),r.call(x,d,t,e),r.on("click",function(){e._dragged||n.call("_guiRelayout",e,i)}),r.on("mouseover",function(){t._isHovered=!0,r.call(y,d,t)}),r.on("mouseout",function(){t._isHovered=!1,r.call(y,d,t)})}),function(e,t,r,n,o){var d=0,u=0,v=r.borderwidth;t.each(function(){var e=a.select(this),t=e.select(".selector-text"),n=r.font.size*h,i=Math.max(n*c.lineCount(t),16)+3;u=Math.max(u,i)}),t.each(function(){var e=a.select(this),t=e.select(".selector-rect"),n=e.select(".selector-text"),i=n.node()&&l.bBox(n.node()).width,o=r.font.size*h,s=c.lineCount(n),f=Math.max(i+10,g.minButtonWidth);e.attr("transform","translate("+(v+d)+","+v+")"),t.attr({x:0,y:0,width:f,height:u}),c.positionText(n,f/2,u/2-(s-1)*o/2+3),d+=f+5});var m=e._fullLayout._size,y=m.l+m.w*r.x,x=m.t+m.h*(1-r.y),b="left";s.isRightAnchor(r)&&(y-=d,b="right");s.isCenterAnchor(r)&&(y-=d/2,b="center");var _="top";s.isBottomAnchor(r)&&(x-=u,_="bottom");s.isMiddleAnchor(r)&&(x-=u/2,_="middle");d=Math.ceil(d),u=Math.ceil(u),y=Math.round(y),x=Math.round(x),i.autoMargin(e,n+"-range-selector",{x:r.x,y:r.y,l:d*f[b],r:d*p[b],b:u*p[_],t:u*f[_]}),o.attr("transform","translate("+y+","+x+")")}(e,u,d,o._name,r)})}},function(e,t,r){"use strict";var a=r(3);e.exports=function(e,t){var r=e._name,n={};if("all"===t.step)n[r+".autorange"]=!0;else{var i=function(e,t){var r,n=e.range,i=new Date(e.r2l(n[1])),o=t.step,l=t.count;switch(t.stepmode){case"backward":r=e.l2r(+a.time[o].utc.offset(i,-l));break;case"todate":var s=a.time[o].utc.offset(i,-l);r=e.l2r(+a.time[o].utc.ceil(s))}var c=n[1];return[r,c]}(e,t);n[r+".range[0]"]=i[0],n[r+".range[1]"]=i[1]}return n}},function(e,t,r){"use strict";var a=r(0),n=r(38).counter,i=r(275).attributes,o=r(28).idRegex,l=r(12),s={rows:{valType:"integer",min:1,role:"info",editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",role:"info",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,role:"info",editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[n("xy").toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.x.toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.y.toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",role:"info",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:i({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",role:"info",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",role:"info",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function c(e,t,r){var a=t[r+"axes"],n=Object.keys((e._splomAxes||{})[r]||{});return Array.isArray(a)?a:n.length?n:void 0}function d(e,t,r,a,n,i){var o=t(e+"gap",r),l=t("domain."+e);t(e+"side",a);for(var s=new Array(n),c=l[0],d=(l[1]-c)/(n-o),u=d*(1-o),h=0;h<n;h++){var f=c+d*h;s[i?n-1-h:h]=[f,f+u]}return s}function u(e,t,r,a,n){var i,o=new Array(r);function l(e,r){-1!==t.indexOf(r)&&void 0===a[r]?(o[e]=r,a[r]=e):o[e]=""}if(Array.isArray(e))for(i=0;i<r;i++)l(i,e[i]);else for(l(0,n),i=1;i<r;i++)l(i,n+(i+1));return o}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s}},layoutAttributes:s,sizeDefaults:function(e,t){var r=e.grid||{},n=c(t,r,"x"),i=c(t,r,"y");if(e.grid||n||i){var o,u,h=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),f=Array.isArray(n),p=Array.isArray(i),g=f&&n!==r.xaxes&&p&&i!==r.yaxes;h?(o=r.subplots.length,u=r.subplots[0].length):(p&&(o=i.length),f&&(u=n.length));var v=l.newContainer(t,"grid"),m=A("rows",o),y=A("columns",u);if(m*y>1){h||f||p||"independent"===A("pattern")&&(h=!0),v._hasSubplotGrid=h;var x,b,_="top to bottom"===A("roworder"),w=h?.2:.1,k=h?.3:.1;g&&t._splomGridDflt&&(x=t._splomGridDflt.xside,b=t._splomGridDflt.yside),v._domains={x:d("x",A,w,x,y),y:d("y",A,k,b,m,_)}}else delete t.grid}function A(e,t){return a.coerce(r,v,s,e,t)}},contentDefaults:function(e,t){var r=t.grid;if(r&&r._domains){var a,n,i,o,l,s,d,h=e.grid||{},f=t._subplots,p=r._hasSubplotGrid,g=r.rows,v=r.columns,m="independent"===r.pattern,y=r._axisMap={};if(p){var x=h.subplots||[];s=r.subplots=new Array(g);var b=1;for(a=0;a<g;a++){var _=s[a]=new Array(v),w=x[a]||[];for(n=0;n<v;n++)if(m?(l=1===b?"xy":"x"+b+"y"+b,b++):l=w[n],_[n]="",-1!==f.cartesian.indexOf(l)){if(d=l.indexOf("y"),i=l.slice(0,d),o=l.slice(d),void 0!==y[i]&&y[i]!==n||void 0!==y[o]&&y[o]!==a)continue;_[n]=l,y[i]=n,y[o]=a}}}else{var k=c(t,h,"x"),A=c(t,h,"y");r.xaxes=u(k,f.xaxis,v,y,"x"),r.yaxes=u(A,f.yaxis,g,y,"y")}var T=r._anchors={},M="top to bottom"===r.roworder;for(var S in y){var C,L,z,I=S.charAt(0),P=r[I+"side"];if(P.length<8)T[S]="free";else if("x"===I){if("t"===P.charAt(0)===M?(C=0,L=1,z=g):(C=g-1,L=-1,z=-1),p){var O=y[S];for(a=C;a!==z;a+=L)if((l=s[a][O])&&(d=l.indexOf("y"),l.slice(0,d)===S)){T[S]=l.slice(d);break}}else for(a=C;a!==z;a+=L)if(o=r.yaxes[a],-1!==f.cartesian.indexOf(S+o)){T[S]=o;break}}else if("l"===P.charAt(0)?(C=0,L=1,z=v):(C=v-1,L=-1,z=-1),p){var D=y[S];for(a=C;a!==z;a+=L)if((l=s[D][a])&&(d=l.indexOf("y"),l.slice(d)===S)){T[S]=l.slice(0,d);break}}else for(a=C;a!==z;a+=L)if(i=r.xaxes[a],-1!==f.cartesian.indexOf(i+S)){T[S]=i;break}}}}}},function(e,t,r){"use strict";var a=r(0),n=r(34).overrideAll,i=r(353),o={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i)};delete o.error_x.copy_zstyle,delete o.error_y.copy_zstyle,delete o.error_y.copy_ystyle;var l={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i),error_z:a.extendFlat({},i)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:o,bar:o,histogram:o,scatter3d:n(l,"calc","nested"),scattergl:n(o,"calc","nested")}},supplyDefaults:r(428),calc:r(429),makeComputeError:r(354),plot:r(430),style:r(431),hoverInfo:function(e,t,r){(t.error_y||{}).visible&&(r.yerr=e.yh-e.y,t.error_y.symmetric||(r.yerrneg=e.y-e.ys));(t.error_x||{}).visible&&(r.xerr=e.xh-e.x,t.error_x.symmetric||(r.xerrneg=e.x-e.xs))}}},function(e,t,r){"use strict";var a=r(1),n=r(4),i=r(0),o=r(12),l=r(353);e.exports=function(e,t,r,s){var c="error_"+s.axis,d=o.newContainer(t,c),u=e[c]||{};function h(e,t){return i.coerce(u,d,l,e,t)}if(!1!==h("visible",void 0!==u.array||void 0!==u.value||"sqrt"===u.type)){var f=h("type","array"in u?"data":"percent"),p=!0;"sqrt"!==f&&(p=h("symmetric",!(("data"===f?"arrayminus":"valueminus")in u))),"data"===f?(h("array"),h("traceref"),p||(h("arrayminus"),h("tracerefminus"))):"percent"!==f&&"constant"!==f||(h("value"),p||h("valueminus"));var g="copy_"+s.inherit+"style";if(s.inherit)(t["error_"+s.inherit]||{}).visible&&h(g,!(u.color||a(u.thickness)||a(u.width)));s.inherit&&d[g]||(h("color",r),h("thickness"),h("width",n.traceIs(t,"gl3d")?0:4))}}},function(e,t,r){"use strict";var a=r(1),n=r(4),i=r(63),o=r(0),l=r(354);function s(e,t,r,n){var s=t["error_"+n]||{},c=[];if(s.visible&&-1!==["linear","log"].indexOf(r.type)){for(var d=l(s),u=0;u<e.length;u++){var h=e[u],f=h.i;if(void 0===f)f=u;else if(null===f)continue;var p=h[n];if(a(r.c2l(p))){var g=d(p,f);if(a(g[0])&&a(g[1])){var v=h[n+"s"]=p-g[0],m=h[n+"h"]=p+g[1];c.push(v,m)}}}var y=r._id,x=t._extremes[y],b=i.findExtremes(r,c,o.extendFlat({tozero:x.opts.tozero},{padded:!0}));x.min=x.min.concat(b.min),x.max=x.max.concat(b.max)}}e.exports=function(e){for(var t=e.calcdata,r=0;r<t.length;r++){var a=t[r],o=a[0].trace;if(!0===o.visible&&n.traceIs(o,"errorBarsOK")){var l=i.getFromId(e,o.xaxis),c=i.getFromId(e,o.yaxis);s(a,o,l,"x"),s(a,o,c,"y")}}}},function(e,t,r){"use strict";var a=r(3),n=r(1),i=r(26),o=r(64);e.exports=function(e,t,r,l){var s=r.xaxis,c=r.yaxis,d=l&&l.duration>0;t.each(function(t){var u,h=t[0].trace,f=h.error_x||{},p=h.error_y||{};h.ids&&(u=function(e){return e.id});var g=o.hasMarkers(h)&&h.marker.maxdisplayed>0;p.visible||f.visible||(t=[]);var v=a.select(this).selectAll("g.errorbar").data(t,u);if(v.exit().remove(),t.length){f.visible||v.selectAll("path.xerror").remove(),p.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var m=v.enter().append("g").classed("errorbar",!0);d&&m.style("opacity",0).transition().duration(l.duration).style("opacity",1),i.setClipUrl(v,r.layerClipId,e),v.each(function(e){var t=a.select(this),r=function(e,t,r){var a={x:t.c2p(e.x),y:r.c2p(e.y)};void 0!==e.yh&&(a.yh=r.c2p(e.yh),a.ys=r.c2p(e.ys),n(a.ys)||(a.noYS=!0,a.ys=r.c2p(e.ys,!0)));void 0!==e.xh&&(a.xh=t.c2p(e.xh),a.xs=t.c2p(e.xs),n(a.xs)||(a.noXS=!0,a.xs=t.c2p(e.xs,!0)));return a}(e,s,c);if(!g||e.vis){var i,o=t.select("path.yerror");if(p.visible&&n(r.x)&&n(r.yh)&&n(r.ys)){var u=p.width;i="M"+(r.x-u)+","+r.yh+"h"+2*u+"m-"+u+",0V"+r.ys,r.noYS||(i+="m-"+u+",0h"+2*u),!o.size()?o=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):d&&(o=o.transition().duration(l.duration).ease(l.easing)),o.attr("d",i)}else o.remove();var h=t.select("path.xerror");if(f.visible&&n(r.y)&&n(r.xh)&&n(r.xs)){var v=(f.copy_ystyle?p:f).width;i="M"+r.xh+","+(r.y-v)+"v"+2*v+"m0,-"+v+"H"+r.xs,r.noXS||(i+="m0,-"+v+"v"+2*v),!h.size()?h=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):d&&(h=h.transition().duration(l.duration).ease(l.easing)),h.attr("d",i)}else h.remove()}})}})}},function(e,t,r){"use strict";var a=r(3),n=r(11);e.exports=function(e){e.each(function(e){var t=e[0].trace,r=t.error_y||{},i=t.error_x||{},o=a.select(this);o.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(n.stroke,r.color),i.copy_ystyle&&(i=r),o.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(n.stroke,i.color)})}},function(e,t,r){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},function(e,t,r){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},function(e,t,r){"use strict";var a=r(293),n={getDelay:a.getDelay,getRedrawFunc:a.getRedrawFunc,clone:r(355),toSVG:r(294),svgToImg:r(295),toImage:r(435),downloadImage:r(342)};e.exports=n},function(e,t,r){"use strict";var a=r(212).EventEmitter,n=r(4),i=r(0),o=r(293),l=r(355),s=r(294),c=r(295);e.exports=function(e,t){var r=new a,d=l(e,{format:"png"}),u=d.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);var h=o.getRedrawFunc(u);return n.call("plot",u,d.data,d.layout,d.config).then(h).then(function(){var e=o.getDelay(u._fullLayout);setTimeout(function(){var e=s(u),a=document.createElement("canvas");a.id=i.randstr(),(r=c({format:t.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:a,emitter:r,svg:e})).clean=function(){u&&document.body.removeChild(u)}},e)}).catch(function(e){r.emit("error",e)}),r}}]));